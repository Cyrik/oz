if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).vega={})}(this,function(t){"use strict";function n(t,n,e){return t.fields=n||[],t.fname=e,t}function e(t){return null==t?null:t.fname}function r(t){return null==t?null:t.fields}function i(t){throw Error(t)}function a(t){var n,e,r,a=[],u=null,o=0,s=t.length,l="";function c(){a.push(l+t.substring(n,e)),l="",n=e+1}for(t+="",n=e=0;e<s;++e)if("\\"===(r=t[e]))l+=t.substring(n,e),n=++e;else if(r===u)c(),u=null,o=-1;else{if(u)continue;n===o&&'"'===r?(n=e+1,u=r):n===o&&"'"===r?(n=e+1,u=r):"."!==r||o?"["===r?(e>n&&c(),o=n=e+1):"]"===r&&(o||i("Access path missing open bracket: "+t),o>0&&c(),o=0,n=e+1):e>n?c():n=e+1}return o&&i("Access path missing closing bracket: "+t),u&&i("Access path missing closing quote: "+t),e>n&&(e++,c()),a}var u=Array.isArray;function o(t){return t===Object(t)}function s(t){return"string"==typeof t}function l(t){return u(t)?"["+t.map(l)+"]":o(t)||s(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}function c(t,e){var r=a(t),i="return _["+r.map(l).join("][")+"];";return n(Function("_",i),[t=1===r.length?r[0]:t],e||t)}var f=[],h=c("id"),d=n(function(t){return t},f,"identity"),p=n(function(){return 0},f,"zero"),g=n(function(){return 1},f,"one"),m=n(function(){return!0},f,"true"),v=n(function(){return!1},f,"false");function y(t,n,e){var r=[n].concat([].slice.call(e));console[t](...r)}var x=0,_=1,b=2,w=3,A=4;function M(t,n){var e=t||x;return{level:function(t){return arguments.length?(e=+t,this):e},error:function(){return e>=_&&y(n||"error","ERROR",arguments),this},warn:function(){return e>=b&&y(n||"warn","WARN",arguments),this},info:function(){return e>=w&&y(n||"log","INFO",arguments),this},debug:function(){return e>=A&&y(n||"log","DEBUG",arguments),this}}}function k(t){return t[t.length-1]}function E(t){return null==t||""===t?null:+t}function C(t){return function(n){return t*Math.exp(n)}}function D(t){return function(n){return Math.log(t*n)}}function F(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function S(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function B(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function O(t,n,e,r){var i=e(t[0]),a=e(k(t)),u=(a-i)*n;return[r(i-u),r(a-u)]}function z(t,n){return O(t,n,E,d)}function N(t,n){var e=Math.sign(t[0]);return O(t,n,D(e),C(e))}function T(t,n,e){return O(t,n,B(e),B(1/e))}function R(t,n,e){return O(t,n,F(e),S(e))}function P(t,n,e,r,i){var a=r(t[0]),u=r(k(t)),o=null!=n?r(n):(a+u)/2;return[i(o+(a-o)*e),i(o+(u-o)*e)]}function L(t,n,e){return P(t,n,e,E,d)}function q(t,n,e){var r=Math.sign(t[0]);return P(t,n,e,D(r),C(r))}function U(t,n,e,r){return P(t,n,e,B(r),B(1/r))}function j(t,n,e,r){return P(t,n,e,F(r),S(r))}function $(t){return 1+~~(new Date(t).getMonth()/3)}function I(t){return 1+~~(new Date(t).getUTCMonth()/3)}function W(t){return null!=t?u(t)?t:[t]:[]}function H(t,n,e){var r,i=t[0],a=t[1];return a<i&&(r=a,a=i,i=r),(r=a-i)>=e-n?[n,e]:[i=Math.min(Math.max(i,n),e-r),i+r]}function Y(t){return"function"==typeof t}function G(t,e){var i,u,o,s,c,f,h,d,p,g=[],m=(t=W(t)).map(function(t,n){return null==t?null:(g.push(n),Y(t)?t:a(t).map(l).join("]["))}),v=g.length-1,y=W(e),x="var u,v;return ";if(v<0)return null;for(u=0;u<=v;++u)Y(o=m[i=g[u]])?(s="(u=this."+(f="f"+i)+"(a))",c="(v=this."+f+"(b))",(h=h||{})[f]=o):(s="(u=a["+o+"])",c="(v=b["+o+"])"),f="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==y[i]?(p=1,d=-1):(p=-1,d=1),x+="("+s+"<"+c+"||u==null)&&v!=null?"+d+":(u>v||v==null)&&u!=null?"+p+":"+f+"!==u&&v===v?"+d+":v!==v&&u===u?"+p+(i<v?":":":0");return o=Function("a","b",x+";"),h&&(o=o.bind(h)),t=t.reduce(function(t,n){return Y(n)?(r(n)||[]).forEach(function(n){t[n]=1}):null!=n&&(t[n+""]=1),t},{}),n(o,Object.keys(t))}function V(t){return Y(t)?t:function(){return t}}function X(t,n){var e,r;function i(){n(r),e=r=null}return function(n){r=n,e&&clearTimeout(e),e=setTimeout(i,t)}}function Z(t){for(var n,e,r=1,i=arguments.length;r<i;++r)for(e in n=arguments[r])t[e]=n[e];return t}function J(t,n){var e,r,i,a,u=0;if(t&&(e=t.length))if(null==n){for(r=t[u];null==r||r!=r;r=t[++u]);for(i=a=r;u<e;++u)null!=(r=t[u])&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=n(t[u]);null==r||r!=r;r=n(t[++u]));for(i=a=r;u<e;++u)null!=(r=n(t[u]))&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]}function Q(t,n){var e,r,i,a,u,o=-1,s=t.length;if(null==n){for(;++o<s;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(a=u=o;++o<s;)null!=(r=t[o])&&(e>r&&(e=r,a=o),i<r&&(i=r,u=o))}else{for(;++o<s;)if(null!=(r=n(t[o],o,t))&&r>=r){e=i=r;break}for(a=u=o;++o<s;)null!=(r=n(t[o],o,t))&&(e>r&&(e=r,a=o),i<r&&(i=r,u=o))}return[a,u]}var K={};function tt(t){var n,e,r={};function i(t){return r.hasOwnProperty(t)&&r[t]!==K}return n={size:0,empty:0,object:r,has:i,get:function(t){return i(t)?r[t]:void 0},set:function(t,e){return i(t)||(++n.size,r[t]===K&&--n.empty),r[t]=e,this},delete:function(t){return i(t)&&(--n.size,++n.empty,r[t]=K),this},clear:function(){n.size=n.empty=0,n.object=r={}},test:function(t){return arguments.length?(e=t,n):e},clean:function(){var t,i,a={},u=0;for(t in r)(i=r[t])===K||e&&e(i)||(a[t]=i,++u);n.size=u,n.empty=0,n.object=r=a}},t&&Object.keys(t).forEach(function(e){n.set(e,t[e])}),n}function nt(t,n,e,r,i,a){if(!e&&0!==e)return a;var u,o,s=t[0],l=k(t),c=+e;return l<s&&(u=s,s=l,l=u),(u=Math.abs(n-s))<(o=Math.abs(l-n))&&u<=c?r:o<=c?i:a}function et(t,n){var e=t.prototype=Object.create(n.prototype);return e.constructor=t,e}function rt(t,n,e,r){var i,a=n[0],u=n[n.length-1];return a>u&&(i=a,a=u,u=i),r=void 0===r||r,((e=void 0===e||e)?a<=t:a<t)&&(r?t<=u:t<u)}function it(t){return"boolean"==typeof t}function at(t){return"[object Date]"===Object.prototype.toString.call(t)}function ut(t){return"number"==typeof t}function ot(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function st(t,e){return t&&(t=e?W(t).map(function(t){return t.replace(/\\(.)/g,"$1")}):W(t)),n(t&&t.length?Function("_","return ''+"+t.map(function(t){return"_["+(e?l(t):a(t).map(l).join("]["))+"]"}).join("+'|'+")+";"):function(){return""},t,"key")}function lt(t,n){const e=t[0],r=k(t),i=+n;return i?1===i?r:e+i*(r-e):e}function ct(t,n,e,r){var i=n.length,a=e.length;if(!a)return n;if(!i)return e;for(var u=r||new n.constructor(i+a),o=0,s=0,l=0;o<i&&s<a;++l)u[l]=t(n[o],e[s])>0?e[s++]:n[o++];for(;o<i;++o,++l)u[l]=n[o];for(;s<a;++s,++l)u[l]=e[s];return u}function ft(t,n){for(var e="";--n>=0;)e+=t;return e}function ht(t,n,e,r){var i=e||" ",a=t+"",u=n-a.length;return u<=0?a:"left"===r?ft(i,u)+a:"center"===r?ft(i,~~(u/2))+a+ft(i,Math.ceil(u/2)):a+ft(i,u)}function dt(t){return k(t)-t[0]||0}function pt(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t}function gt(t){return ut(t)?t:at(t)?t:Date.parse(t)}function mt(t,n){return n=n||gt,null==t||""===t?null:n(t)}function vt(t){return null==t||""===t?null:t+""}function yt(t){for(var n={},e=0,r=t.length;e<r;++e)n[t[e]]=!0;return n}function xt(t,n,e,r){var i=null!=r?r:"â€¦",a=t+"",u=a.length,o=Math.max(0,n-i.length);return u<=n?a:"left"===e?i+a.slice(u-o):"center"===e?a.slice(0,Math.ceil(o/2))+i+a.slice(u-~~(o/2)):a.slice(0,o)+i}function _t(t,n,e){if(t){var r,i=0,a=t.length;if(n)for(;i<a;++i)(r=n(t[i]))&&e(r,i,t);else t.forEach(e)}}function bt(t){var n=t||d,e=[],r={};return e.add=function(t){var i=n(t);return r[i]||(r[i]=1,e.push(t)),e},e.remove=function(t){var i,a=n(t);return r[a]&&(r[a]=0,(i=e.indexOf(t))>=0&&e.splice(i,1)),e},e}async function wt(t,n){try{await n(t)}catch(n){t.error(n)}}var At=Symbol("vega_id"),Mt=1;function kt(t){return!(!t||!Et(t))}function Et(t){return t[At]}function Ct(t,n){return t[At]=n,t}function Dt(t){var n=t===Object(t)?t:{data:t};return Et(n)?n:Ct(n,Mt++)}function Ft(t){return St(t,Dt({}))}function St(t,n){for(var e in t)n[e]=t[e];return n}function Bt(t,n){return Ct(n,Et(t))}function Ot(t){return t&&t.constructor===zt}function zt(){var t=[],n=[],e=[],r=[],i=[],a=!1;return{constructor:zt,insert:function(n){for(var e=W(n),r=0,i=e.length;r<i;++r)t.push(e[r]);return this},remove:function(t){for(var e=Y(t)?r:n,i=W(t),a=0,u=i.length;a<u;++a)e.push(i[a]);return this},modify:function(t,n,r){var a={field:n,value:V(r)};return Y(t)?(a.filter=t,i.push(a)):(a.tuple=t,e.push(a)),this},encode:function(t,n){return Y(t)?i.push({filter:t,field:n}):e.push({tuple:t,field:n}),this},reflow:function(){return a=!0,this},pulse:function(u,o){var s,l,c,f,h,d,p={},g={};for(s=0,l=o.length;s<l;++s)p[Et(o[s])]=1;for(s=0,l=n.length;s<l;++s)p[Et(h=n[s])]=-1;for(s=0,l=r.length;s<l;++s)f=r[s],o.forEach(function(t){f(t)&&(p[Et(t)]=-1)});for(s=0,l=t.length;s<l;++s)d=Et(h=t[s]),p[d]?p[d]=1:u.add.push(Dt(t[s]));for(s=0,l=o.length;s<l;++s)h=o[s],p[Et(h)]<0&&u.rem.push(h);function m(t,n,e){e?t[n]=e(t):u.encode=n,a||(g[Et(t)]=t)}for(s=0,l=e.length;s<l;++s)h=(c=e[s]).tuple,f=c.field,(d=p[Et(h)])>0&&(m(h,f,c.value),u.modifies(f));for(s=0,l=i.length;s<l;++s)c=i[s],f=c.filter,o.forEach(function(t){f(t)&&p[Et(t)]>0&&m(t,c.field,c.value)}),u.modifies(c.field);if(a)u.mod=n.length||r.length?o.filter(function(t){return p[Et(t)]>0}):o.slice();else for(d in g)u.mod.push(g[d]);return u}}}var Nt="_:mod:_";function Tt(){Object.defineProperty(this,Nt,{writable:!0,value:{}})}var Rt=Tt.prototype;Rt.set=function(t,n,e,r){var i=this,a=i[t],o=i[Nt];return null!=n&&n>=0?(a[n]!==e||r)&&(a[n]=e,o[n+":"+t]=-1,o[t]=-1):(a!==e||r)&&(i[t]=e,o[t]=u(e)?1+e.length:-1),i},Rt.modified=function(t,n){var e,r=this[Nt];if(!arguments.length){for(e in r)if(r[e])return!0;return!1}if(u(t)){for(e=0;e<t.length;++e)if(r[t[e]])return!0;return!1}return null!=n&&n>=0?n+1<r[t]||!!r[n+":"+t]:!!r[t]},Rt.clear=function(){return this[Nt]={},this};var Pt=0,Lt=new Tt;function qt(t,n,e,r){this.id=++Pt,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,n&&(this._update=n),e&&this.parameters(e,r)}var Ut=qt.prototype;function jt(t){return function(n){var e=this.flags;return 0===arguments.length?!!(e&t):(this.flags=n?e|t:e&~t,this)}}Ut.targets=function(){return this._targets||(this._targets=bt(h))},Ut.set=function(t){return this.value!==t?(this.value=t,1):0},Ut.skip=jt(1),Ut.modified=jt(2),Ut.parameters=function(t,n,e){n=!1!==n;var r,a,o,s,l=this,c=l._argval=l._argval||new Tt,f=l._argops=l._argops||[],h=[];function d(t,e,r){r instanceof qt?(r!==l&&(n&&r.targets().add(l),h.push(r)),f.push({op:r,name:t,index:e})):c.set(t,e,r)}for(r in t)if(a=t[r],"pulse"===r)W(a).forEach(function(t){t instanceof qt?t!==l&&(t.targets().add(l),h.push(t)):i("Pulse parameters must be operator instances.")}),l.source=a;else if(u(a))for(c.set(r,-1,Array(o=a.length)),s=0;s<o;++s)d(r,s,a[s]);else d(r,-1,a);return this.marshall().clear(),e&&(f.initonly=!0),h},Ut.marshall=function(t){var n,e,r,i,a,u=this._argval||Lt,o=this._argops;if(o){for(e=0,r=o.length;e<r;++e)a=(i=(n=o[e]).op).modified()&&i.stamp===t,u.set(n.name,n.index,i.value,a);if(o.initonly){for(e=0;e<r;++e)(n=o[e]).op.targets().remove(this);this._argops=null,this._update=null}}return u},Ut.evaluate=function(t){var n=this._update;if(n){var e=this.marshall(t.stamp),r=n.call(this,e,t);if(e.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},Ut.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),n=0):n=this.evaluate(t),this.stamp=t.stamp,this.pulse=n||t);var n};var $t=0;function It(t,n,e){this.id=++$t,this.value=null,e&&(this.receive=e),t&&(this._filter=t),n&&(this._apply=n)}function Wt(t,n,e){return new It(t,n,e)}var Ht=It.prototype;Ht._filter=m,Ht._apply=d,Ht.targets=function(){return this._targets||(this._targets=bt(h))},Ht.consume=function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},Ht.receive=function(t){if(this._filter(t)){for(var n=this.value=this._apply(t),e=this._targets,r=e?e.length:0,i=0;i<r;++i)e[i].receive(n);this._consume&&(t.preventDefault(),t.stopPropagation())}},Ht.filter=function(t){var n=Wt(t);return this.targets().add(n),n},Ht.apply=function(t){var n=Wt(null,t);return this.targets().add(n),n},Ht.merge=function(){var t=Wt();this.targets().add(t);for(var n=0,e=arguments.length;n<e;++n)arguments[n].targets().add(t);return t},Ht.throttle=function(t){var n=-1;return this.filter(function(){var e=Date.now();return e-n>t?(n=e,1):0})},Ht.debounce=function(t){var n=Wt();return this.targets().add(Wt(null,null,X(t,function(t){var e=t.dataflow;n.receive(t),e&&e.run&&e.run()}))),n},Ht.between=function(t,n){var e=!1;return t.targets().add(Wt(null,null,function(){e=!0})),n.targets().add(Wt(null,null,function(){e=!1})),this.filter(function(){return e})};var Yt=/^([A-Za-z]+:)?\/\//,Gt="file://";async function Vt(t,n){const e=await this.sanitize(t,n),r=e.href;return e.localFile?this.file(r):this.http(r,n)}async function Xt(t,n){n=Z({},this.options,n);const e=this.fileAccess,r={href:null};let a,u,o,s;return null!=t&&"string"==typeof t||i("Sanitize failure, invalid URI: "+l(t)),u=Yt.test(t),(s=n.baseURL)&&!u&&(t.startsWith("/")||"/"===s[s.length-1]||(t="/"+t),t=s+t),o=(a=t.startsWith(Gt))||"file"===n.mode||"http"!==n.mode&&!u&&e,a?t=t.slice(Gt.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,n.target&&(r.target=n.target+""),n.rel&&(r.rel=n.rel+""),r}function Zt(t){return t?function(n){return new Promise(function(e,r){t.readFile(n,function(t,n){t?r(t):e(n)})})}:Jt}async function Jt(){i("No file system access.")}function Qt(t){return t?async function(n,e){const r=Z({},this.options.http,e),a=e&&e.response,u=await t(n,r);return u.ok?Y(u[a])?u[a]():u.text():i(u.status+""+u.statusText)}:Kt}async function Kt(){i("No HTTP fetch method available.")}var tn={boolean:pt,integer:E,number:E,date:mt,string:vt,unknown:d},nn=[function(t){return"true"===t||"false"===t||!0===t||!1===t},function(t){return un(t)&&(t=+t)==~~t},un,function(t){return!isNaN(Date.parse(t))}],en=["boolean","integer","number","date"];function rn(t,n){if(!t||!t.length)return"unknown";var e,r,i,a,u=0,o=t.length,s=nn.length,l=nn.map(function(t,n){return n+1});for(r=0,o=t.length;r<o;++r)for(e=n?t[r][n]:t[r],i=0;i<s;++i)if(l[i]&&(null!=(a=e)&&a==a)&&!nn[i](e)&&(l[i]=0,++u===nn.length))return"string";return u=l.reduce(function(t,n){return 0===t?n:t},0)-1,en[u]}function an(t,n){return n.reduce(function(n,e){return n[e]=rn(t,e),n},{})}function un(t){return!(isNaN(+t)||t instanceof Date)}var on={},sn={},ln=34,cn=10,fn=13;function hn(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function dn(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function pn(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function gn(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+pn(-n,6):n>9999?"+"+pn(n,6):pn(n,4))+"-"+pn(t.getUTCMonth()+1,2)+"-"+pn(t.getUTCDate(),2)+(a?"T"+pn(e,2)+":"+pn(r,2)+":"+pn(i,2)+"."+pn(a,3)+"Z":i?"T"+pn(e,2)+":"+pn(r,2)+":"+pn(i,2)+"Z":r||e?"T"+pn(e,2)+":"+pn(r,2)+"Z":"")}function mn(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],a=t.length,u=0,o=0,s=a<=0,l=!1;function c(){if(s)return sn;if(l)return l=!1,on;var n,r,i=u;if(t.charCodeAt(i)===ln){for(;u++<a&&t.charCodeAt(u)!==ln||t.charCodeAt(++u)===ln;);return(n=u)>=a?s=!0:(r=t.charCodeAt(u++))===cn?l=!0:r===fn&&(l=!0,t.charCodeAt(u)===cn&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<a;){if((r=t.charCodeAt(n=u++))===cn)l=!0;else if(r===fn)l=!0,t.charCodeAt(u)===cn&&++u;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===cn&&--a,t.charCodeAt(a-1)===fn&&--a;(r=c())!==sn;){for(var f=[];r!==on&&r!==sn;)f.push(r),r=c();n&&null==(f=n(f,o++))||i.push(f)}return i}function i(n,e){return n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})}function a(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?gn(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,a=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=hn(t);return function(r,i){return n(e(r),i,t)}}(t,n):hn(t)});return a.columns=i||[],a},parseRows:r,format:function(n,e){return null==e&&(e=dn(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=dn(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(a).join("\n")}}}mn(","),mn("\t");function vn(t){const n=function(n,e){const r={delimiter:t};return yn(n,e?Z(e,r):r)};return n.responseType="text",n}function yn(t,n){return n.header&&(t=n.header.map(l).join(n.delimiter)+"\n"+t),mn(n.delimiter).parse(t+"")}function xn(t,n){const e=n&&n.property?c(n.property):d;return!o(t)||(r=t,"function"==typeof Buffer&&Y(Buffer.isBuffer)&&Buffer.isBuffer(r))?e(JSON.parse(t)):function(t,n){return n&&n.copy?JSON.parse(JSON.stringify(t)):t}(e(t));var r}function _n(t){return t}function bn(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return wn(t,n)})}:wn(t,n)}function wn(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,a=An(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:r,properties:i,geometry:a}}function An(t,n){var e=function(t){if(null==t)return _n;var n,e,r=t.scale[0],i=t.scale[1],a=t.translate[0],u=t.translate[1];return function(t,o){o||(n=e=0);var s=2,l=t.length,c=new Array(l);for(c[0]=(n+=t[0])*r+a,c[1]=(e+=t[1])*i+u;s<l;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],a=0,u=i.length;a<u;++a)n.push(e(i[a],a));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,u)}function a(t){return e(t)}function u(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function o(t){for(var n=u(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(o)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=a(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(a);break;case"LineString":e=u(n.arcs);break;case"MultiLineString":e=n.arcs.map(u);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}function Mn(t,n){var e={},r={},i={},a=[],u=-1;function o(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){e[t<0?~t:t]=1}),a.push(i)}}return n.forEach(function(e,r){var i,a=t.arcs[e<0?~e:e];a.length<3&&!a[1][0]&&!a[1][1]&&(i=n[++u],n[u]=e,n[r]=i)}),n.forEach(function(n){var e,a,u=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),o=u[0],s=u[1];if(e=i[o])if(delete i[e.end],e.push(n),e.end=s,a=r[s]){delete r[a.start];var l=a===e?e:e.concat(a);r[l.start=e.start]=i[l.end=a.end]=l}else r[e.start]=i[e.end]=e;else if(e=r[s])if(delete r[e.start],e.unshift(n),e.start=o,a=i[o]){delete i[a.end];var c=a===e?e:a.concat(e);r[c.start=a.start]=i[c.end=e.end]=c}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=o]=i[e.end=s]=e}),o(i,r),o(r,i),n.forEach(function(t){e[t<0?~t:t]||a.push([t])}),a}function kn(t){return An(t,function(t,n,e){var r,i,a;if(arguments.length>1)r=function(t,n,e){var r,i=[],a=[];function u(t){var n=t<0?~t:t;(a[n]||(a[n]=[])).push({i:t,g:r})}function o(t){t.forEach(u)}function s(t){t.forEach(o)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":o(n.arcs);break;case"MultiLineString":case"Polygon":s(n.arcs);break;case"MultiPolygon":n.arcs.forEach(s)}}(n),a.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Mn(t,r)}}.apply(this,arguments))}yn.responseType="text",xn.responseType="json";const En={interior:(t,n)=>t!==n,exterior:(t,n)=>t===n};function Cn(t,n){let e,r,a,u;return t=xn(t,n),n&&n.feature?(e=bn,a=n.feature):n&&n.mesh?(e=kn,a=n.mesh,u=En[n.filter]):i("Missing TopoJSON feature or mesh parameter."),(r=(r=t.objects[a])?e(t,r,u):i("Invalid TopoJSON object: "+a))&&r.features||[r]}Cn.responseType="json";const Dn={dsv:yn,csv:vn(","),tsv:vn("\t"),json:xn,topojson:Cn};function Fn(t,n){return arguments.length>1?(Dn[t]=n,this):Dn.hasOwnProperty(t)?Dn[t]:null}function Sn(t){const n=Fn(t);return n&&n.responseType||"text"}var Bn=new Date,On=new Date;function zn(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var u,o=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r&&a>0))return o;do{o.push(u=new Date(+e)),n(e,a),t(e)}while(u<e&&e<r);return o},i.filter=function(e){return zn(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Bn.setTime(+n),On.setTime(+r),t(Bn),t(On),Math.floor(e(Bn,On))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Nn=zn(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Nn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?zn(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Nn:null};var Tn=6e4,Rn=6048e5,Pn=zn(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Ln=zn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+n*Tn)},function(t,n){return(n-t)/Tn},function(t){return t.getMinutes()}),qn=zn(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Tn)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Un=zn(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/864e5},function(t){return t.getDate()-1});function jn(t){return zn(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/Rn})}var $n=jn(0),In=jn(1),Wn=(jn(2),jn(3),jn(4)),Hn=(jn(5),jn(6),zn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Yn=zn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Yn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zn(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Gn=zn(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Tn)},function(t,n){return(n-t)/Tn},function(t){return t.getUTCMinutes()}),Vn=zn(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),Xn=zn(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function Zn(t){return zn(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Rn})}var Jn=Zn(0),Qn=Zn(1),Kn=(Zn(2),Zn(3),Zn(4)),te=(Zn(5),Zn(6),zn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),ne=zn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function ee(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function re(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ie(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}ne.every=function(t){return isFinite(t=Math.floor(t))&&t>0?zn(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var ae,ue,oe,se,le,ce={"-":"",_:" ",0:"0"},fe=/^\s*\d+/,he=/^%/,de=/[\\^$*+?|[\]().{}]/g;function pe(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function ge(t){return t.replace(de,"\\$&")}function me(t){return new RegExp("^(?:"+t.map(ge).join("|")+")","i")}function ve(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ye(t,n,e){var r=fe.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function xe(t,n,e){var r=fe.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function _e(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function be(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function we(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ae(t,n,e){var r=fe.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Me(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ke(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ee(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ce(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function De(t,n,e){var r=fe.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Fe(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Se(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Be(t,n,e){var r=fe.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Oe(t,n,e){var r=fe.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ze(t,n,e){var r=fe.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ne(t,n,e){var r=he.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Te(t,n,e){var r=fe.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Re(t,n,e){var r=fe.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Pe(t,n){return pe(t.getDate(),n,2)}function Le(t,n){return pe(t.getHours(),n,2)}function qe(t,n){return pe(t.getHours()%12||12,n,2)}function Ue(t,n){return pe(1+Un.count(Yn(t),t),n,3)}function je(t,n){return pe(t.getMilliseconds(),n,3)}function $e(t,n){return je(t,n)+"000"}function Ie(t,n){return pe(t.getMonth()+1,n,2)}function We(t,n){return pe(t.getMinutes(),n,2)}function He(t,n){return pe(t.getSeconds(),n,2)}function Ye(t){var n=t.getDay();return 0===n?7:n}function Ge(t,n){return pe($n.count(Yn(t),t),n,2)}function Ve(t,n){var e=t.getDay();return t=e>=4||0===e?Wn(t):Wn.ceil(t),pe(Wn.count(Yn(t),t)+(4===Yn(t).getDay()),n,2)}function Xe(t){return t.getDay()}function Ze(t,n){return pe(In.count(Yn(t),t),n,2)}function Je(t,n){return pe(t.getFullYear()%100,n,2)}function Qe(t,n){return pe(t.getFullYear()%1e4,n,4)}function Ke(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+pe(n/60|0,"0",2)+pe(n%60,"0",2)}function tr(t,n){return pe(t.getUTCDate(),n,2)}function nr(t,n){return pe(t.getUTCHours(),n,2)}function er(t,n){return pe(t.getUTCHours()%12||12,n,2)}function rr(t,n){return pe(1+Xn.count(ne(t),t),n,3)}function ir(t,n){return pe(t.getUTCMilliseconds(),n,3)}function ar(t,n){return ir(t,n)+"000"}function ur(t,n){return pe(t.getUTCMonth()+1,n,2)}function or(t,n){return pe(t.getUTCMinutes(),n,2)}function sr(t,n){return pe(t.getUTCSeconds(),n,2)}function lr(t){var n=t.getUTCDay();return 0===n?7:n}function cr(t,n){return pe(Jn.count(ne(t),t),n,2)}function fr(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Kn(t):Kn.ceil(t),pe(Kn.count(ne(t),t)+(4===ne(t).getUTCDay()),n,2)}function hr(t){return t.getUTCDay()}function dr(t,n){return pe(Qn.count(ne(t),t),n,2)}function pr(t,n){return pe(t.getUTCFullYear()%100,n,2)}function gr(t,n){return pe(t.getUTCFullYear()%1e4,n,4)}function mr(){return"+0000"}function vr(){return"%"}function yr(t){return+t}function xr(t){return Math.floor(+t/1e3)}function _r(t){return ae=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,o=t.months,s=t.shortMonths,l=me(i),c=ve(i),f=me(a),h=ve(a),d=me(u),p=ve(u),g=me(o),m=ve(o),v=me(s),y=ve(s),x={a:function(t){return u[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:Pe,e:Pe,f:$e,H:Le,I:qe,j:Ue,L:je,m:Ie,M:We,p:function(t){return i[+(t.getHours()>=12)]},Q:yr,s:xr,S:He,u:Ye,U:Ge,V:Ve,w:Xe,W:Ze,x:null,X:null,y:Je,Y:Qe,Z:Ke,"%":vr},_={a:function(t){return u[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:tr,e:tr,f:ar,H:nr,I:er,j:rr,L:ir,m:ur,M:or,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:yr,s:xr,S:sr,u:lr,U:cr,V:fr,w:hr,W:dr,x:null,X:null,y:pr,Y:gr,Z:mr,"%":vr},b={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return M(t,n,e,r)},d:Ce,e:Ce,f:ze,H:Fe,I:Fe,j:De,L:Oe,m:Ee,M:Se,p:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.p=c[r[0].toLowerCase()],e+r[0].length):-1},Q:Te,s:Re,S:Be,u:xe,U:_e,V:be,w:ye,W:we,x:function(t,n,r){return M(t,e,n,r)},X:function(t,n,e){return M(t,r,n,e)},y:Me,Y:Ae,Z:ke,"%":Ne};function w(t,n){return function(e){var r,i,a,u=[],o=-1,s=0,l=t.length;for(e instanceof Date||(e=new Date(+e));++o<l;)37===t.charCodeAt(o)&&(u.push(t.slice(s,o)),null!=(i=ce[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),u.push(r),s=o+1);return u.push(t.slice(s,o)),u.join("")}}function A(t,n){return function(e){var r,i,a=ie(1900);if(M(a,t,e+="",0)!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=re(ie(a.y))).getUTCDay(),r=i>4||0===i?Qn.ceil(r):Qn(r),r=Xn.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=n(ie(a.y))).getDay(),r=i>4||0===i?In.ceil(r):In(r),r=Un.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?re(ie(a.y)).getUTCDay():n(ie(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,re(a)):n(a)}}function M(t,n,e,r){for(var i,a,u=0,o=n.length,s=e.length;u<o;){if(r>=s)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(a=b[i in ce?n.charAt(u++):i])||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return x.x=w(e,x),x.X=w(r,x),x.c=w(n,x),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",x);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",ee);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,re);return n.toString=function(){return t},n}}}(t),ue=ae.format,oe=ae.parse,se=ae.utcFormat,le=ae.utcParse,ae}_r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||se("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||le("%Y-%m-%dT%H:%M:%S.%LZ");function br(t,n,e){const r=Fn((n=n||{}).type||"json");return r||i("Unknown data format type: "+n.type),t=r(t,n),n.parse&&function(t,n,e){if(!t.length)return;e=e||oe;var r,i,a,u,o,s,l,c=t.columns||Object.keys(t[0]);"auto"===n&&(n=an(t,c));for(c=Object.keys(n),r=c.map(function(t){var r,i,a=n[t];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return("'"===(i=(r=a.split(/:(.+)?/,2))[1])[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?le(i):e(i);if(!tn[a])throw Error("Illegal format pattern: "+t+":"+a);return tn[a]}),u=0,s=t.length,l=c.length;u<s;++u)for(i=t[u],o=0;o<l;++o)a=c[o],i[a]=r[o](i[a])}(t,n.parse,e),t.hasOwnProperty("columns")&&delete t.columns,t}var wr=function(t,n){return function(e){return{options:e||{},sanitize:Xt,load:Vt,fileAccess:!!n,file:Zt(n),http:Qt(t)}}}("undefined"!=typeof fetch&&fetch,null);const Ar=br;var Mr={skip:!0};function kr(t,n,e,r,i,a){var u,o,s=Z({},a,Mr);Y(e)||(e=V(e)),void 0===r?u=(n=>t.touch(e(n))):Y(r)?(o=new qt(null,r,i,!1),u=(n=>{o.evaluate(n);const r=e(n),i=o.value;Ot(i)?t.pulse(r,i,a):t.update(r,i,s)})):u=(n=>t.update(e(n),r,s)),n.apply(u)}function Er(t,n,e,r,i,a){if(void 0===r)n.targets().add(e);else{const u=a||{},o=new qt(null,function(t,n){return n=Y(n)?n:V(n),t?function(e,r){const i=n(e,r);return t.skip()||(t.skip(i!==this.value).value=i),i}:n}(e,r),i,!1);o.modified(u.force),o.rank=n.rank,n.targets().add(o),e&&(o.skip(!0),o.value=e.value,o.targets().add(e),t.connect(e,[o]))}}var Cr={};function Dr(t,n,e){this.dataflow=t,this.stamp=null==n?-1:n,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=e||null}var Fr=Dr.prototype;function Sr(t,n){return t?function(e,r){return t(e,r)&&n(e,r)}:n}function Br(t,n){var e=[];return _t(t,n,function(t){e.push(t)}),e}function Or(t,n){var e={};return t.visit(n,function(t){e[Et(t)]=1}),function(t){return e[Et(t)]?null:t}}function zr(t,n,e,r){var i,a,u,o,s,l=this,c=0;for(this.dataflow=t,this.stamp=n,this.fields=null,this.encode=r||null,this.pulses=e,u=0,o=e.length;u<o;++u)if((i=e[u]).stamp===n){if(i.fields)for(s in a=l.fields||(l.fields={}),i.fields)a[s]=1;i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}Fr.StopPropagation=Cr,Fr.ADD=1,Fr.REM=2,Fr.MOD=4,Fr.ADD_REM=3,Fr.ADD_MOD=5,Fr.ALL=7,Fr.REFLOW=8,Fr.SOURCE=16,Fr.NO_SOURCE=32,Fr.NO_FIELDS=64,Fr.fork=function(t){return new Dr(this.dataflow).init(this,t)},Fr.clone=function(){var t=this.fork(7);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(23)},Fr.addAll=function(){var t=this;return this.source&&this.source.length!==this.add.length?((t=new Dr(this.dataflow).init(this)).add=t.source,t):t},Fr.init=function(t,n){var e=this;return e.stamp=t.stamp,e.encode=t.encode,!t.fields||64&n||(e.fields=t.fields),1&n?(e.addF=t.addF,e.add=t.add):(e.addF=null,e.add=[]),2&n?(e.remF=t.remF,e.rem=t.rem):(e.remF=null,e.rem=[]),4&n?(e.modF=t.modF,e.mod=t.mod):(e.modF=null,e.mod=[]),32&n?(e.srcF=null,e.source=null):(e.srcF=t.srcF,e.source=t.source),e},Fr.runAfter=function(t){this.dataflow.runAfter(t)},Fr.changed=function(t){var n=t||7;return 1&n&&this.add.length||2&n&&this.rem.length||4&n&&this.mod.length},Fr.reflow=function(t){if(t)return this.fork(7).reflow();var n=this.add.length,e=this.source&&this.source.length;return e&&e!==n&&(this.mod=this.source,n&&this.filter(4,Or(this,1))),this},Fr.modifies=function(t){var n=W(t),e=this.fields||(this.fields={});return n.forEach(function(t){e[t]=!0}),this},Fr.modified=function(t){var n=this.fields;return!(!this.mod.length||!n)&&(arguments.length?u(t)?t.some(function(t){return n[t]}):n[t]:!!n)},Fr.filter=function(t,n){var e=this;return 1&t&&(e.addF=Sr(e.addF,n)),2&t&&(e.remF=Sr(e.remF,n)),4&t&&(e.modF=Sr(e.modF,n)),16&t&&(e.srcF=Sr(e.srcF,n)),e},Fr.materialize=function(t){var n=this;return 1&(t=t||7)&&n.addF&&(n.add=Br(n.add,n.addF),n.addF=null),2&t&&n.remF&&(n.rem=Br(n.rem,n.remF),n.remF=null),4&t&&n.modF&&(n.mod=Br(n.mod,n.modF),n.modF=null),16&t&&n.srcF&&(n.source=n.source.filter(n.srcF),n.srcF=null),n},Fr.visit=function(t,n){var e,r,i=this,a=n;return 16&t?(_t(i.source,i.srcF,a),i):(1&t&&_t(i.add,i.addF,a),2&t&&_t(i.rem,i.remF,a),4&t&&_t(i.mod,i.modF,a),8&t&&(e=i.source)&&((r=i.add.length+i.mod.length)===e.length||_t(e,r?Or(i,5):i.srcF,a)),i)};var Nr=et(zr,Dr);function Tr(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}Nr.fork=function(t){var n=new Dr(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&n.ADD&&this.visit(n.ADD,function(t){return n.add.push(t)}),t&n.REM&&this.visit(n.REM,function(t){return n.rem.push(t)}),t&n.MOD&&this.visit(n.MOD,function(t){return n.mod.push(t)})),n},Nr.changed=function(t){return this.changes&t},Nr.modified=function(t){var n=this,e=n.fields;return e&&n.changes&n.MOD?u(t)?t.some(function(t){return e[t]}):e[t]:0},Nr.filter=function(){i("MultiPulse does not support filtering.")},Nr.materialize=function(){i("MultiPulse does not support materialization.")},Nr.visit=function(t,n){var e=this,r=e.pulses,i=r.length,a=0;if(t&e.SOURCE)for(;a<i;++a)r[a].visit(t,n);else for(;a<i;++a)r[a].stamp===e.stamp&&r[a].visit(t,n);return e};var Rr={skip:!1,force:!1};function Pr(t){var n=[];return{size:()=>n.length,peek:()=>n[0],push:e=>(n.push(e),Lr(n,0,n.length-1,t)),pop:()=>{var e,r=n.pop();return n.length?(e=n[0],n[0]=r,function(t,n,e){var r,i=n,a=t.length,u=t[n],o=1+(n<<1);for(;o<a;)(r=o+1)<a&&e(t[o],t[r])>=0&&(o=r),t[n]=t[o],o=1+((n=o)<<1);t[n]=u,Lr(t,i,n,e)}(n,0,t)):e=r,e}}}function Lr(t,n,e,r){var i,a,u;for(i=t[e];e>n&&r(i,a=t[u=e-1>>1])<0;)t[e]=a,e=u;return t[e]=i}function qr(){this.logger(M()),this.logLevel(_),this._clock=0,this._rank=0;try{this._loader=wr()}catch(t){}this._touched=bt(h),this._pulses={},this._pulse=null,this._heap=Pr((t,n)=>t.qrank-n.qrank),this._postrun=[]}var Ur=qr.prototype;function jr(t){return function(){return this._log[t].apply(this,arguments)}}function $r(t,n){qt.call(this,t,null,n)}Ur.stamp=function(){return this._clock},Ur.loader=function(t){return arguments.length?(this._loader=t,this):this._loader},Ur.cleanThreshold=1e4,Ur.add=function(t,n,e,r){var i,a=1;return t instanceof qt?i=t:t&&t.prototype instanceof qt?i=new t:Y(t)?i=new qt(null,t):(a=0,i=new qt(t,n)),this.rank(i),a&&(r=e,e=n),e&&this.connect(i,i.parameters(e,r)),this.touch(i),i},Ur.connect=function(t,n){var e,r,i=t.rank;for(e=0,r=n.length;e<r;++e)if(i<n[e].rank)return void this.rerank(t)},Ur.rank=function(t){t.rank=++this._rank},Ur.rerank=function(t){for(var n,e,r,a=[t];a.length;)if(this.rank(n=a.pop()),e=n._targets)for(r=e.length;--r>=0;)a.push(n=e[r]),n===t&&i("Cycle detected in dataflow graph.")},Ur.pulse=function(t,n,e){this.touch(t,e||Rr);var r=new Dr(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._pulses[t.id]=n.pulse(r,i),this},Ur.touch=function(t,n){var e=n||Rr;return this._pulse?this._enqueue(t):this._touched.add(t),e.skip&&t.skip(!0),this},Ur.update=function(t,n,e){var r=e||Rr;return(t.set(n)||r.force)&&this.touch(t,r),this},Ur.changeset=zt,Ur.ingest=function(t,n,e){return this.pulse(t,this.changeset().insert(Ar(n,e)))},Ur.parse=Ar,Ur.preload=async function(t,n,e){const r=this,i=r._pending||function(t){var n,e=new Promise(function(t){n=t});return e.requests=0,e.done=function(){0==--e.requests&&(t._pending=null,n(t))},t._pending=e}(r);i.requests+=1;const a=await r.request(n,e);return r.pulse(t,r.changeset().remove(m).insert(a.data||[])),i.done(),a},Ur.request=async function(t,n){const e=this;let r,i=0;try{r=await e.loader().load(t,{context:"dataflow",response:Sn(n&&n.type)});try{r=Ar(r,n)}catch(n){i=-2,e.warn("Data ingestion failed",t,n)}}catch(n){i=-1,e.warn("Loading failed",t,n)}return{data:r,status:i}},Ur.events=function(t,n,e,r){for(var i,a=this,u=Wt(e,r),o=function(t){t.dataflow=a;try{u.receive(t)}catch(t){a.error(t)}finally{a.run()}},s=0,l=(i="string"==typeof t&&"undefined"!=typeof document?document.querySelectorAll(t):W(t)).length;s<l;++s)i[s].addEventListener(n,o);return u},Ur.on=function(t,n,e,r,i){return(t instanceof qt?Er:kr)(this,t,n,e,r,i),this},Ur.evaluate=async function(t,n,e){const r=this,i=r.logLevel();if(r._pulse)return Tr(r);if(r._pending&&await r._pending,n&&await wt(r,n),!r._touched.length)return r.info("Dataflow invoked, but nothing to do."),r;let a,u,o,s,l=++r._clock,c=0;r._pulse=new Dr(r,l,t),i>=w&&(o=Date.now(),r.debug("-- START PROPAGATION ("+l+") -----")),r._touched.forEach(function(t){r._enqueue(t,!0)}),r._touched=bt(h);try{for(;r._heap.size()>0;)(a=r._heap.pop()).rank===a.qrank?((u=a.run(r._getPulse(a,t))).then&&(u=await u),i>=A&&r.debug(a.id,u===Cr?"STOP":u,a),u!==Cr&&(r._pulse=u,a._targets&&a._targets.forEach(t=>r._enqueue(t))),++c):r._enqueue(a,!0)}catch(t){s=t}if(r._pulses={},r._pulse=null,i>=w&&(o=Date.now()-o,r.info("> Pulse "+l+": "+c+" operators; "+o+"ms")),s&&(r._postrun=[],r.error(s)),r._postrun.length){const t=r._postrun.sort((t,n)=>n.priority-t.priority);r._postrun=[];for(let n=0;n<t.length;++n)await wt(r,t[n].callback)}return e&&await wt(r,e),r},Ur.run=function(t,n,e){return this._pulse?Tr(this):(this.evaluate(t,n,e),this)},Ur.runAsync=async function(t,n,e){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(t,n,e)).then(r,r),this._running},Ur.runAfter=function(t,n,e){if(this._pulse||n)this._postrun.push({priority:e||0,callback:t});else try{t(this)}catch(t){this.error(t)}},Ur._enqueue=function(t,n){var e=!this._pulses[t.id];e&&(this._pulses[t.id]=this._pulse),(e||n)&&(t.qrank=t.rank,this._heap.push(t))},Ur._getPulse=function(t,n){var e,r=t.source,i=this._clock;return r&&u(r)?new zr(this,i,e=r.map(function(t){return t.pulse}),n):(e=this._pulses[t.id],r&&((r=r.pulse)&&r!==Cr?r.stamp===i&&e.target!==t?e=r:e.source=r.source:e.source=[]),e)},Ur.logger=function(t){return arguments.length?(this._log=t,this):this._log},Ur.error=jr("error"),Ur.warn=jr("warn"),Ur.info=jr("info"),Ur.debug=jr("debug"),Ur.logLevel=jr("level");var Ir=et($r,qt);Ir.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):n=this.evaluate(t),n=n||t,this.stamp=t.stamp,n.then?n=n.then(t=>this.pulse=t):n!==t.StopPropagation&&(this.pulse=n),n);var n},Ir.evaluate=function(t){var n=this.marshall(t.stamp),e=this.transform(n,t);return n.clear(),e},Ir.transform=function(){};var Wr={};function Hr(t){var n=Yr(t);return n&&n.Definition||null}function Yr(t){return t=t&&t.toLowerCase(),Wr.hasOwnProperty(t)?Wr[t]:null}function Gr(t){return t&&t.length?1===t.length?t[0]:(n=t,function(t){for(var e=n.length,r=1,i=String(n[0](t));r<e;++r)i+="|"+n[r](t);return i}):function(){return""};var n}function Vr(t,n,e){return e||t+(n?"_"+n:"")}var Xr={values:Qr({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:Qr({name:"count",set:"cell.num"}),__count__:Qr({name:"count",set:"this.missing + this.valid"}),missing:Qr({name:"missing",set:"this.missing"}),valid:Qr({name:"valid",set:"this.valid"}),sum:Qr({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:Qr({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:Qr({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:Qr({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:Qr({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:Qr({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:Qr({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:Qr({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:Qr({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:Qr({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:Qr({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:Qr({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:Qr({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:Qr({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:Qr({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:Qr({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:Qr({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:Qr({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Zr=Object.keys(Xr);function Jr(t,n){return Xr[t](n)}function Qr(t){return function(n){var e=Z({init:"",add:"",rem:"",idx:0},t);return e.out=n||t.name,e}}function Kr(t,n){return t.idx-n.idx}function ti(t,n){var e=n||d,r=function(t,n){var e,r=t.reduce(function t(e,r){function i(n){e[n]||t(e,e[n]=Xr[n]())}return r.req&&r.req.forEach(i),n&&r.str&&r.str.forEach(i),e},t.reduce(function(t,n){return t[n.name]=n,t},{})),i=[];for(e in r)i.push(r[e]);return i.sort(Kr)}(t,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",u="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",o="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",s="var cell = this.cell;";return r.forEach(function(t){i+=t.init,u+=t.add,o+=t.rem}),t.slice().sort(Kr).forEach(function(t){s+="t['"+t.out+"']="+t.set+";"}),s+="return t;",(a=Function("cell",a)).prototype.init=Function(i),a.prototype.add=Function("v","t",u),a.prototype.rem=Function("v","t",o),a.prototype.set=Function("t",s),a.prototype.get=e,a.fields=t.map(function(t){return t.out}),a}function ni(t){var n,e,r,i,a,u,o,s,l=t.maxbins||20,c=t.base||10,f=Math.log(c),h=t.divide||[5,2],d=t.extent[0],p=t.extent[1],g=p-d||Math.abs(d)||1;if(t.step)n=t.step;else if(t.steps){for(a=g/l,u=0,o=t.steps.length;u<o&&t.steps[u]<a;++u);n=t.steps[Math.max(0,u-1)]}else{for(e=Math.ceil(Math.log(l)/f),r=t.minstep||0,n=Math.max(r,Math.pow(c,Math.round(Math.log(g)/f)-e));Math.ceil(g/n)>l;)n*=c;for(u=0,o=h.length;u<o;++u)(a=n/h[u])>=r&&g/a<=l&&(n=a)}return i=(a=Math.log(n))>=0?0:1+~~(-a/f),s=Math.pow(c,-i-1),(t.nice||void 0===t.nice)&&(d=d<(a=Math.floor(d/n+s)*n)?a-n:a,p=Math.ceil(p/n)*n),{start:d,stop:p===d?d+n:p,step:n}}function*ei(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}function ri(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ii(t){var n;return 1===t.length&&(n=t,t=function(t,e){return ri(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}}t.random=Math.random;var ai=ii(ri),ui=ai.right,oi=ai.left;function si(t,n){let e,r;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e?e=r=n:(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&a>=a&&(void 0===e?e=r=a:(e>a&&(e=a),r<a&&(r=a)))}return[e,r]}function li(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var ci=Math.sqrt(50),fi=Math.sqrt(10),hi=Math.sqrt(2);function di(t,n,e){var r,i,a,u,o=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=pi(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),a=new Array(i=Math.ceil(n-t+1));++o<i;)a[o]=(t+o)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),a=new Array(i=Math.ceil(t-n+1));++o<i;)a[o]=(t-o)/u;return r&&a.reverse(),a}function pi(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ci?10:a>=fi?5:a>=hi?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ci?10:a>=fi?5:a>=hi?2:1)}function gi(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ci?i*=10:a>=fi?i*=5:a>=hi&&(i*=2),n<t?-i:i}function mi(t,n,e=function(t){return null===t?NaN:+t}){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),u=+e(t[a],a,t);return u+(+e(t[a+1],a+1,t)-u)*(i-a)}}function vi(t,n,e=0,r=t.length-1,i=ri){for(;r>e;){if(r-e>600){const a=r-e+1,u=n-e+1,o=Math.log(a),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(a-s)/a)*(u-a/2<0?-1:1);vi(t,n,Math.max(e,Math.floor(n-u*s/a+l)),Math.min(r,Math.floor(n+(a-u)*s/a+l)),i)}const a=t[n];let u=e,o=r;for(yi(t,e,n),i(t[r],a)>0&&yi(t,e,r);u<o;){for(yi(t,u,o),++u,--o;i(t[u],a)<0;)++u;for(;i(t[o],a)>0;)--o}0===i(t[e],a)?yi(t,e,o):yi(t,++o,r),o<=n&&(e=o+1),n<=o&&(r=o-1)}return t}function yi(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function xi(t,n){if(!(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length)return;const e=t.length,r=e>>1;return vi(t,r-1,0),0==(1&e)&&vi(t,r,r),mi(t,.5)}function _i(n,e,r,i){if(!n.length)return[void 0,void 0];var a,u,o,s,l=Float64Array.from(ei(n,i)),c=l.length,f=e;for(o=0,s=Array(f);o<f;++o){for(a=0,u=0;u<c;++u)a+=l[~~(t.random()*c)];s[o]=a/c}return[mi(s.sort(ri),r/2),mi(s,1-r/2)]}function bi(t,n){var e=Float64Array.from(ei(t,n));return[mi(e.sort(ri),.25),mi(e,.5),mi(e,.75)]}function wi(n,e){var r,i,a=NaN,u={mean:function(t){return arguments.length?(r=t||0,a=NaN,u):r},stdev:function(t){return arguments.length?(i=null==t?1:t,a=NaN,u):i},sample:function(){var n,e,u=0,o=0;if(a==a)return u=a,a=NaN,u;do{n=(u=2*t.random()-1)*u+(o=2*t.random()-1)*o}while(0===n||n>1);return e=Math.sqrt(-2*Math.log(n)/n),a=r+o*e*i,r+u*e*i},pdf:function(t){var n=Math.exp(Math.pow(t-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*n},cdf:function(t){var n,e=(t-r)/i,a=Math.abs(e);if(a>37)n=0;else{var u=Math.exp(-a*a/2);a<7.07106781186547?(n=u*((((((.0352624965998911*a+.700383064443688)*a+6.37396220353165)*a+33.912866078383)*a+112.079291497871)*a+221.213596169931)*a+220.206867912376),n/=((((((.0883883476483184*a+1.75566716318264)*a+16.064177579207)*a+86.7807322029461)*a+296.564248779674)*a+637.333633378831)*a+793.826512519948)*a+440.413735824752):n=u/(a+1/(a+2/(a+3/(a+4/(a+.65)))))/2.506628274631}return e>0?1-n:n},icdf:function(t){if(t<=0||t>=1)return NaN;var n=2*t-1,e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*e)+Math.log(1-Math.pow(n,2))/2,u=Math.log(1-n*n)/e,o=(n>0?1:-1)*Math.sqrt(Math.sqrt(a*a-u)-a);return r+i*Math.SQRT2*o}};return u.mean(n).stdev(e)}function Ai(n,e){var r=wi(),i={},a=0;return i.data=function(t){return arguments.length?(n=t,a=t?t.length:0,i.bandwidth(e)):n},i.bandwidth=function(t){return arguments.length?(!(e=t)&&n&&(a=(r=n).length,u=bi(r),o=(u[2]-u[0])/1.34,e=1.06*Math.min(Math.sqrt(function(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(a+=(e=n-i)*(n-(i+=e/++r)));else{let u=-1;for(let o of t)null!=(o=n(o,++u,t))&&(o=+o)>=o&&(a+=(e=o-i)*(o-(i+=e/++r)))}if(r>1)return a/(r-1)}(r)),o)*Math.pow(a,-.2)),i):e;var r,a,u,o},i.sample=function(){return n[~~(t.random()*a)]+e*r.sample()},i.pdf=function(t){for(var i=0,u=0;u<a;++u)i+=r.pdf((t-n[u])/e);return i/e/a},i.cdf=function(t){for(var i=0,u=0;u<a;++u)i+=r.cdf((t-n[u])/e);return i/a},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(n)}function Mi(n,e){var r,i={},a=0;return i.weights=function(t){return arguments.length?(r=function(t){var n,e=[],r=0;for(n=0;n<a;++n)r+=e[n]=null==t[n]?1:+t[n];for(n=0;n<a;++n)e[n]/=r;return e}(e=t||[]),i):e},i.distributions=function(t){return arguments.length?(t?(a=t.length,n=t):(a=0,n=[]),i.weights(e)):n},i.sample=function(){for(var e=t.random(),i=n[a-1],u=r[0],o=0;o<a-1;u+=r[++o])if(e<u){i=n[o];break}return i.sample()},i.pdf=function(t){for(var e=0,i=0;i<a;++i)e+=r[i]*n[i].pdf(t);return e},i.cdf=function(t){for(var e=0,i=0;i<a;++i)e+=r[i]*n[i].cdf(t);return e},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(n).weights(e)}function ki(n,e){null==e&&(e=null==n?1:n,n=0);var r,i,a,u={};return u.min=function(t){return arguments.length?(a=i-(r=t||0),u):r},u.max=function(t){return arguments.length?(a=(i=t||0)-r,u):i},u.sample=function(){return r+a*t.random()},u.pdf=function(t){return t>=r&&t<=i?1/a:0},u.cdf=function(t){return t<r?0:t>i?1:(t-r)/a},u.icdf=function(t){return t>=0&&t<=1?r+t*a:NaN},u.min(n).max(e)}function Ei(t,n,e,r){const i=r-t*t,a=Math.abs(i)<1e-24?0:(e-t*n)/i;return[n-a*t,a]}function Ci(t,n,e,r){t=t.filter(t=>{let r=n(t),i=e(t);return null!=r&&(r=+r)>=r&&null!=i&&(i=+i)>=i}),r&&t.sort((t,e)=>n(t)-n(e));const i=new Float64Array(t.length),a=new Float64Array(t.length);let u=0;for(let r of t)i[u]=n(r),a[u]=e(r),++u;return[i,a]}function Di(t,n,e,r){let i,a,u=-1,o=-1;for(let s of t)i=n(s,++u,t),a=e(s,u,t),null!=i&&(i=+i)>=i&&null!=a&&(a=+a)>=a&&r(i,a,++o)}function Fi(t,n,e,r,i){let a=0,u=0;return Di(t,n,e,(t,n)=>{const e=n-i(t),o=n-r;a+=e*e,u+=o*o}),1-a/u}function Si(t,n,e){let r=0,i=0,a=0,u=0,o=0;Di(t,n,e,(t,n)=>{r+=t,i+=n,a+=t*n,u+=t*t,++o});const s=Ei(r/o,i/o,a/o,u/o),l=t=>s[0]+s[1]*t;return{coef:s,predict:l,rSquared:Fi(t,n,e,i/o,l)}}function Bi(t,n,e){let r=0,i=0,a=0,u=0,o=0;Di(t,n,e,(t,n)=>{t=Math.log(t),r+=t,i+=n,a+=t*n,u+=t*t,++o});const s=Ei(r/o,i/o,a/o,u/o),l=t=>s[0]+s[1]*Math.log(t);return{coef:s,predict:l,rSquared:Fi(t,n,e,i/o,l)}}function Oi(t,n,e){let r=0,i=0,a=0,u=0,o=0,s=0;Di(t,n,e,(t,n)=>{const e=Math.log(n),l=t*n;r+=n,a+=l,o+=t*l,i+=n*e,u+=l*e,++s});const l=Ei(a/r,i/r,u/r,o/r),c=t=>l[0]*Math.exp(l[1]*t);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:Fi(t,n,e,r/s,c)}}function zi(t,n,e){let r=0,i=0,a=0,u=0,o=0,s=0;Di(t,n,e,(t,n)=>{const e=Math.log(t),l=Math.log(n);r+=e,i+=l,a+=e*l,u+=e*e,o+=n,++s});const l=Ei(r/s,i/s,a/s,u/s),c=t=>l[0]*Math.pow(t,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:Fi(t,n,e,o/s,c)}}function Ni(t,n,e){let r=0,i=0,a=0,u=0,o=0,s=0,l=0,c=0;Di(t,n,e,(t,n)=>{const e=t*t;r+=t,i+=n,a+=e,u+=e*t,o+=e*e,s+=t*n,l+=e*n,++c});const f=a-r*r/c,h=u-a*r/c,d=o-a*a/c,p=f*d-h*h,g=((l-=a*(i/=c))*f-(s-=r*i)*h)/p,m=(s*d-l*h)/p,v=i-m*(r/c)-g*(a/c),y=t=>g*t*t+m*t+v;return{coef:[v,m,g],predict:y,rSquared:Fi(t,n,e,i,y)}}function Ti(t,n,e,r){if(1===r)return Si(t,n,e);if(2===r)return Ni(t,n,e);const[i,a]=Ci(t,n,e),u=i.length,o=[],s=[],l=r+1;let c,f,h,d,p,g=0;for(c=0;c<u;++c)g+=a[c];for(c=0;c<l;++c){for(h=0,d=0;h<u;++h)d+=Math.pow(i[h],c)*a[h];for(o.push(d),p=new Float64Array(l),f=0;f<l;++f){for(h=0,d=0;h<u;++h)d+=Math.pow(i[h],c+f);p[f]=d}s.push(p)}s.push(o);const m=function(t){const n=t.length-1,e=[];let r,i,a,u,o;for(r=0;r<n;++r){for(u=r,i=r+1;i<n;++i)Math.abs(t[r][i])>Math.abs(t[r][u])&&(u=i);for(a=r;a<n+1;++a)o=t[a][r],t[a][r]=t[a][u],t[a][u]=o;for(i=r+1;i<n;++i)for(a=n;a>=r;a--)t[a][i]-=t[a][r]*t[r][i]/t[r][r]}for(i=n-1;i>=0;--i){for(o=0,a=i+1;a<n;++a)o+=t[a][i]*e[a];e[i]=(t[n][i]-o)/t[i][i]}return e}(s),v=t=>{let n=0,e=0,r=m.length;for(;e<r;++e)n+=m[e]*Math.pow(t,e);return n};return{coef:m,predict:v,rSquared:Fi(t,n,e,g/u,v)}}const Ri=2,Pi=1e-12;function Li(t,n,e,r){const[i,a]=Ci(t,n,e,!0),u=i.length,o=Math.max(2,~~(r*u)),s=new Float64Array(u),l=new Float64Array(u),c=new Float64Array(u).fill(1);for(let t=-1;++t<=Ri;){const n=[0,o-1];for(let t=0;t<u;++t){const e=i[t],r=n[0],u=n[1],o=e-i[r]>i[u]-e?r:u;let f=0,h=0,d=0,p=0,g=0,m=1/Math.abs(i[o]-e||1);for(let t=r;t<=u;++t){const n=i[t],r=a[t],u=qi(Math.abs(e-n)*m)*c[t],o=n*u;f+=u,h+=o,d+=r*u,p+=r*o,g+=n*o}const[v,y]=Ei(h/f,d/f,p/f,g/f);s[t]=v+y*e,l[t]=Math.abs(a[t]-s[t]),Ui(i,t+1,n)}if(t===Ri)break;const e=xi(l);if(Math.abs(e)<Pi)break;for(let t,n,r=0;r<u;++r)t=l[r]/(6*e),c[r]=t>=1?Pi:(n=1-t*t)*n}return function(t,n){const e=t.length,r=[];for(let i,a=0,u=0,o=[];a<e;++a)i=t[a],o[0]===i?o[1]+=(n[a]-o[1])/++u:(u=0,o=[i,n[a]],r.push(o));return r}(i,s)}function qi(t){return(t=1-t*t*t)*t*t}function Ui(t,n,e){let r=t[n],i=e[0],a=e[1]+1;if(!(a>=t.length))for(;n>i&&t[a]-r<=r-t[i];)e[0]=++i,e[1]=a,++a}const ji=.1*Math.PI/180;function $i(t,n,e,r){e=e||25,r=Math.max(e,r||200);const i=n=>[n,t(n)],a=n[0],u=n[1],o=u-a,s=o/r,l=[i(a)],c=[];if(e===r){for(let t=1;t<r;++t)l.push(i(a+t/e*o));return l.push(i(u)),l}c.push(i(u));for(let t=e;--t>0;)c.push(i(a+t/e*o));let f=l[0],h=c[c.length-1];for(;h;){const t=i((f[0]+h[0])/2);t[0]-f[0]>=s&&Ii(f,t,h)>ji?c.push(t):(f=h,l.push(h),c.pop()),h=c[c.length-1]}return l}function Ii(t,n,e){const r=Math.atan2(e[1]-t[1],e[0]-t[0]),i=Math.atan2(n[1]-t[1],n[0]-t[0]);return Math.abs(r-i)}function Wi(t){this._key=t?c(t):Et,this.reset()}var Hi=Wi.prototype;function Yi(t){$r.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Hi.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},Hi.add=function(t){this._add.push(t)},Hi.rem=function(t){this._rem.push(t)},Hi.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,n,e,r=this._add,i=this._rem,a=this._key,u=r.length,o=i.length,s=Array(u-o),l={};for(t=0;t<o;++t)l[a(i[t])]=1;for(t=0,n=0;t<u;++t)l[a(e=r[t])]?l[a(e)]=0:s[n++]=e;return this._rem=[],this._add=s},Hi.distinct=function(t){for(var n,e=this.values(),r=e.length,i={},a=0;--r>=0;)n=t(e[r])+"",i.hasOwnProperty(n)||(i[n]=1,++a);return a},Hi.extent=function(t){if(this._get!==t||!this._ext){var n=this.values(),e=Q(n,t);this._ext=[n[e[0]],n[e[1]]],this._get=t}return this._ext},Hi.argmin=function(t){return this.extent(t)[0]||{}},Hi.argmax=function(t){return this.extent(t)[1]||{}},Hi.min=function(t){var n=this.extent(t)[0];return null!=n?t(n):void 0},Hi.max=function(t){var n=this.extent(t)[1];return null!=n?t(n):void 0},Hi.quartile=function(t){return this._get===t&&this._q||(this._q=bi(this.values(),t),this._get=t),this._q},Hi.q1=function(t){return this.quartile(t)[0]},Hi.q2=function(t){return this.quartile(t)[1]},Hi.q3=function(t){return this.quartile(t)[2]},Hi.ci=function(t){return this._get===t&&this._ci||(this._ci=_i(this.values(),1e3,.05,t),this._get=t),this._ci},Hi.ci0=function(t){return this.ci(t)[0]},Hi.ci1=function(t){return this.ci(t)[1]},Yi.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Zr},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var Gi=et(Yi,$r);Gi.transform=function(t,n){var e,r=this,i=n.fork(n.NO_SOURCE|n.NO_FIELDS);return this.stamp=i.stamp,this.value&&((e=t.modified())||n.modified(this._inputs))?(this._prev=this.value,this.value=e?this.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(this.value=this.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),i.modifies(this._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},Gi.cross=function(){var t=this,n=t.value,e=t._dnames,r=e.map(function(){return{}}),i=e.length;function a(t){var n,a,u,o;for(n in t)for(u=t[n].tuple,a=0;a<i;++a)r[a][o=u[e[a]]]=o}a(t._prev),a(n),function a(u,o,s){var l,c,f=e[s],h=r[s++];for(l in h)o[f]=h[l],c=u?u+"|"+l:l,s<i?a(c,o,s):n[c]||t.cell(c,o)}("",{},0)},Gi.init=function(t){var n=this._inputs=[],a=this._outputs=[],u={};function o(t){for(var e,i=W(r(t)),a=0,o=i.length;a<o;++a)u[e=i[a]]||(u[e]=1,n.push(e))}this._dims=W(t.groupby),this._dnames=this._dims.map(function(t){var n=e(t);return o(t),a.push(n),n}),this.cellkey=t.key?t.key:Gr(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,l,c,f,h,d,p=t.fields||[null],g=t.ops||["count"],m=t.as||[],v=p.length,y={};for(v!==g.length&&i("Unmatched number of fields and aggregate ops."),d=0;d<v;++d)s=p[d],l=g[d],null==s&&"count"!==l&&i("Null aggregate field specified."),h=Vr(l,f=e(s),m[d]),a.push(h),"count"!==l?((c=y[f])||(o(s),(c=y[f]=[]).field=s,this._measures.push(c)),"count"!==l&&(this._countOnly=!1),c.push(Jr(l,h))):this._counts.push(h);return this._measures=this._measures.map(function(t){return ti(t,t.field)}),{}},Gi.cellkey=Gr(),Gi.cell=function(t,n){var e=this.value[t];return e?0===e.num&&this._drop&&e.stamp<this.stamp?(e.stamp=this.stamp,this._adds[this._alen++]=e):e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e):(e=this.value[t]=this.newcell(t,n),this._adds[this._alen++]=e),e},Gi.newcell=function(t,n){var e={key:t,num:0,agg:null,tuple:this.newtuple(n,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(e.agg=Array(a),r=0;r<a;++r)e.agg[r]=new i[r](e)}return e.store&&(e.data=new Wi),e},Gi.newtuple=function(t,n){var e,r,i=this._dnames,a=this._dims,u={};for(e=0,r=a.length;e<r;++e)u[i[e]]=a[e](t);return n?Bt(n.tuple,u):Dt(u)},Gi.add=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(t),e=0,r=(n=a.agg).length;e<r;++e)n[e].add(n[e].get(t),t)},Gi.rem=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(t),e=0,r=(n=a.agg).length;e<r;++e)n[e].rem(n[e].get(t),t)},Gi.celltuple=function(t){var n,e,r,i=t.tuple,a=this._counts;for(t.store&&t.data.values(),e=0,r=a.length;e<r;++e)i[a[e]]=t.num;if(!this._countOnly)for(e=0,r=(n=t.agg).length;e<r;++e)n[e].set(i);return i},Gi.changes=function(t){var n,e,r,i,a=this._adds,u=this._mods,o=this._prev,s=this._drop,l=t.add,c=t.rem,f=t.mod;if(o)for(e in o)n=o[e],s&&!n.num||c.push(n.tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)(0===(n=u[r]).num&&s?c:f).push(this.celltuple(n)),u[r]=null;return this._alen=this._mlen=0,this._prev=null,t};function Vi(t){$r.call(this,null,t)}Vi.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var Xi=et(Vi,$r);function Zi(t,n,e){var r=t,i=n||[],a=e||[],u={},o=0;return{add:function(t){a.push(t)},remove:function(t){u[r(t)]=++o},size:function(){return i.length},data:function(t,n){return o&&(i=i.filter(function(t){return!u[r(t)]}),u={},o=0),n&&t&&i.sort(t),a.length&&(i=t?ct(t,i,a.sort(t)):i.concat(a),a=[]),i}}}function Ji(t){$r.call(this,[],t)}function Qi(t){qt.call(this,null,Ki,t)}function Ki(t){return this.value&&!t.modified()?this.value:G(t.fields,t.orders)}function ta(t){$r.call(this,null,t)}Xi.transform=function(t,n){var e,i=this._bins(t),a=i.start,u=i.step,o=t.as||["bin0","bin1"],s=o[0],l=o[1];return e=t.modified()?(n=n.reflow(!0)).SOURCE:n.modified(r(t.field))?n.ADD_MOD:n.ADD,n.visit(e,function(t){var n=i(t);t[s]=n,t[l]=null==n?null:a+u*(1+(n-a)/u)}),n.modifies(o)},Xi._bins=function(t){if(this.value&&!t.modified())return this.value;var i,a,u=t.field,o=ni(t),s=o.start,l=o.stop,c=o.step;null!=(i=t.anchor)&&(a=i-(s+c*Math.floor((i-s)/c)),s+=a,l+=a);var f=function(t){var n=u(t);return null==n?null:(n=Math.max(s,Math.min(+n,l-c)),s+c*Math.floor(1e-14+(n-s)/c))};return f.start=s,f.stop=l,f.step=c,this.value=n(f,r(u),t.name||"bin_"+e(u))},Ji.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},et(Ji,$r).transform=function(t,n){var e=n.fork(n.ALL),r=Zi(Et,this.value,e.materialize(e.ADD).add),i=t.sort,a=n.changed()||i&&(t.modified("sort")||n.modified(i.fields));return e.visit(e.REM,r.remove),this.modified(a),this.value=e.source=r.data(i,a),n.source&&n.source.root&&(this.value.root=n.source.root),e},et(Qi,qt),ta.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var na=et(ta,$r);function ea(t){$r.call(this,null,t)}na.transform=function(t,n){function e(n){return function(e){for(var r,i=function(t,n,e){switch(n){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(e)}(o(e),t.case,a)||[],s=0,l=i.length;s<l;++s)u.test(r=i[s])||n(r)}}var r=this._parameterCheck(t,n),i=this._counts,a=this._match,u=this._stop,o=t.field,s=t.as||["text","count"],l=e(function(t){i[t]=1+(i[t]||0)}),c=e(function(t){i[t]-=1});return r?n.visit(n.SOURCE,l):(n.visit(n.ADD,l),n.visit(n.REM,c)),this._finish(n,s)},na._parameterCheck=function(t,n){var e=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),e=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),e=!0),(t.modified("field")||n.modified(t.field.fields))&&(e=!0),e&&(this._counts={}),e},na._finish=function(t,n){var e,r,i,a=this._counts,u=this._tuples||(this._tuples={}),o=n[0],s=n[1],l=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(e in a)r=u[e],i=a[e]||0,!r&&i?(u[e]=r=Dt({}),r[o]=e,r[s]=i,l.add.push(r)):0===i?(r&&l.rem.push(r),a[e]=null,u[e]=null):r[s]!==i&&(r[s]=i,l.mod.push(r));return l.modifies(n)},ea.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},et(ea,$r).transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=this.value,i=t.as||["a","b"],a=i[0],u=i[1];return!r||n.changed(n.ADD_REM)||t.modified("as")||t.modified("filter")?(r&&(e.rem=r),r=n.materialize(n.SOURCE).source,e.add=this.value=function(t,n,e,r){for(var i,a,u=[],o={},s=t.length,l=0;l<s;++l)for(o[n]=a=t[l],i=0;i<s;++i)o[e]=t[i],r(o)&&(u.push(Dt(o)),(o={})[n]=a);return u}(r,a,u,t.filter||m)):e.mod=r,e.source=this.value,e.modifies(i)};var ra={kde:Ai,mixture:Mi,normal:wi,uniform:ki},ia="distributions",aa="function",ua="field";function oa(t){$r.call(this,null,t)}var sa=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],la={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:sa},{name:"weights",type:"number",array:!0}]};function ca(t){qt.call(this,null,fa,t),this.modified(!0)}function fa(t){var i=t.expr;return this.value&&!t.modified("expr")?this.value:n(n=>i(n,t),r(i),e(i))}function ha(t){$r.call(this,[void 0,void 0],t)}function da(t,n){qt.call(this,t),this.parent=n}oa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:sa.concat(la)},{name:"as",type:"string",array:!0,default:["value","density"]}]},et(oa,$r).transform=function(t,n){var e=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){var r=function t(n,e){var r=n[aa];ra.hasOwnProperty(r)||i("Unknown distribution function: "+r);var a=ra[r]();for(var u in n)u===ua?a.data((n.from||e()).map(n[u])):u===ia?a[u](n[u].map(function(n){return t(n,e)})):typeof a[u]===aa&&a[u](n[u]);return a}(t.distribution,function(t){return function(){return t.materialize(t.SOURCE).source}}(n)),a=t.steps||t.minsteps||25,u=t.steps||t.maxsteps||200,o=t.method||"pdf";"pdf"!==o&&"cdf"!==o&&i("Invalid density method: "+o),t.extent||r.data||i("Missing density extent parameter."),o=r[o];var s=t.as||["value","density"],l=$i(o,t.extent||J(r.data()),a,u).map(t=>{var n={};return n[s[0]]=t[0],n[s[1]]=t[1],Dt(n)});this.value&&(e.rem=this.value),this.value=e.add=e.source=l}return e},et(ca,qt),ha.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},et(ha,$r).transform=function(t,n){var e,r=this.value,i=t.field,a=r[0],u=r[1];((e=n.changed()||n.modified(i.fields)||t.modified("field"))||null==a)&&(a=1/0,u=-1/0),n.visit(e?n.SOURCE:n.ADD,function(t){var n=i(t);null!=n&&((n=+n)<a&&(a=n),n>u&&(u=n))}),isFinite(a)&&isFinite(u)||(a=u=void 0),this.value=[a,u]};var pa=et(da,qt);function ga(t){$r.call(this,{},t),this._keys=tt();var n=this._targets=[];n.active=0,n.forEach=function(t){for(var e=0,r=n.active;e<r;++e)t(n[e],e,n)}}pa.connect=function(t){return this.targets().add(t),t.source=this},pa.add=function(t){this.value.add.push(t)},pa.rem=function(t){this.value.rem.push(t)},pa.mod=function(t){this.value.mod.push(t)},pa.init=function(t){this.value.init(t,t.NO_SOURCE)},pa.evaluate=function(){return this.value};var ma=et(ga,$r);function va(t){qt.call(this,null,ya,t)}function ya(t){return this.value&&!t.modified()?this.value:u(t.name)?W(t.name).map(function(t){return c(t)}):c(t.name,t.as)}function xa(t){$r.call(this,tt(),t)}function _a(t,n){return t?t.map(function(t,r){return n[r]||e(t)}):null}function ba(t){$r.call(this,[],t)}function wa(t){$r.call(this,[],t)}function Aa(t){$r.call(this,null,t)}function Ma(t){$r.call(this,[],t)}ma.activate=function(t){this._targets[this._targets.active++]=t},ma.subflow=function(t,n,e,r){var i,a,u=this.value,o=u.hasOwnProperty(t)&&u[t];return o?o.value.stamp<e.stamp&&(o.init(e),this.activate(o)):(a=r||(a=this._group[t])&&a.tuple,o=(i=e.dataflow).add(new da(e.fork(e.NO_SOURCE),this)).connect(n(i,t,a)),u[t]=o,this.activate(o)),o},ma.transform=function(t,n){var e=n.dataflow,r=this,i=t.key,a=t.subflow,u=this._keys,o=t.modified("key");function s(t){return r.subflow(t,a,n)}return this._group=t.group||{},this._targets.active=0,n.visit(n.REM,function(t){var n=Et(t),e=u.get(n);void 0!==e&&(u.delete(n),s(e).rem(t))}),n.visit(n.ADD,function(t){var n=i(t);u.set(Et(t),n),s(n).add(t)}),o||n.modified(i.fields)?n.visit(n.MOD,function(t){var n=Et(t),e=u.get(n),r=i(t);e===r?s(r).mod(t):(u.set(n,r),s(e).rem(t),s(r).add(t))}):n.changed(n.MOD)&&n.visit(n.MOD,function(t){s(u.get(Et(t))).mod(t)}),o&&n.visit(n.REFLOW,function(t){var n=Et(t),e=u.get(n),r=i(t);e!==r&&(u.set(n,r),s(e).rem(t),s(r).add(t))}),u.empty>e.cleanThreshold&&e.runAfter(u.clean),n},et(va,qt),xa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},et(xa,$r).transform=function(t,n){var e=n.dataflow,r=this.value,i=n.fork(),a=i.add,u=i.rem,o=i.mod,s=t.expr,l=!0;function c(n){var e=Et(n),i=s(n,t),c=r.get(e);i&&c?(r.delete(e),a.push(n)):i||c?l&&i&&!c&&o.push(n):(r.set(e,1),u.push(n))}return n.visit(n.REM,function(t){var n=Et(t);r.has(n)?r.delete(n):u.push(t)}),n.visit(n.ADD,function(n){s(n,t)?a.push(n):r.set(Et(n),1)}),n.visit(n.MOD,c),t.modified()&&(l=!1,n.visit(n.REFLOW,c)),r.empty>e.cleanThreshold&&e.runAfter(r.clean),i},ba.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]},et(ba,$r).transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=t.fields,i=_a(r,t.as||[]),a=i.length;return e.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,u,o,s=r.map(function(n){return n(t)}),l=s.reduce(function(t,n){return Math.max(t,n.length)},0),c=0;c<l;++c){for(u=Ft(t),n=0;n<a;++n)u[i[n]]=null==(o=s[n][c])?null:o;e.add.push(u)}}),this.value=e.source=e.add,e.modifies(i)},wa.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},et(wa,$r).transform=function(t,n){var r=n.fork(n.NO_SOURCE),i=t.fields,a=i.map(e),u=t.as||["key","value"],o=u[0],s=u[1],l=i.length;return r.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,e=0;e<l;++e)(n=Ft(t))[o]=a[e],n[s]=i[e](t),r.add.push(n)}),this.value=r.source=r.add,r.modifies(u)},Aa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},et(Aa,$r).transform=function(t,n){var e=t.expr,r=t.as,i=t.modified(),a=t.initonly?n.ADD:i?n.SOURCE:n.modified(e.fields)?n.ADD_MOD:n.ADD;return i&&(n=n.materialize().reflow(!0)),t.initonly||n.modifies(r),n.visit(a,function(n){n[r]=e(n,t)})},et(Ma,$r).transform=function(t,n){var e,r,i,a=this.value,u=n.fork(n.ALL),o=t.size-a.length,s=t.generator;if(o>0){for(e=[];--o>=0;)e.push(i=Dt(s(t))),a.push(i);u.add=u.add.length?u.materialize(u.ADD).add.concat(e):e}else r=a.slice(0,-o),u.rem=u.rem.length?u.materialize(u.REM).rem.concat(r):r,a=a.slice(-o);return u.source=this.value=a,u};var ka={value:"value",median:xi,mean:function(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e},min:function(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e>n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e>i)&&(e=i)}return e},max:function(t,n){let e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===e||e<n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e<i)&&(e=i)}return e}},Ea=[];function Ca(t){$r.call(this,[],t)}function Da(t){Yi.call(this,t)}Ca.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},et(Ca,$r).transform=function(t,n){var r,a,u,o,s,l,c,f,h,d,p=n.fork(n.ALL),g=function(t){var n,e=t.method||ka.value;if(null!=ka[e])return e===ka.value?(n=void 0!==t.value?t.value:0,function(){return n}):ka[e];i("Unrecognized imputation method: "+e)}(t),m=function(t){var n=t.field;return function(t){return t?n(t):NaN}}(t),v=e(t.field),y=e(t.key),x=(t.groupby||[]).map(e),_=function(t,n,e,r){var i,a,u,o,s,l,c,f,h=function(t){return t(f)},d=[],p=r?r.slice():[],g={},m={};for(p.forEach(function(t,n){g[t]=n+1}),o=0,c=t.length;o<c;++o)f=t[o],l=e(f),s=g[l]||(g[l]=p.push(l)),a=(i=n?n.map(h):Ea)+"",(u=m[a])||(u=m[a]=[],d.push(u),u.values=i),u[s-1]=f;return d.domain=p,d}(n.source,t.groupby,t.key,t.keyvals),b=[],w=this.value,A=_.domain.length;for(s=0,f=_.length;s<f;++s)for(u=(r=_[s]).values,a=NaN,c=0;c<A;++c)if(null==r[c]){for(o=_.domain[c],d={_impute:!0},l=0,h=u.length;l<h;++l)d[x[l]]=u[l];d[y]=o,d[v]=isNaN(a)?a=g(r,m):a,b.push(Dt(d))}return b.length&&(p.add=p.materialize(p.ADD).add.concat(b)),w.length&&(p.rem=p.materialize(p.REM).rem.concat(w)),this.value=b,p},Da.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Zr},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var Fa=et(Da,Yi);function Sa(t){$r.call(this,null,t)}function Ba(t){qt.call(this,null,Oa,t)}function Oa(t){return this.value&&!t.modified()?this.value:st(t.fields,t.flat)}function za(t){$r.call(this,[],t)}function Na(t,n,e){e.forEach(Dt);const r=n.fork(n.NO_FIELDS&n.NO_SOURCE);return r.rem=t.value,t.value=r.add=r.source=e,r}function Ta(t){$r.call(this,{},t)}function Ra(t){qt.call(this,null,Pa,t)}function Pa(t){if(this.value&&!t.modified())return this.value;var n,e,r,i=1/0,a=-1/0,u=t.extents;for(n=0,e=u.length;n<e;++n)(r=u[n])[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function La(t){qt.call(this,null,qa,t)}function qa(t){return this.value&&!t.modified()?this.value:t.values.reduce(function(t,n){return t.concat(n)},[])}function Ua(t){$r.call(this,null,t)}function ja(t){Yi.call(this,t)}Fa.transform=function(t,n){var e,r=this,i=t.modified();return r.value&&(i||n.modified(r._inputs))?(e=r.value=i?r.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(e=r.value=r.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),r.changes(),n.visit(n.SOURCE,function(t){Z(t,e[r.cellkey(t)].tuple)}),n.reflow(i).modifies(this._outputs)},Fa.changes=function(){var t,n,e=this._adds,r=this._mods;for(t=0,n=this._alen;t<n;++t)this.celltuple(e[t]),e[t]=null;for(t=0,n=this._mlen;t<n;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0},Sa.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},et(Sa,$r).transform=function(t,n){var r=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){const a=function(t,n,e){var r,i,a,u,o,s,l=[],c=function(t){return t(u)};if(null==n)l.push(t.map(e));else for(r={},i=0,a=t.length;i<a;++i)u=t[i],o=n.map(c),(s=r[o])||(r[o]=s=[],s.dims=o,l.push(s)),s.push(e(u));return l}(n.materialize(n.SOURCE).source,t.groupby,t.field),u=(t.groupby||[]).map(e),o=t.bandwidth,s=t.cumulative?"cdf":"pdf",l=t.steps||t.minsteps||25,c=t.steps||t.maxsteps||200,f=t.as||["value","density"],h=[];"pdf"!==s&&"cdf"!==s&&i("Invalid density method: "+s),a.forEach(n=>{const e=Ai(n,o)[s],r=t.counts?n.length:1;$i(e,t.extent||si(n),l,c).forEach(t=>{const e={};for(let t=0;t<u.length;++t)e[u[t]]=n.dims[t];e[f[0]]=t[0],e[f[1]]=t[1]*r,h.push(Dt(e))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r},et(Ba,qt),et(za,$r).transform=function(t,n){const e=n.dataflow;return t.values?Na(this,n,e.parse(t.values,t.format)):e.request(t.url,t.format).then(t=>Na(this,n,t.data||[]))},Ta.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},et(Ta,$r).transform=function(t,n){var r,a,u=n,o=t.as,s=t.fields,l=t.index,c=t.values,f=null==t.default?null:t.default,h=t.modified(),d=h?n.SOURCE:n.ADD,p=s.length;return c?(a=c.length,p>1&&!o&&i('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==p*a&&i('The "as" parameter has too few output field names.'),o=o||c.map(e),r=function(t){for(var n,e,r=0,i=0;r<p;++r)if(null==(e=l.get(s[r](t))))for(n=0;n<a;++n,++i)t[o[i]]=f;else for(n=0;n<a;++n,++i)t[o[i]]=c[n](e)}):(o||i("Missing output field names."),r=function(t){for(var n,e=0;e<p;++e)n=l.get(s[e](t)),t[o[e]]=null==n?f:n}),h?u=n.reflow(!0):d|=s.some(function(t){return n.modified(t.fields)})?n.MOD:0,n.visit(d,r),u.modifies(o)},et(Ra,qt),et(La,qt),et(Ua,$r),Ua.prototype.transform=function(t,n){return this.modified(t.modified()),this.value=t,n.fork(n.NO_SOURCE|n.NO_FIELDS)},ja.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Zr,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var $a=et(ja,Yi);function Ia(t){ga.call(this,t)}function Wa(t){$r.call(this,null,t)}function Ha(t){$r.call(this,null,t)}function Ya(t){$r.call(this,null,t)}function Ga(t){$r.call(this,[],t),this.count=0}function Va(t){$r.call(this,null,t)}function Xa(t){$r.call(this,null,t),this.modified(!0)}function Za(t){$r.call(this,tt(),t)}function Ja(t){$r.call(this,null,t)}$a._transform=$a.transform,$a.transform=function(t,e){return this._transform(function(t,e){var i=t.field,a=t.value,u=("count"===t.op?"__count__":t.op)||"sum",o=r(i).concat(r(a)),s=function(t,n,e){var r={},i=[];return e.visit(e.SOURCE,function(n){var e=t(n);r[e]||(r[e]=1,i.push(e))}),i.sort(function(t,n){return(t<n||null==t)&&null!=n?-1:(t>n||null==n)&&null!=t?1:(n=n instanceof Date?+n:n,(t=t instanceof Date?+t:t)!==t&&n==n?-1:n!=n&&t==t?1:0)}),n?i.slice(0,n):i}(i,t.limit||0,e);return{key:t.key,groupby:t.groupby,ops:s.map(function(){return u}),fields:s.map(function(t){return function(t,e,r,i){return n(function(n){return e(n)===t?r(n):NaN},i,t+"")}(t,i,a,o)}),as:s.map(function(t){return t+""}),modified:t.modified.bind(t)}}(t,e),e)},et(Ia,ga).transform=function(t,n){var e=this,a=t.subflow,u=t.field;return(t.modified("field")||u&&n.modified(r(u)))&&i("PreFacet does not support field modification."),this._targets.active=0,n.visit(n.MOD,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.mod(t)}):r.mod(t)}),n.visit(n.ADD,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.add(Dt(t))}):r.add(t)}),n.visit(n.REM,function(t){var r=e.subflow(Et(t),a,n,t);u?u(t).forEach(function(t){r.rem(t)}):r.rem(t)}),n},Wa.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},et(Wa,$r).transform=function(t,n){var e,r,i=t.fields,a=_a(t.fields,t.as||[]),u=i?function(t,n){return function(t,n,e,r){for(var i=0,a=e.length;i<a;++i)n[r[i]]=e[i](t);return n}(t,n,i,a)}:St;return this.value?r=this.value:(n=n.addAll(),r=this.value={}),e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=Et(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=u(t,Dt({}));r[Et(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(u(t,r[Et(t)]))}),e},et(Ha,$r).transform=function(t,n){return this.value=t.value,t.modified("value")?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation},et(Ya,$r).transform=function(t,n){var e,r;return this.value?r=this.value:(e=n=n.addAll(),r=this.value={}),t.derive&&(e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=Et(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=Ft(t);r[Et(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(St(t,r[Et(t)]))})),e},Ga.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},et(Ga,$r).transform=function(n,e){var r=e.fork(e.NO_SOURCE),i=n.modified("size"),a=n.size,u=this.value,o=this.count,s=0,l=u.reduce(function(t,n){return t[Et(n)]=1,t},{});function c(n){var e,i;u.length<a?u.push(n):(i=~~((o+1)*t.random()))<u.length&&i>=s&&(e=u[i],l[Et(e)]&&r.rem.push(e),u[i]=n),++o}if(e.rem.length&&(e.visit(e.REM,function(t){var n=Et(t);l[n]&&(l[n]=-1,r.rem.push(t)),--o}),u=u.filter(function(t){return-1!==l[Et(t)]})),(e.rem.length||i)&&u.length<a&&e.source&&(s=o=u.length,e.visit(e.SOURCE,function(t){l[Et(t)]||c(t)}),s=-1),i&&u.length>a){for(var f=0,h=u.length-a;f<h;++f)l[Et(u[f])]=-1,r.rem.push(u[f]);u=u.slice(h)}return e.mod.length&&e.visit(e.MOD,function(t){l[Et(t)]&&r.mod.push(t)}),e.add.length&&e.visit(e.ADD,c),(e.add.length||s<0)&&(r.add=u.filter(function(t){return!l[Et(t)]})),this.count=o,this.value=r.source=u,r},Va.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},et(Va,$r).transform=function(t,n){if(!this.value||t.modified()){var e=n.materialize().fork(n.MOD),r=t.as||"data";return e.rem=this.value?n.rem.concat(this.value):n.rem,this.value=li(t.start,t.stop,t.step||1).map(function(t){var n={};return n[r]=t,Dt(n)}),e.add=n.add.concat(this.value),e}},et(Xa,$r).transform=function(t,n){return this.value=n.source,n.changed()?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation},et(Za,$r).transform=function(t,n){var e=n.dataflow,r=t.field,i=this.value,a=!0;function u(t){i.set(r(t),t)}return t.modified("field")||n.modified(r.fields)?(i.clear(),n.visit(n.SOURCE,u)):n.changed()?(n.visit(n.REM,function(t){i.delete(r(t))}),n.visit(n.ADD,u)):a=!1,this.modified(a),i.empty>e.cleanThreshold&&e.runAfter(i.clean),n.fork()},et(Ja,$r).transform=function(t,n){(!this.value||t.modified("field")||t.modified("sort")||n.changed()||t.sort&&n.modified(t.sort.fields))&&(this.value=(t.sort?n.source.slice().sort(t.sort):n.source).map(t.field))};const Qa={row_number:function(){return{next:t=>t.index+1}},rank:function(){let t;return{init:()=>t=1,next:n=>{let e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?t=e+1:t}}},dense_rank:function(){let t;return{init:()=>t=1,next:n=>{let e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?++t:t}}},percent_rank:function(){let t=Qa.rank(),n=t.next;return{init:t.init,next:t=>(n(t)-1)/(t.data.length-1)}},cume_dist:function(){let t;return{init:()=>t=0,next:n=>{let e=n.index,r=n.data,i=n.compare;if(t<e){for(;e+1<r.length&&!i(r[e],r[e+1]);)++e;t=e}return(1+t)/r.length}}},ntile:function(t,n){(n=+n)>0||i("ntile num must be greater than zero.");let e=Qa.cume_dist(),r=e.next;return{init:e.init,next:t=>Math.ceil(n*r(t))}},lag:function(t,n){return n=+n||1,{next:e=>{let r=e.index-n;return r>=0?t(e.data[r]):null}}},lead:function(t,n){return n=+n||1,{next:e=>{let r=e.index+n,i=e.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:n=>t(n.data[n.i0])}},last_value:function(t){return{next:n=>t(n.data[n.i1-1])}},nth_value:function(t,n){return(n=+n)>0||i("nth_value nth must be greater than zero."),{next:e=>{let r=e.i0+(n-1);return r<e.i1?t(e.data[r]):null}}},prev_value:function(t){let n=null;return{next:e=>{let r=t(e.data[e.index]);return null!=r?n=r:n}}},next_value:function(t){let n=null,e=-1;return{next:r=>{let i=r.data;return r.index<=e?n:(e=function(t,n,e){for(let r=n.length;e<r;++e){let r=t(n[e]);if(null!=r)return e}return-1}(t,i,r.index))<0?(e=i.length,n=null):n=t(i[e])}}}};var Ka=Object.keys(Qa);function tu(t){let n=this,a=W(t.ops),u=W(t.fields),o=W(t.params),s=W(t.as),l=n.outputs=[],c=n.windows=[],f={},h={},d=!0,g=[],m=[];function v(t){W(r(t)).forEach(t=>f[t]=1)}v(t.sort),a.forEach(function(t,n){let r=u[n],a=e(r),f=Vr(t,a,s[n]);if(v(r),l.push(f),Qa.hasOwnProperty(t))c.push(function(t,n,e,r){let i=Qa[t](n,e);return{init:i.init||p,update:function(t,n){n[r]=i.next(t)}}}(t,u[n],o[n],f));else{if(null==r&&"count"!==t&&i("Null aggregate field specified."),"count"===t)return void g.push(f);d=!1;let n=h[a];n||((n=h[a]=[]).field=r,m.push(n)),n.push(Jr(t,f))}}),(g.length||m.length)&&(n.cell=function(t,n,e){t=t.map(t=>ti(t,t.field));let r={num:0,agg:null,store:!1,count:n};if(!e)for(var i=t.length,a=r.agg=Array(i),u=0;u<i;++u)a[u]=new t[u](r);if(r.store)var o=r.data=new Wi;return r.add=function(t){if(r.num+=1,!e){o&&o.add(t);for(let n=0;n<i;++n)a[n].add(a[n].get(t),t)}},r.rem=function(t){if(r.num-=1,!e){o&&o.rem(t);for(let n=0;n<i;++n)a[n].rem(a[n].get(t),t)}},r.set=function(t){let i,u;for(o&&o.values(),i=0,u=n.length;i<u;++i)t[n[i]]=r.num;if(!e)for(i=0,u=a.length;i<u;++i)a[i].set(t)},r.init=function(){r.num=0,o&&o.reset();for(let t=0;t<i;++t)a[t].init()},r}(m,g,d)),n.inputs=Object.keys(f)}const nu=tu.prototype;function eu(t){$r.call(this,{},t),this._mlen=0,this._mods=[]}nu.init=function(){this.windows.forEach(t=>t.init()),this.cell&&this.cell.init()},nu.update=function(t,n){let e,r=this.cell,i=this.windows,a=t.data,u=i&&i.length;if(r){for(e=t.p0;e<t.i0;++e)r.rem(a[e]);for(e=t.p1;e<t.i1;++e)r.add(a[e]);r.set(n)}for(e=0;e<u;++e)i[e].update(t,n)},eu.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ka.concat(Zr)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var ru=et(eu,$r);function iu(t,n,e){var r=e.sort,i=r&&!e.ignorePeers,a=e.frame||[null,0],u=t.data(r),o=u.length,s=0,l=i?ii(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:r||V(-1)};for(n.init();s<o;++s)au(c,a,s,o),i&&uu(c,l),n.update(c,u[s])}function au(t,n,e,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==n[0]?0:Math.max(0,e-Math.abs(n[0])),t.i1=null==n[1]?r:Math.min(r,e+Math.abs(n[1])+1),t.index=e}function uu(t,n){var e=t.i0,r=t.i1-1,i=t.compare,a=t.data,u=a.length-1;e>0&&!i(a[e],a[e-1])&&(t.i0=n.left(a,a[e])),r<u&&!i(a[r],a[r+1])&&(t.i1=n.right(a,a[r]))}ru.transform=function(t,n){var e,r,i=this,a=i.state,u=t.modified();this.stamp=n.stamp,a&&!u||(a=i.state=new tu(t));var o=Gr(t.groupby);function s(t){return i.group(o(t))}for(u||n.modified(a.inputs)?(i.value={},n.visit(n.SOURCE,function(t){s(t).add(t)})):(n.visit(n.REM,function(t){s(t).remove(t)}),n.visit(n.ADD,function(t){s(t).add(t)})),e=0,r=i._mlen;e<r;++e)iu(i._mods[e],a,t);return i._mlen=0,i._mods=[],n.reflow(u).modifies(a.outputs)},ru.group=function(t){var n=this.value[t];return n||((n=this.value[t]=Zi(Et)).stamp=-1),n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n),n};var ou=Object.freeze({aggregate:Yi,bin:Vi,collect:Ji,compare:Qi,countpattern:ta,cross:ea,density:oa,expression:ca,extent:ha,facet:ga,field:va,filter:xa,flatten:ba,fold:wa,formula:Aa,generate:Ma,impute:Ca,joinaggregate:Da,kde:Sa,key:Ba,load:za,lookup:Ta,multiextent:Ra,multivalues:La,params:Ua,pivot:ja,prefacet:Ia,project:Wa,proxy:Ha,relay:Ya,sample:Ga,sequence:Va,sieve:Xa,subflow:da,tupleindex:Za,values:Ja,window:eu});const su="top",lu="left",cu="right",fu="bottom",hu="top-left",du="top-right",pu="bottom-left",gu="bottom-right",mu="start",vu="middle",yu="end",xu="x",_u="y",bu="group",wu="axis",Au="title",Mu="frame",ku="scope",Eu="legend",Cu="row-header",Du="row-footer",Fu="row-title",Su="column-header",Bu="column-footer",Ou="column-title",zu="padding",Nu="symbol",Tu="fit",Ru="fit-x",Pu="fit-y",Lu="pad",qu="none",Uu="all",ju="each",$u="flush",Iu="column",Wu="row";function Hu(t){this.clear(),t&&this.union(t)}var Yu=Hu.prototype;Yu.clone=function(){return new Hu(this)},Yu.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Yu.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Yu.equals=function(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},Yu.set=function(t,n,e,r){return e<t?(this.x2=t,this.x1=e):(this.x1=t,this.x2=e),r<n?(this.y2=n,this.y1=r):(this.y1=n,this.y2=r),this},Yu.add=function(t,n){return t<this.x1&&(this.x1=t),n<this.y1&&(this.y1=n),t>this.x2&&(this.x2=t),n>this.y2&&(this.y2=n),this},Yu.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},Yu.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Yu.translate=function(t,n){return this.x1+=t,this.x2+=t,this.y1+=n,this.y2+=n,this},Yu.rotate=function(t,n,e){const r=this.rotatedPoints(t,n,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Yu.rotatedPoints=function(t,n,e){var{x1:r,y1:i,x2:a,y2:u}=this,o=Math.cos(t),s=Math.sin(t),l=n-n*o+e*s,c=e-n*s-e*o;return[o*r-s*i+l,s*r+o*i+c,o*r-s*u+l,s*r+o*u+c,o*a-s*i+l,s*a+o*i+c,o*a-s*u+l,s*a+o*u+c]},Yu.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},Yu.intersect=function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},Yu.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},Yu.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},Yu.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},Yu.contains=function(t,n){return!(t<this.x1||t>this.x2||n<this.y1||n>this.y2)},Yu.width=function(){return this.x2-this.x1},Yu.height=function(){return this.y2-this.y1};var Gu=0;const Vu="p_";function Xu(t){return t&&t.gradient}function Zu(t,n,e){let r=t.id,i=t.gradient,a="radial"===i?Vu:"";return r||(r=t.id="gradient_"+Gu++,"radial"===i?(t.x1=Ju(t.x1,.5),t.y1=Ju(t.y1,.5),t.r1=Ju(t.r1,0),t.x2=Ju(t.x2,.5),t.y2=Ju(t.y2,.5),t.r2=Ju(t.r2,.5),a=Vu):(t.x1=Ju(t.x1,0),t.y1=Ju(t.y1,0),t.x2=Ju(t.x2,1),t.y2=Ju(t.y2,0))),n[r]=t,"url("+(e||"")+"#"+a+r+")"}function Ju(t,n){return null!=t?t:n}function Qu(t,n){var e,r=[];return e={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:n?n[0]:1,y2:n?n[1]:0,stops:r,stop:function(t,n){return r.push({offset:t,color:n}),e}}}function Ku(t){this.mark=t,this.bounds=this.bounds||new Hu}function to(t){Ku.call(this,t),this.items=this.items||[]}function no(t,n){if("undefined"!=typeof document&&document.createElement){var e=document.createElement("canvas");if(e&&e.getContext)return e.width=t,e.height=n,e}return null}function eo(){return"undefined"!=typeof Image?Image:null}function ro(t){this._pending=0,this._loader=t||wr()}et(to,Ku);var io=ro.prototype;function ao(t){t._pending+=1}function uo(t){t._pending-=1}io.pending=function(){return this._pending},io.sanitizeURL=function(t){var n=this;return ao(n),n._loader.sanitize(t,{context:"href"}).then(function(t){return uo(n),t}).catch(function(){return uo(n),null})},io.loadImage=function(t){var n=this,e=eo();return ao(n),n._loader.sanitize(t,{context:"image"}).then(function(t){var r=t.href;if(!r||!e)throw{url:r};var i=new e;return i.onload=function(){uo(n),i.loaded=!0},i.onerror=function(){uo(n),i.loaded=!1},i.src=r,i}).catch(function(t){return uo(n),{loaded:!1,width:0,height:0,src:t&&t.url||""}})},io.ready=function(){var t=this;return new Promise(function(n){!function e(r){t.pending()?setTimeout(function(){e(!0)},10):n(r)}(!1)})};var oo=Math.PI,so=2*oo,lo=so-1e-6;function co(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function fo(){return new co}function ho(t){return function(){return t}}co.prototype=fo.prototype={constructor:co,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,u=this._y1,o=e-t,s=r-n,l=a-t,c=u-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(c*o-s*l)>1e-6&&i){var h=e-a,d=r-u,p=o*o+s*s,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),y=i*Math.tan((oo-Math.acos((p+f-g)/(2*m*v)))/2),x=y/v,_=y/m;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*l)+","+(n+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+_*o)+","+(this._y1=n+_*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n;var u=(e=+e)*Math.cos(r),o=e*Math.sin(r),s=t+u,l=n+o,c=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),e&&(f<0&&(f=f%so+so),f>lo?this._+="A"+e+","+e+",0,1,"+c+","+(t-u)+","+(n-o)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=oo)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var po=Math.abs,go=Math.atan2,mo=Math.cos,vo=Math.max,yo=Math.min,xo=Math.sin,_o=Math.sqrt,bo=1e-12,wo=Math.PI,Ao=wo/2,Mo=2*wo;function ko(t){return t>=1?Ao:t<=-1?-Ao:Math.asin(t)}function Eo(t){return t.innerRadius}function Co(t){return t.outerRadius}function Do(t){return t.startAngle}function Fo(t){return t.endAngle}function So(t){return t&&t.padAngle}function Bo(t,n,e,r,i,a,u){var o=t-e,s=n-r,l=(u?a:-a)/_o(o*o+s*s),c=l*s,f=-l*o,h=t+c,d=n+f,p=e+c,g=r+f,m=(h+p)/2,v=(d+g)/2,y=p-h,x=g-d,_=y*y+x*x,b=i-a,w=h*g-p*d,A=(x<0?-1:1)*_o(vo(0,b*b*_-w*w)),M=(w*x-y*A)/_,k=(-w*y-x*A)/_,E=(w*x+y*A)/_,C=(-w*y+x*A)/_,D=M-m,F=k-v,S=E-m,B=C-v;return D*D+F*F>S*S+B*B&&(M=E,k=C),{cx:M,cy:k,x01:-c,y01:-f,x11:M*(i/b-1),y11:k*(i/b-1)}}function Oo(t){this._context=t}function zo(t){return new Oo(t)}function No(t){return t[0]}function To(t){return t[1]}function Ro(){var t=No,n=To,e=ho(!0),r=null,i=zo,a=null;function u(u){var o,s,l,c=u.length,f=!1;for(null==r&&(a=i(l=fo())),o=0;o<=c;++o)!(o<c&&e(s=u[o],o,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(s,o,u),+n(s,o,u));if(l)return a=null,l+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:ho(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:ho(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:ho(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),u):r},u}function Po(){var t=No,n=null,e=ho(0),r=To,i=ho(!0),a=null,u=zo,o=null;function s(s){var l,c,f,h,d,p=s.length,g=!1,m=new Array(p),v=new Array(p);for(null==a&&(o=u(d=fo())),l=0;l<=p;++l){if(!(l<p&&i(h=s[l],l,s))===g)if(g=!g)c=l,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=l-1;f>=c;--f)o.point(m[f],v[f]);o.lineEnd(),o.areaEnd()}g&&(m[l]=+t(h,l,s),v[l]=+e(h,l,s),o.point(n?+n(h,l,s):m[l],r?+r(h,l,s):v[l]))}if(d)return o=null,d+""||null}function l(){return Ro().defined(i).curve(u).context(a)}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:ho(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"==typeof n?n:ho(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:ho(+t),s):n},s.y=function(t){return arguments.length?(e="function"==typeof t?t:ho(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"==typeof t?t:ho(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ho(+t),s):r},s.lineX0=s.lineY0=function(){return l().x(t).y(e)},s.lineY1=function(){return l().x(t).y(r)},s.lineX1=function(){return l().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"==typeof t?t:ho(!!t),s):i},s.curve=function(t){return arguments.length?(u=t,null!=a&&(o=u(a)),s):u},s.context=function(t){return arguments.length?(null==t?a=o=null:o=u(a=t),s):a},s}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Lo={draw:function(t,n){var e=Math.sqrt(n/wo);t.moveTo(e,0),t.arc(0,0,e,0,Mo)}};function qo(){}function Uo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function jo(t){this._context=t}function $o(t){this._context=t}function Io(t){this._context=t}function Wo(t,n){this._basis=new jo(t),this._beta=n}jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},$o.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Uo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Io.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Uo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Wo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],a=n[0],u=t[e]-i,o=n[e]-a,s=-1;++s<=e;)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*u),this._beta*n[s]+(1-this._beta)*(a+r*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Ho=function t(n){function e(t){return 1===n?new jo(t):new Wo(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Yo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Go(t,n){this._context=t,this._k=(1-n)/6}Go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Yo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Vo=function t(n){function e(t){return new Go(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Xo(t,n){this._context=t,this._k=(1-n)/6}Xo.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Yo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Zo=function t(n){function e(t){return new Xo(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Jo(t,n){this._context=t,this._k=(1-n)/6}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Qo=function t(n){function e(t){return new Jo(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ko(t,n,e){var r=t._x1,i=t._y1,a=t._x2,u=t._y2;if(t._l01_a>bo){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>bo){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*l+t._x1*t._l23_2a-n*t._l12_2a)/c,u=(u*l+t._y1*t._l23_2a-e*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,u,t._x2,t._y2)}function ts(t,n){this._context=t,this._alpha=n}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Ko(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ns=function t(n){function e(t){return n?new ts(t,n):new Go(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function es(t,n){this._context=t,this._alpha=n}es.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ko(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var rs=function t(n){function e(t){return n?new es(t,n):new Xo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function is(t,n){this._context=t,this._alpha=n}is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ko(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var as=function t(n){function e(t){return n?new is(t,n):new Jo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function us(t){this._context=t}function os(t){return t<0?-1:1}function ss(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),o=(a*i+u*r)/(r+i);return(os(a)+os(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(o))||0}function ls(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function cs(t,n,e){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*n,a-o,u-o*e,a,u)}function fs(t){this._context=t}function hs(t){this._context=new ds(t)}function ds(t){this._context=t}function ps(t){this._context=t}function gs(t){var n,e,r=t.length-1,i=new Array(r),a=new Array(r),u=new Array(r);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,a[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,a[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/a[n-1],a[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/a[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/a[n];for(a[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}function ms(t,n){this._context=t,this._t=n}us.prototype={areaStart:qo,areaEnd:qo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cs(this,this._t0,ls(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,cs(this,ls(this,e=ss(this,t,n)),e);break;default:cs(this,this._t0,e=ss(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(hs.prototype=Object.create(fs.prototype)).point=function(t,n){fs.prototype.point.call(this,n,t)},ds.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}},ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=gs(t),i=gs(n),a=0,u=1;u<e;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var vs={basis:{curve:function(t){return new jo(t)}},"basis-closed":{curve:function(t){return new $o(t)}},"basis-open":{curve:function(t){return new Io(t)}},bundle:{curve:Ho,tension:"beta",value:.85},cardinal:{curve:Vo,tension:"tension",value:0},"cardinal-open":{curve:Qo,tension:"tension",value:0},"cardinal-closed":{curve:Zo,tension:"tension",value:0},"catmull-rom":{curve:ns,tension:"alpha",value:.5},"catmull-rom-closed":{curve:rs,tension:"alpha",value:.5},"catmull-rom-open":{curve:as,tension:"alpha",value:.5},linear:{curve:zo},"linear-closed":{curve:function(t){return new us(t)}},monotone:{horizontal:function(t){return new hs(t)},vertical:function(t){return new fs(t)}},natural:{curve:function(t){return new ps(t)}},step:{curve:function(t){return new ms(t,.5)}},"step-after":{curve:function(t){return new ms(t,1)}},"step-before":{curve:function(t){return new ms(t,0)}}};function ys(t,n,e){var r=vs.hasOwnProperty(t)&&vs[t],i=null;return r&&(i=r.curve||r[n||"vertical"],r.tension&&null!=e&&(i=i[r.tension](e))),i}var xs={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_s=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];function bs(t){var n,e,r,i,a,u,o,s,l,c,f,h=[];for(s=0,c=(n=t.slice().replace(_s[0],"###$1").split(_s[1]).slice(1)).length;s<c;++s){for(r=(e=n[s]).slice(1).trim().replace(_s[2],"$1###$2").split(_s[3]),i=[u=e.charAt(0)],l=0,f=r.length;l<f;++l)(a=+r[l])===a&&i.push(a);if(o=xs[u.toLowerCase()],i.length-1>o)for(l=1,f=i.length;l<f;l+=o)h.push([u].concat(i.slice(l,l+o)));else h.push(i)}return h}var ws=Math.PI/180,As=Math.PI/2,Ms=2*Math.PI,ks=Math.sqrt(3)/2,Es={},Cs={},Ds=[].join;function Fs(t){var n=Ds.call(t);if(Cs[n])return Cs[n];var e=t[0],r=t[1],i=t[2],a=t[3],u=t[4],o=t[5],s=t[6],l=t[7],c=l*u,f=-s*o,h=s*u,d=l*o,p=Math.cos(i),g=Math.sin(i),m=Math.cos(a),v=Math.sin(a),y=.5*(a-i),x=Math.sin(.5*y),_=8/3*x*x/Math.sin(y),b=e+p-_*g,w=r+g+_*p,A=e+m,M=r+v,k=A+_*v,E=M-_*m;return Cs[n]=[c*b+f*w,h*b+d*w,c*k+f*E,h*k+d*E,c*A+f*M,h*A+d*M]}var Ss=["l",0,0,0,0,0,0,0];function Bs(t,n){var e=Ss[0]=t[0];if("a"===e||"A"===e)Ss[1]=n*t[1],Ss[2]=n*t[2],Ss[3]=t[3],Ss[4]=t[4],Ss[5]=t[5],Ss[6]=n*t[6],Ss[7]=n*t[7];else for(var r=1,i=t.length;r<i;++r)Ss[r]=n*t[r];return Ss}function Os(t,n,e,r,i){var a,u,o,s,l,c=null,f=0,h=0,d=0,p=0;null==e&&(e=0),null==r&&(r=0),null==i&&(i=1),t.beginPath&&t.beginPath();for(var g=0,m=n.length;g<m;++g){switch(a=n[g],1!==i&&(a=Bs(a,i)),a[0]){case"l":f+=a[1],h+=a[2],t.lineTo(f+e,h+r);break;case"L":f=a[1],h=a[2],t.lineTo(f+e,h+r);break;case"h":f+=a[1],t.lineTo(f+e,h+r);break;case"H":f=a[1],t.lineTo(f+e,h+r);break;case"v":h+=a[1],t.lineTo(f+e,h+r);break;case"V":h=a[1],t.lineTo(f+e,h+r);break;case"m":f+=a[1],h+=a[2],t.moveTo(f+e,h+r);break;case"M":f=a[1],h=a[2],t.moveTo(f+e,h+r);break;case"c":u=f+a[5],o=h+a[6],d=f+a[3],p=h+a[4],t.bezierCurveTo(f+a[1]+e,h+a[2]+r,d+e,p+r,u+e,o+r),f=u,h=o;break;case"C":f=a[5],h=a[6],d=a[3],p=a[4],t.bezierCurveTo(a[1]+e,a[2]+r,d+e,p+r,f+e,h+r);break;case"s":u=f+a[3],o=h+a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,f+a[1]+e,h+a[2]+r,u+e,o+r),d=f+a[1],p=h+a[2],f=u,h=o;break;case"S":u=a[3],o=a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,a[1]+e,a[2]+r,u+e,o+r),f=u,h=o,d=a[1],p=a[2];break;case"q":u=f+a[3],o=h+a[4],d=f+a[1],p=h+a[2],t.quadraticCurveTo(d+e,p+r,u+e,o+r),f=u,h=o;break;case"Q":u=a[3],o=a[4],t.quadraticCurveTo(a[1]+e,a[2]+r,u+e,o+r),f=u,h=o,d=a[1],p=a[2];break;case"t":u=f+a[1],o=h+a[2],null===c[0].match(/[QqTt]/)?(d=f,p=h):"t"===c[0]?(d=2*f-s,p=2*h-l):"q"===c[0]&&(d=2*f-d,p=2*h-p),s=d,l=p,t.quadraticCurveTo(d+e,p+r,u+e,o+r),h=o,d=(f=u)+a[1],p=h+a[2];break;case"T":u=a[1],o=a[2],d=2*f-d,p=2*h-p,t.quadraticCurveTo(d+e,p+r,u+e,o+r),f=u,h=o;break;case"a":zs(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+e,a[7]+h+r]),f+=a[6],h+=a[7];break;case"A":zs(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+e,a[7]+r]),f=a[6],h=a[7];break;case"z":case"Z":t.closePath()}c=a}}function zs(t,n,e,r){for(var i=function(t,n,e,r,i,a,u,o,s){var l=Ds.call(arguments);if(Es[l])return Es[l];var c=u*ws,f=Math.sin(c),h=Math.cos(c),d=h*(o-t)*.5+f*(s-n)*.5,p=h*(s-n)*.5-f*(o-t)*.5,g=d*d/((e=Math.abs(e))*e)+p*p/((r=Math.abs(r))*r);g>1&&(e*=g=Math.sqrt(g),r*=g);var m=h/e,v=f/e,y=-f/r,x=h/r,_=m*o+v*s,b=y*o+x*s,w=m*t+v*n,A=y*t+x*n,M=1/((w-_)*(w-_)+(A-b)*(A-b))-.25;M<0&&(M=0);var k=Math.sqrt(M);a==i&&(k=-k);var E=.5*(_+w)-k*(A-b),C=.5*(b+A)+k*(w-_),D=Math.atan2(b-C,_-E),F=Math.atan2(A-C,w-E)-D;F<0&&1===a?F+=Ms:F>0&&0===a&&(F-=Ms);for(var S=Math.ceil(Math.abs(F/(As+.001))),B=[],O=0;O<S;++O){var z=D+O*F/S,N=D+(O+1)*F/S;B[O]=[E,C,z,N,e,r,f,h]}return Es[l]=B}(r[5],r[6],r[0],r[1],r[3],r[4],r[2],n,e),a=0;a<i.length;++a){var u=Fs(i[a]);t.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5])}}var Ns={circle:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(e,0),t.arc(0,0,e,0,Ms)}},cross:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/2.5;t.moveTo(-e,-r),t.lineTo(-e,r),t.lineTo(-r,r),t.lineTo(-r,e),t.lineTo(r,e),t.lineTo(r,r),t.lineTo(e,r),t.lineTo(e,-r),t.lineTo(r,-r),t.lineTo(r,-e),t.lineTo(-r,-e),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.closePath()}},square:{draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},arrow:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/7,i=e/2.5,a=e/8;t.moveTo(-r,e),t.lineTo(r,e),t.lineTo(r,-a),t.lineTo(i,-a),t.lineTo(0,-e),t.lineTo(-i,-a),t.lineTo(-r,-a),t.closePath()}},wedge:{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e,i=r-.5773502691896257*e,a=e/4;t.moveTo(0,-r-i),t.lineTo(-a,r-i),t.lineTo(a,r-i),t.closePath()}},triangle:{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e,i=r-.5773502691896257*e;t.moveTo(0,-r-i),t.lineTo(-e,r-i),t.lineTo(e,r-i),t.closePath()}},"triangle-up":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e;t.moveTo(0,-r),t.lineTo(-e,r),t.lineTo(e,r),t.closePath()}},"triangle-down":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e;t.moveTo(0,r),t.lineTo(-e,-r),t.lineTo(e,-r),t.closePath()}},"triangle-right":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e;t.moveTo(r,0),t.lineTo(-r,-e),t.lineTo(-r,e),t.closePath()}},"triangle-left":{draw:function(t,n){var e=Math.sqrt(n)/2,r=ks*e;t.moveTo(-r,0),t.lineTo(r,-e),t.lineTo(r,e),t.closePath()}},stroke:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(e,0)}}};function Ts(t){return Ns.hasOwnProperty(t)?Ns[t]:function(t){if(!Rs.hasOwnProperty(t)){var n=bs(t);Rs[t]={draw:function(t,e){Os(t,n,0,0,Math.sqrt(e)/2)}}}return Rs[t]}(t)}var Rs={};function Ps(t){return t.x}function Ls(t){return t.y}function qs(t){return t.width}function Us(t){return t.height}function js(t){return function(){return t}}function $s(){var t=Ps,n=Ls,e=qs,r=Us,i=js(0),a=null;function u(u,o,s){var l,c=null!=o?o:+t.call(this,u),f=null!=s?s:+n.call(this,u),h=+e.call(this,u),d=+r.call(this,u),p=+i.call(this,u);if(a||(a=l=fo()),p<=0)a.rect(c,f,h,d);else{var g=c+h,m=f+d;a.moveTo(c+p,f),a.lineTo(g-p,f),a.quadraticCurveTo(g,f,g,f+p),a.lineTo(g,m-p),a.quadraticCurveTo(g,m,g-p,m),a.lineTo(c+p,m),a.quadraticCurveTo(c,m,c,m-p),a.lineTo(c,f+p),a.quadraticCurveTo(c,f,c+p,f),a.closePath()}if(l)return a=null,l+""||null}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:js(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:js(+t),u):n},u.width=function(t){return arguments.length?(e="function"==typeof t?t:js(+t),u):e},u.height=function(t){return arguments.length?(r="function"==typeof t?t:js(+t),u):r},u.cornerRadius=function(t){return arguments.length?(i="function"==typeof t?t:js(+t),u):i},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u}function Is(){var t,n,e,r,i,a,u,o,s=null;function l(t,n,e){var r=e/2;if(i){var l=u-n,c=t-a;if(l||c){var f=Math.sqrt(l*l+c*c),h=(l/=f)*o,d=(c/=f)*o,p=Math.atan2(c,l);s.moveTo(a-h,u-d),s.lineTo(t-l*r,n-c*r),s.arc(t,n,r,p-Math.PI,p),s.lineTo(a+h,u+d),s.arc(a,u,o,p,p+Math.PI)}else s.arc(t,n,r,0,Ms);s.closePath()}else i=1;a=t,u=n,o=r}function c(a){var u,o,c,f=a.length,h=!1;for(null==s&&(s=c=fo()),u=0;u<=f;++u)!(u<f&&r(o=a[u],u,a))===h&&(h=!h)&&(i=0),h&&l(+t(o,u,a),+n(o,u,a),+e(o,u,a));if(c)return s=null,c+""||null}return c.x=function(n){return arguments.length?(t=n,c):t},c.y=function(t){return arguments.length?(n=t,c):n},c.size=function(t){return arguments.length?(e=t,c):e},c.defined=function(t){return arguments.length?(r=t,c):r},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function Ws(t){return t.x||0}function Hs(t){return t.y||0}function Ys(t){return t.cornerRadius||0}function Gs(t){return!(!1===t.defined)}var Vs=function(){var t=Eo,n=Co,e=ho(0),r=null,i=Do,a=Fo,u=So,o=null;function s(){var s,l,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-Ao,p=a.apply(this,arguments)-Ao,g=po(p-d),m=p>d;if(o||(o=s=fo()),h<f&&(l=h,h=f,f=l),h>bo)if(g>Mo-bo)o.moveTo(h*mo(d),h*xo(d)),o.arc(0,0,h,d,p,!m),f>bo&&(o.moveTo(f*mo(p),f*xo(p)),o.arc(0,0,f,p,d,m));else{var v,y,x=d,_=p,b=d,w=p,A=g,M=g,k=u.apply(this,arguments)/2,E=k>bo&&(r?+r.apply(this,arguments):_o(f*f+h*h)),C=yo(po(h-f)/2,+e.apply(this,arguments)),D=C,F=C;if(E>bo){var S=ko(E/f*xo(k)),B=ko(E/h*xo(k));(A-=2*S)>bo?(b+=S*=m?1:-1,w-=S):(A=0,b=w=(d+p)/2),(M-=2*B)>bo?(x+=B*=m?1:-1,_-=B):(M=0,x=_=(d+p)/2)}var O=h*mo(x),z=h*xo(x),N=f*mo(w),T=f*xo(w);if(C>bo){var R,P=h*mo(_),L=h*xo(_),q=f*mo(b),U=f*xo(b);if(g<wo&&(R=function(t,n,e,r,i,a,u,o){var s=e-t,l=r-n,c=u-i,f=o-a,h=f*s-c*l;if(!(h*h<bo))return[t+(h=(c*(n-a)-f*(t-i))/h)*s,n+h*l]}(O,z,q,U,P,L,N,T))){var j=O-R[0],$=z-R[1],I=P-R[0],W=L-R[1],H=1/xo(((c=(j*I+$*W)/(_o(j*j+$*$)*_o(I*I+W*W)))>1?0:c<-1?wo:Math.acos(c))/2),Y=_o(R[0]*R[0]+R[1]*R[1]);D=yo(C,(f-Y)/(H-1)),F=yo(C,(h-Y)/(H+1))}}M>bo?F>bo?(v=Bo(q,U,O,z,h,F,m),y=Bo(P,L,N,T,h,F,m),o.moveTo(v.cx+v.x01,v.cy+v.y01),F<C?o.arc(v.cx,v.cy,F,go(v.y01,v.x01),go(y.y01,y.x01),!m):(o.arc(v.cx,v.cy,F,go(v.y01,v.x01),go(v.y11,v.x11),!m),o.arc(0,0,h,go(v.cy+v.y11,v.cx+v.x11),go(y.cy+y.y11,y.cx+y.x11),!m),o.arc(y.cx,y.cy,F,go(y.y11,y.x11),go(y.y01,y.x01),!m))):(o.moveTo(O,z),o.arc(0,0,h,x,_,!m)):o.moveTo(O,z),f>bo&&A>bo?D>bo?(v=Bo(N,T,P,L,f,-D,m),y=Bo(O,z,q,U,f,-D,m),o.lineTo(v.cx+v.x01,v.cy+v.y01),D<C?o.arc(v.cx,v.cy,D,go(v.y01,v.x01),go(y.y01,y.x01),!m):(o.arc(v.cx,v.cy,D,go(v.y01,v.x01),go(v.y11,v.x11),!m),o.arc(0,0,f,go(v.cy+v.y11,v.cx+v.x11),go(y.cy+y.y11,y.cx+y.x11),m),o.arc(y.cx,y.cy,D,go(y.y11,y.x11),go(y.y01,y.x01),!m))):o.arc(0,0,f,w,b,m):o.lineTo(N,T)}else o.moveTo(0,0);if(o.closePath(),s)return o=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-wo/2;return[mo(r)*e,xo(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:ho(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ho(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ho(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ho(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ho(+t),s):i},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ho(+t),s):a},s.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:ho(+t),s):u},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s}().startAngle(function(t){return t.startAngle||0}).endAngle(function(t){return t.endAngle||0}).padAngle(function(t){return t.padAngle||0}).innerRadius(function(t){return t.innerRadius||0}).outerRadius(function(t){return t.outerRadius||0}).cornerRadius(Ys),Xs=Po().x(Ws).y1(Hs).y0(function(t){return(t.y||0)+(t.height||0)}).defined(Gs),Zs=Po().y(Hs).x1(Ws).x0(function(t){return(t.x||0)+(t.width||0)}).defined(Gs),Js=Ro().x(Ws).y(Hs).defined(Gs),Qs=$s().x(Ws).y(Hs).width(function(t){return t.width||0}).height(function(t){return t.height||0}).cornerRadius(Ys),Ks=function(){var t=ho(Lo),n=ho(64),e=null;function r(){var r;if(e||(e=r=fo()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"==typeof n?n:ho(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:ho(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}().type(function(t){return Ts(t.shape||"circle")}).size(function(t){return null==t.size?64:t.size}),tl=Is().x(Ws).y(Hs).defined(Gs).size(function(t){return t.size||1});function nl(t,n,e,r){return Qs.context(t)(n,e,r)}function el(t,n){return n.stroke&&0!==n.opacity&&0!==n.strokeOpacity&&t.expand(null!=n.strokeWidth?+n.strokeWidth:1),t}var rl,il=Ms-1e-8;function al(t){return rl=t,al}function ul(){}function ol(t,n){rl.add(t,n)}al.beginPath=ul,al.closePath=ul,al.moveTo=ol,al.lineTo=ol,al.rect=function(t,n,e,r){ol(t,n),ol(t+e,n+r)},al.quadraticCurveTo=function(t,n,e,r){ol(t,n),ol(e,r)},al.bezierCurveTo=function(t,n,e,r,i,a){ol(t,n),ol(e,r),ol(i,a)},al.arc=function(t,n,e,r,i,a){if(Math.abs(i-r)>il)return ol(t-e,n-e),void ol(t+e,n+e);var u,o,s,l,c=1/0,f=-1/0,h=1/0,d=-1/0;function p(t){s=e*Math.cos(t),l=e*Math.sin(t),s<c&&(c=s),s>f&&(f=s),l<h&&(h=l),l>d&&(d=l)}if(p(r),p(i),i!==r)if((r%=Ms)<0&&(r+=Ms),(i%=Ms)<0&&(i+=Ms),i<r&&(a=!a,u=r,r=i,i=u),a)for(i-=Ms,u=r-r%As,o=0;o<4&&u>i;++o,u-=As)p(u);else for(u=r-r%As+As,o=0;o<4&&u<i;++o,u+=As)p(u);ol(t+c,n+h),ol(t+f,n+d)};var sl=(sl=no(1,1))?sl.getContext("2d"):null;const ll=new Hu;function cl(t){return function(n,e){if(!sl)return!0;t(sl,n),ll.clear().union(n.bounds).intersect(e).round();const{x1:r,y1:i,x2:a,y2:u}=ll;for(let t=i;t<=u;++t)for(let n=r;n<=a;++n)if(sl.isPointInPath(n,t))return!0;return!1}}function fl(t,n){return n.contains(t.x||0,t.y||0)}function hl(t,n){const e=t.x||0,r=t.y||0,i=t.width||0,a=t.height||0;return n.intersects(ll.set(e,r,e+i,r+a))}function dl(t,n){const e=t.x||0,r=t.y||0;return pl(n,e,r,null!=t.x2?t.x2:e,null!=t.y2?t.y2:r)}function pl(t,n,e,r,i){const{x1:a,y1:u,x2:o,y2:s}=t,l=r-n,c=i-e;let f,h,d,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(f=-l,h=-(a-n)),1===p&&(f=l,h=o-n),2===p&&(f=-c,h=-(u-e)),3===p&&(f=c,h=s-e),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>m)return!1;d>g&&(g=d)}else if(f>0){if(d<g)return!1;d<m&&(m=d)}}return!0}function gl(t,n,e){return Xu(e)?function(t,n,e){const r=e.width(),i=e.height(),a=n.stops,u=a.length,o="radial"===n.gradient?t.createRadialGradient(e.x1+(n.x1||.5)*r,e.y1+(n.y1||.5)*i,Math.max(r,i)*(n.r1||0),e.x1+(n.x2||.5)*r,e.y1+(n.y2||.5)*i,Math.max(r,i)*(n.r2||.5)):t.createLinearGradient(e.x1+(n.x1||0)*r,e.y1+(n.y1||0)*i,e.x1+(n.x2||1)*r,e.y1+(n.y2||0)*i);for(let t=0;t<u;++t)o.addColorStop(a[t].offset,a[t].color);return o}(t,e,n.bounds):e}function ml(t,n,e){return(e*=null==n.fillOpacity?1:n.fillOpacity)>0&&(t.globalAlpha=e,t.fillStyle=gl(t,n,n.fill),!0)}var vl=[];function yl(t,n,e){var r=null!=(r=n.strokeWidth)?r:1;return!(r<=0)&&((e*=null==n.strokeOpacity?1:n.strokeOpacity)>0&&(t.globalAlpha=e,t.strokeStyle=gl(t,n,n.stroke),t.lineWidth=r,t.lineCap=n.strokeCap||"butt",t.lineJoin=n.strokeJoin||"miter",t.miterLimit=n.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(n.strokeDash||vl),t.lineDashOffset=n.strokeDashOffset||0),!0))}function xl(t,n){return t.zindex-n.zindex||t.index-n.index}function _l(t){if(!t.zdirty)return t.zitems;var n,e,r,i=t.items,a=[];for(e=0,r=i.length;e<r;++e)(n=i[e]).index=e,n.zindex&&a.push(n);return t.zdirty=!1,t.zitems=a.sort(xl)}function bl(t,n){var e,r,i=t.items;if(i&&i.length){var a=_l(t);if(a&&a.length){for(e=0,r=i.length;e<r;++e)i[e].zindex||n(i[e]);i=a}for(e=0,r=i.length;e<r;++e)n(i[e])}}function wl(t,n){var e,r,i=t.items;if(!i||!i.length)return null;var a=_l(t);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(e=n(i[r]))return e;if(i===a)for(r=(i=t.items).length;--r>=0;)if(!i[r].zindex&&(e=n(i[r])))return e;return null}function Al(t){return function(n,e,r){bl(e,function(e){r&&!r.intersects(e.bounds)||Ml(t,n,e,e)})}}function Ml(t,n,e,r){var i=null==e.opacity?1:e.opacity;0!==i&&(t(n,r)||(e.fill&&ml(n,e,i)&&n.fill(),e.stroke&&yl(n,e,i)&&n.stroke()))}function kl(t){return t=t||m,function(n,e,r,i,a,u){return r*=n.pixelRatio,i*=n.pixelRatio,wl(e,function(e){var o=e.bounds;if((!o||o.contains(a,u))&&o)return t(n,e,r,i,a,u)?e:void 0})}}function El(t,n){return function(e,r,i,a){var u,o,s=Array.isArray(r)?r[0]:r,l=null==n?s.fill:n,c=s.stroke&&e.isPointInStroke;return c&&(u=s.strokeWidth,o=s.strokeCap,e.lineWidth=null!=u?u:1,e.lineCap=null!=o?o:"butt"),!t(e,r)&&(l&&e.isPointInPath(i,a)||c&&e.isPointInStroke(i,a))}}function Cl(t){return kl(El(t))}function Dl(t,n){return"translate("+t+","+n+")"}function Fl(t){return"rotate("+t+")"}function Sl(t){return Dl(t.x||0,t.y||0)}function Bl(t,n,e){function r(t,e){var r=e.x||0,i=e.y||0,a=e.angle||0;t.translate(r,i),a&&t.rotate(a*=ws),t.beginPath(),n(t,e),a&&t.rotate(-a),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:function(t,e){t("transform",function(t){return Dl(t.x||0,t.y||0)+(t.angle?" "+Fl(t.angle):"")}(e)),t("d",n(null,e))},bound:function(t,e){var r=e.x||0,i=e.y||0;return n(al(t),e),el(t,e).translate(r,i),e.angle&&t.rotate(e.angle*ws,r,i),t},draw:Al(r),pick:Cl(r),isect:e||cl(r)}}var Ol=Bl("arc",function(t,n){return Vs.context(t)(n)});function zl(t,n,e){function r(t,e){t.beginPath(),n(t,e)}var i,a=El(r);return{type:t,tag:"path",nested:!0,attr:function(t,e){var r=e.mark.items;r.length&&t("d",n(null,r))},bound:function(t,e){var r=e.items;return 0===r.length?t:(n(al(t),r),el(t,r[0]))},draw:(i=r,function(t,n,e){!n.items.length||e&&!e.intersects(n.bounds)||Ml(i,t,n.items[0],n.items)}),pick:function(t,n,e,r,i,u){var o=n.items,s=n.bounds;return!o||!o.length||s&&!s.contains(i,u)?null:(e*=t.pixelRatio,r*=t.pixelRatio,a(t,o,e,r)?o[0]:null)},isect:fl,tip:e}}var Nl=zl("area",function(t,n){var e=n[0],r=e.interpolate||"linear";return("horizontal"===e.orient?Zs:Xs).curve(ys(r,e.orient,e.tension)).context(t)(n)},function(t,n){for(var e,r,i="horizontal"===t[0].orient?n[1]:n[0],a="horizontal"===t[0].orient?"y":"x",u=t.length,o=1/0;--u>=0;)!1!==t[u].defined&&(r=Math.abs(t[u][a]-i))<o&&(o=r,e=t[u]);return e}),Tl=1;function Rl(t,n,e){var r=n.clip,i=t._defs,a=n.clip_id||(n.clip_id="clip"+Tl++),u=i.clipping[a]||(i.clipping[a]={id:a});return Y(r)?u.path=r(null):(u.width=e.width||0,u.height=e.height||0),"url(#"+a+")"}var Pl=.5;function Ll(t,n){var e=n.stroke?Pl:0;t.beginPath(),nl(t,n,e,e)}var ql=El(Ll);var Ul={type:"group",tag:"g",nested:!1,attr:function(t,n){t("transform",Sl(n))},bound:function(t,n){if(!n.clip&&n.items)for(var e=n.items,r=0,i=e.length;r<i;++r)t.union(e[r].bounds);return(n.clip||n.width||n.height)&&!n.noBound&&t.add(0,0).add(n.width||0,n.height||0),el(t,n),t.translate(n.x||0,n.y||0)},draw:function(t,n,e){var r=this;bl(n,function(n){var i,a=n.x||0,u=n.y||0,o=n.width||0,s=n.height||0;t.save(),t.translate(a,u),(n.stroke||n.fill)&&(i=null==n.opacity?1:n.opacity)>0&&(Ll(t,n),n.fill&&ml(t,n,i)&&t.fill(),n.stroke&&yl(t,n,i)&&t.stroke()),n.clip&&(t.beginPath(),t.rect(0,0,o,s),t.clip()),e&&e.translate(-a,-u),bl(n,function(n){r.draw(t,n,e)}),e&&e.translate(a,u),t.restore()})},pick:function(t,n,e,r,i,a){if(n.bounds&&!n.bounds.contains(i,a)||!n.items)return null;var u=this,o=e*t.pixelRatio,s=r*t.pixelRatio;return wl(n,function(l){var c,f,h,d;if(!(d=l.bounds)||d.contains(i,a))return f=l.x||0,h=l.y||0,t.save(),t.translate(f,h),f=i-f,h=a-h,!(c=wl(l,function(t){return function(t,n,e){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(n,e)}(t,f,h)?u.pick(t,e,r,f,h):null}))&&!1!==n.interactive&&(l.fill||l.stroke)&&ql(t,l,o,s)&&(c=l),t.restore(),c||null})},isect:hl,background:function(t,n){var e=n.stroke?Pl:0;t("class","background"),t("d",nl(null,n,e,e))},foreground:function(t,n,e){t("clip-path",n.clip?Rl(e,n,n):null)}};function jl(t,n){var e=t.image;return e&&e.url===t.url||(e={loaded:!1,width:0,height:0},n.loadImage(t.url).then(function(n){t.image=n,t.image.url=t.url})),e}function $l(t,n){return"center"===t?n/2:"right"===t?n:0}function Il(t,n){return"middle"===t?n/2:"bottom"===t?n:0}var Wl={type:"image",tag:"image",nested:!1,attr:function(t,n,e){var r=jl(n,e),i=n.x||0,a=n.y||0,u=(null!=n.width?n.width:r.width)||0,o=(null!=n.height?n.height:r.height)||0,s=!1===n.aspect?"none":"xMidYMid";i-=$l(n.align,u),a-=Il(n.baseline,o),t("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),t("transform",Dl(i,a)),t("width",u),t("height",o),t("preserveAspectRatio",s)},bound:function(t,n){var e=n.image,r=n.x||0,i=n.y||0,a=(null!=n.width?n.width:e&&e.width)||0,u=(null!=n.height?n.height:e&&e.height)||0;return r-=$l(n.align,a),i-=Il(n.baseline,u),t.set(r,i,r+a,i+u)},draw:function(t,n,e){var r=this;bl(n,function(n){if(!e||e.intersects(n.bounds)){var i,a,u,o,s=jl(n,r),l=n.x||0,c=n.y||0,f=(null!=n.width?n.width:s.width)||0,h=(null!=n.height?n.height:s.height)||0;l-=$l(n.align,f),c-=Il(n.baseline,h),!1!==n.aspect&&(a=s.width/s.height,u=n.width/n.height,a==a&&u==u&&a!==u&&(u<a?(c+=(h-(o=f/a))/2,h=o):(l+=(f-(o=h*a))/2,f=o))),s.loaded&&(t.globalAlpha=null!=(i=n.opacity)?i:1,t.drawImage(s,l,c,f,h))}})},pick:kl(),isect:m,get:jl,xOffset:$l,yOffset:Il},Hl=zl("line",function(t,n){var e=n[0],r=e.interpolate||"linear";return Js.curve(ys(r,e.orient,e.tension)).context(t)(n)},function(t,n){for(var e,r,i=Math.pow(t[0].strokeWidth||1,2),a=t.length;--a>=0;)if(!1!==t[a].defined&&(e=t[a].x-n[0])*e+(r=t[a].y-n[1])*r<i)return t[a];return null});function Yl(t,n){var e=n.path;if(null==e)return!0;var r=n.pathCache;r&&r.path===e||((n.pathCache=r=bs(e)).path=e),Os(t,r,n.x,n.y)}var Gl={type:"path",tag:"path",nested:!1,attr:function(t,n){t("transform",Sl(n)),t("d",n.path)},bound:function(t,n){return Yl(al(t),n)?t.set(0,0,0,0):el(t,n)},draw:Al(Yl),pick:Cl(Yl),isect:cl(Yl)};function Vl(t,n){t.beginPath(),nl(t,n)}var Xl={type:"rect",tag:"path",nested:!1,attr:function(t,n){t("d",nl(null,n))},bound:function(t,n){var e,r;return el(t.set(e=n.x||0,r=n.y||0,e+n.width||0,r+n.height||0),n)},draw:Al(Vl),pick:Cl(Vl),isect:hl};function Zl(t,n,e){var r,i,a,u;return!(!n.stroke||!yl(t,n,e))&&(r=n.x||0,i=n.y||0,a=null!=n.x2?n.x2:r,u=null!=n.y2?n.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(a,u),!0)}var Jl,Ql={type:"rule",tag:"line",nested:!1,attr:function(t,n){t("transform",Sl(n)),t("x2",null!=n.x2?n.x2-(n.x||0):0),t("y2",null!=n.y2?n.y2-(n.y||0):0)},bound:function(t,n){var e,r;return el(t.set(e=n.x||0,r=n.y||0,null!=n.x2?n.x2:e,null!=n.y2?n.y2:r),n)},draw:function(t,n,e){bl(n,function(n){if(!e||e.intersects(n.bounds)){var r=null==n.opacity?1:n.opacity;r&&Zl(t,n,r)&&t.stroke()}})},pick:kl(function(t,n,e,r){return!!t.isPointInStroke&&Zl(t,n,1)&&t.isPointInStroke(e,r)}),isect:dl},Kl=Bl("shape",function(t,n){return(n.mark.shape||n.shape).context(t)(n)}),tc=Bl("symbol",function(t,n){return Ks.context(t)(n)},fl),nc={height:uc,measureWidth:ic,estimateWidth:ec,width:ec,canvas:oc};function ec(t){return Jl=uc(t),rc(sc(t))}function rc(t){return~~(.8*t.length*Jl)}function ic(t){return uc(t)<=0?0:(sl.font=cc(t),ac(sc(t)))}function ac(t){return sl.measureText(t).width}function uc(t){return null!=t.fontSize?t.fontSize:11}function oc(t){nc.width=t&&sl?ic:ec}function sc(t){var n=t.text;return null==n?"":t.limit>0?function(t){var n,e=+t.limit,r=t.text+"";nc.width===ic?(sl.font=cc(t),n=ac):(Jl=uc(t),n=rc);if(n(r)<e)return r;var i,a=t.ellipsis||"â€¦",u="rtl"===t.dir,o=0,s=r.length;if(e-=n(a),u){for(;o<s;)i=o+s>>>1,n(r.slice(i))>e?o=i+1:s=i;return a+r.slice(o)}for(;o<s;)i=1+(o+s>>>1),n(r.slice(0,i))<e?o=i:s=i-1;return r.slice(0,o)+a}(t):n+""}function lc(t,n){var e=t.font;return(n&&e?String(e).replace(/"/g,"'"):e)||"sans-serif"}function cc(t,n){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+uc(t)+"px "+lc(t,n)}function fc(t){var n=t.baseline,e=uc(t);return Math.round("top"===n?.79*e:"middle"===n?.3*e:"bottom"===n?-.21*e:0)}oc(!0);var hc={left:"start",center:"middle",right:"end"},dc=new Hu;function pc(t){var n,e=t.x||0,r=t.y||0,i=t.radius||0;return i&&(n=(t.theta||0)-As,e+=i*Math.cos(n),r+=i*Math.sin(n)),dc.x1=e,dc.y1=r,dc}function gc(t,n,e){var r,i=nc.height(n),a=n.align,u=pc(n),o=u.x1,s=u.y1,l=n.dx||0,c=(n.dy||0)+fc(n)-Math.round(.8*i);if(r=nc.width(n),"center"===a?l-=r/2:"right"===a&&(l-=r),t.set(l+=o,c+=s,l+r,c+i),n.angle&&!e)t.rotate(n.angle*ws,o,s);else if(2===e)return t.rotatedPoints(n.angle*ws,o,s);return t}var mc={arc:Ol,area:Nl,group:Ul,image:Wl,line:Hl,path:Gl,rect:Xl,rule:Ql,shape:Kl,symbol:tc,text:{type:"text",tag:"text",nested:!1,attr:function(t,n){var e,r=n.dx||0,i=(n.dy||0)+fc(n),a=pc(n),u=a.x1,o=a.y1,s=n.angle||0;t("text-anchor",hc[n.align]||"start"),s?(e=Dl(u,o)+" "+Fl(s),(r||i)&&(e+=" "+Dl(r,i))):e=Dl(u+r,o+i),t("transform",e)},bound:gc,draw:function(t,n,e){bl(n,function(n){var r,i,a,u,o;e&&!e.intersects(n.bounds)||(o=sc(n))&&(0===(r=null==n.opacity?1:n.opacity)||n.fontSize<=0||(t.font=cc(n),t.textAlign=n.align||"left",a=(i=pc(n)).x1,u=i.y1,n.angle&&(t.save(),t.translate(a,u),t.rotate(n.angle*ws),a=u=0),a+=n.dx||0,u+=(n.dy||0)+fc(n),n.fill&&ml(t,n,r)&&t.fillText(o,a,u),n.stroke&&yl(t,n,r)&&t.strokeText(o,a,u),n.angle&&t.restore()))})},pick:kl(function(t,n,e,r,i,a){if(n.fontSize<=0)return!1;if(!n.angle)return!0;var u=pc(n),o=u.x1,s=u.y1,l=gc(dc,n,1),c=-n.angle*ws,f=Math.cos(c),h=Math.sin(c),d=f*i-h*a+(o-f*o+h*s),p=h*i+f*a+(s-h*o-f*s);return l.contains(d,p)}),isect:function(t,n){var e=gc(dc,t,2);return pl(n,e[0],e[1],e[2],e[3])||pl(n,e[0],e[1],e[4],e[5])||pl(n,e[4],e[5],e[6],e[7])||pl(n,e[2],e[3],e[6],e[7])}},trail:zl("trail",function(t,n){return tl.context(t)(n)},function(t,n){for(var e,r,i=t.length;--i>=0;)if(!1!==t[i].defined&&(e=t[i].x-n[0])*e+(r=t[i].y-n[1])*r<(e=t[i].size||1)*e)return t[i];return null})};function vc(t,n,e){var r=mc[t.mark.marktype],i=n||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new Hu),t,e)}var yc={mark:null};function xc(t,n,e){var r,i,a,u,o=mc[t.marktype],s=o.bound,l=t.items,c=l&&l.length;if(o.nested)return c?a=l[0]:(yc.mark=t,a=yc),u=vc(a,s,e),n=n&&n.union(u)||u;if(n=n||t.bounds&&t.bounds.clear()||new Hu,c)for(r=0,i=l.length;r<i;++r)n.union(vc(l[r],s,e));return t.bounds=n}var _c=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function bc(t,n){return JSON.stringify(t,_c,n)}function wc(t){return function t(n){var e,r,i,a=n.marktype,u=n.items;if(u)for(r=0,i=u.length;r<i;++r)e=a?"mark":"group",u[r][e]=n,u[r].zindex&&(u[r][e].zdirty=!0),"group"===(a||e)&&t(u[r]);a&&xc(n);return n}("string"==typeof t?JSON.parse(t):t)}function Ac(t){arguments.length?this.root=wc(t):(this.root=kc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new to(this.root)])}var Mc=Ac.prototype;function kc(t,n){return{bounds:new Hu,clip:!!t.clip,group:n,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0}}function Ec(t,n,e){return!t&&"undefined"!=typeof document&&document.createElement&&(t=document),t?e?t.createElementNS(e,n):t.createElement(n):null}function Cc(t,n){n=n.toLowerCase();for(var e=t.childNodes,r=0,i=e.length;r<i;++r)if(e[r].tagName.toLowerCase()===n)return e[r]}function Dc(t,n,e,r){var i,a=t.childNodes[n];return a&&a.tagName.toLowerCase()===e.toLowerCase()||(i=a||null,a=Ec(t.ownerDocument,e,r),t.insertBefore(a,i)),a}function Fc(t,n){for(var e=t.childNodes,r=e.length;r>n;)t.removeChild(e[--r]);return t}function Sc(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}function Bc(t,n){var e=n.getBoundingClientRect();return[t.clientX-e.left-(n.clientLeft||0),t.clientY-e.top-(n.clientTop||0)]}function Oc(t,n){this._active=null,this._handlers={},this._loader=t||wr(),this._tooltip=n||zc}function zc(t,n,e,r){t.element().setAttribute("title",r||"")}Mc.toJSON=function(t){return bc(this.root,t||0)},Mc.mark=function(t,n,e){var r=kc(t,n=n||this.root.items[0]);return n.items[e]=r,r.zindex&&(r.group.zdirty=!0),r};var Nc=Oc.prototype;function Tc(t){this._el=null,this._bgcolor=null,this._loader=new ro(t)}Nc.initialize=function(t,n,e){return this._el=t,this._obj=e||null,this.origin(n)},Nc.element=function(){return this._el},Nc.canvas=function(){return this._el&&this._el.firstChild},Nc.origin=function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},Nc.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},Nc.on=function(){},Nc.off=function(){},Nc._handlerIndex=function(t,n,e){for(var r=t?t.length:0;--r>=0;)if(t[r].type===n&&(!e||t[r].handler===e))return r;return-1},Nc.handlers=function(t){var n,e=this._handlers,r=[];if(t)r.push.apply(r,e[this.eventName(t)]);else for(n in e)r.push.apply(r,e[n]);return r},Nc.eventName=function(t){var n=t.indexOf(".");return n<0?t:t.slice(0,n)},Nc.handleHref=function(t,n,e){this._loader.sanitize(e,{context:"href"}).then(function(n){var e=new MouseEvent(t.type,t),r=Ec(null,"a");for(var i in n)r.setAttribute(i,n[i]);r.dispatchEvent(e)}).catch(function(){})},Nc.handleTooltip=function(t,n,e){if(n&&null!=n.tooltip){n=function(t,n,e,r){var i,a,u=t&&t.mark;if(u&&(i=mc[u.marktype]).tip){for((a=Bc(n,e))[0]-=r[0],a[1]-=r[1];t=t.mark.group;)a[0]-=t.x||0,a[1]-=t.y||0;t=i.tip(u.items,a)}return t}(n,t,this.canvas(),this._origin);var r=e&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,r)}},Nc.getItemBoundingClientRect=function(t){if(n=this.canvas()){for(var n,e=n.getBoundingClientRect(),r=this._origin,i=t.bounds,a=i.x1+r[0]+e.left,u=i.y1+r[1]+e.top,o=i.width(),s=i.height();t.mark&&(t=t.mark.group);)a+=t.x||0,u+=t.y||0;return{x:a,y:u,width:o,height:s,left:a,top:u,right:a+o,bottom:u+s}}};var Rc=Tc.prototype;Rc.initialize=function(t,n,e,r,i){return this._el=t,this.resize(n,e,r,i)},Rc.element=function(){return this._el},Rc.canvas=function(){return this._el&&this._el.firstChild},Rc.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},Rc.resize=function(t,n,e,r){return this._width=t,this._height=n,this._origin=e||[0,0],this._scale=r||1,this},Rc.dirty=function(){},Rc.render=function(t){var n=this;return n._call=function(){n._render(t)},n._call(),n._call=null,n},Rc._render=function(){},Rc.renderAsync=function(t){var n=this.render(t);return this._ready?this._ready.then(function(){return n}):Promise.resolve(n)},Rc._load=function(t,n){var e=this,r=e._loader[t](n);if(!e._ready){var i=e._call;e._ready=e._loader.ready().then(function(t){t&&i(),e._ready=null})}return r},Rc.sanitizeURL=function(t){return this._load("sanitizeURL",t)},Rc.loadImage=function(t){return this._load("loadImage",t)};var Pc="mouseout";function Lc(t,n){Oc.call(this,t,n),this._down=null,this._touch=null,this._first=!0}var qc=et(Lc,Oc);function Uc(t,n,e){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(t,r):(i&&i.exit||this.fire(e,r),this._active=a,this.fire(n,r),this.fire(t,r))}}function jc(t){return function(n){this.fire(t,n),this._active=null}}qc.initialize=function(t,n,e){var r=this._canvas=t&&Cc(t,"canvas");if(r){var i=this;this.events.forEach(function(t){r.addEventListener(t,function(n){qc[t]?qc[t].call(i,n):i.fire(t,n)})})}return Oc.prototype.initialize.call(this,t,n,e)},qc.canvas=function(){return this._canvas},qc.context=function(){return this._canvas.getContext("2d")},qc.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],qc.DOMMouseScroll=function(t){this.fire("mousewheel",t)},qc.mousemove=Uc("mousemove","mouseover","mouseout"),qc.dragover=Uc("dragover","dragenter","dragleave"),qc.mouseout=jc("mouseout"),qc.dragleave=jc("dragleave"),qc.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},qc.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},qc.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},qc.touchmove=function(t){this.fire("touchmove",t,!0)},qc.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},qc.fire=function(t,n,e){var r,i,a=e?this._touch:this._active,u=this._handlers[t];if(n.vegaType=t,"click"===t&&a&&a.href?this.handleHref(n,a,a.href):"mousemove"!==t&&t!==Pc||this.handleTooltip(n,a,t!==Pc),u)for(r=0,i=u.length;r<i;++r)u[r].handler.call(this._obj,n,a)},qc.on=function(t,n){var e=this.eventName(t),r=this._handlers;return this._handlerIndex(r[e],t,n)<0&&(r[e]||(r[e]=[])).push({type:t,handler:n}),this},qc.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&r.splice(i,1),this},qc.pickEvent=function(t){var n=Bc(t,this._canvas),e=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-e[0],n[1]-e[1])},qc.pick=function(t,n,e,r,i){var a=this.context();return mc[t.marktype].pick.call(this,a,t,n,e,r,i)};var $c="undefined"!=typeof window&&window.devicePixelRatio||1;function Ic(t){Tc.call(this,t),this._redraw=!1,this._dirty=new Hu}var Wc=et(Ic,Tc),Hc=Tc.prototype,Yc=new Hu;function Gc(t,n){Oc.call(this,t,n);var e=this;e._hrefHandler=Xc(e,function(t,n){n&&n.href&&e.handleHref(t,n,n.href)}),e._tooltipHandler=Xc(e,function(t,n){e.handleTooltip(t,n,t.type!==Pc)})}Wc.initialize=function(t,n,e,r,i,a){return this._options=a,this._canvas=no(1,1,a&&a.type),t&&(Fc(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Hc.initialize.call(this,t,n,e,r,i)},Wc.resize=function(t,n,e,r){return Hc.resize.call(this,t,n,e,r),function(t,n,e,r,i,a){var u,o="undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,s=t.getContext("2d"),l=o?$c:i;for(u in t.width=n*l,t.height=e*l,a)s[u]=a[u];o&&1!==l&&(t.style.width=n+"px",t.style.height=e+"px"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*r[0],l*r[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},Wc.canvas=function(){return this._canvas},Wc.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Wc.dirty=function(t){var n=function(t,n){if(null==n)return t;for(var e=Yc.clear().union(t);null!=n;n=n.mark.group)e.translate(n.x||0,n.y||0);return e}(t.bounds,t.mark.group);this._dirty.union(n)},Wc._render=function(t){var n=this.context(),e=this._origin,r=this._width,i=this._height,a=this._dirty;return n.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=function(t,n,e){return n.expand(1).round(),n.translate(-e[0]%1,-e[1]%1),t.beginPath(),t.rect(n.x1,n.y1,n.width(),n.height()),t.clip(),n}(n,a,e),this.clear(-e[0],-e[1],r,i),this.draw(n,t,a),n.restore(),this._dirty.clear(),this},Wc.draw=function(t,n,e){var r=mc[n.marktype];n.clip&&function(t,n){var e=n.clip;if(t.save(),t.beginPath(),Y(e))e(t);else{var r=n.group;t.rect(0,0,r.width||0,r.height||0)}t.clip()}(t,n),r.draw.call(this,t,n,e),n.clip&&t.restore()},Wc.clear=function(t,n,e,r){var i=this.context();i.clearRect(t,n,e,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,n,e,r))};var Vc=et(Gc,Oc);function Xc(t,n){return function(e){var r=e.target.__data__;e.vegaType=e.type,r=Array.isArray(r)?r[0]:r,n.call(t._obj,e,r)}}function Zc(t,n,e){var r,i,a="<"+t;if(n)for(r in n)null!=(i=n[r])&&(a+=" "+r+'="'+i+'"');return e&&(a+=" "+e),a+">"}function Jc(t){return"</"+t+">"}Vc.initialize=function(t,n,e){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mousemove",this._tooltipHandler),r.removeEventListener(Pc,this._tooltipHandler)),this._svg=r=t&&Cc(t,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mousemove",this._tooltipHandler),r.addEventListener(Pc,this._tooltipHandler)),Oc.prototype.initialize.call(this,t,n,e)},Vc.canvas=function(){return this._svg},Vc.on=function(t,n){var e=this.eventName(t),r=this._handlers;if(this._handlerIndex(r[e],t,n)<0){var i={type:t,handler:n,listener:Xc(this,n)};(r[e]||(r[e]=[])).push(i),this._svg&&this._svg.addEventListener(e,i.listener)}return this},Vc.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&(this._svg&&this._svg.removeEventListener(e,r[i].listener),r.splice(i,1)),this};var Qc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Kc={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},tf=Object.keys(Kc),nf=Qc.xmlns;function ef(t){Tc.call(this,t),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var rf=et(ef,Tc),af=Tc.prototype;function uf(t,n,e){var r,i,a;if("radial"===n.gradient){var u=Dc(t,e++,"pattern",nf);u.setAttribute("id",Vu+n.id),u.setAttribute("viewBox","0,0,1,1"),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("preserveAspectRatio","xMidYMid slice"),(u=Dc(u,0,"rect",nf)).setAttribute("width","1"),u.setAttribute("height","1"),u.setAttribute("fill","url("+gf()+"#"+n.id+")"),(t=Dc(t,e++,"radialGradient",nf)).setAttribute("id",n.id),t.setAttribute("fx",n.x1),t.setAttribute("fy",n.y1),t.setAttribute("fr",n.r1),t.setAttribute("cx",n.x2),t.setAttribute("cy",n.y2),t.setAttribute("r",n.r2)}else(t=Dc(t,e++,"linearGradient",nf)).setAttribute("id",n.id),t.setAttribute("x1",n.x1),t.setAttribute("x2",n.x2),t.setAttribute("y1",n.y1),t.setAttribute("y2",n.y2);for(r=0,i=n.stops.length;r<i;++r)(a=Dc(t,r,"stop",nf)).setAttribute("offset",n.stops[r].offset),a.setAttribute("stop-color",n.stops[r].color);return Fc(t,r),e}function of(t,n,e){var r;return(t=Dc(t,e,"clipPath",nf)).setAttribute("id",n.id),n.path?(r=Dc(t,0,"path",nf)).setAttribute("d",n.path):((r=Dc(t,0,"rect",nf)).setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",n.width),r.setAttribute("height",n.height)),e+1}function sf(t,n){for(;t&&t.dirty!==n;t=t.mark.group){if(t.dirty=n,!t.mark||t.mark.dirty===n)return;t.mark.dirty=n}}function lf(t,n,e,r,i){var a,u=t._svg;if(!u&&(u=Ec(a=n.ownerDocument,r,nf),t._svg=u,t.mark&&(u.__data__=t,u.__values__={fill:"default"},"g"===r))){var o=Ec(a,"path",nf);o.setAttribute("class","background"),u.appendChild(o),o.__data__=t;var s=Ec(a,"g",nf);u.appendChild(s),s.__data__=t}return(u.ownerSVGElement!==i||function(t){var n=t.mark||t.group;return n&&n.items.length>1}(t)&&u.previousSibling!==e)&&n.insertBefore(u,e?e.nextSibling:n.firstChild),u}rf.initialize=function(t,n,e,r){return t&&(this._svg=Dc(t,0,"svg",nf),this._svg.setAttribute("class","marks"),Fc(t,1),this._root=Dc(this._svg,0,"g",nf),Fc(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),af.initialize.call(this,t,n,e,r)},rf.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),af.background.apply(this,arguments)},rf.resize=function(t,n,e,r){return af.resize.call(this,t,n,e,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},rf.canvas=function(){return this._svg},rf.svg=function(){if(!this._svg)return null;var t={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var n in Qc)t[n]=Qc[n];var e=this._bgcolor?Zc("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Jc("rect"):"";return Zc("svg",t)+e+this._svg.innerHTML+Jc("svg")},rf._render=function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t),Fc(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},rf.updateDefs=function(){var t,n=this._svg,e=this._defs,r=e.el,i=0;for(t in e.gradient)r||(e.el=r=Dc(n,0,"defs",nf)),i=uf(r,e.gradient[t],i);for(t in e.clipping)r||(e.el=r=Dc(n,0,"defs",nf)),i=of(r,e.clipping[t],i);r&&(0===i?(n.removeChild(r),e.el=null):Fc(r,i))},rf._resetDefs=function(){var t=this._defs;t.gradient={},t.clipping={}},rf.dirty=function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},rf.isDirty=function(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},rf._dirtyCheck=function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length)return!0;var n,e,r,i,a,u,o,s=++this._dirtyID;for(a=0,u=t.length;a<u;++a)(e=(n=t[a]).mark).marktype!==r&&(r=e.marktype,i=mc[r]),e.zdirty&&e.dirty!==s&&(this._dirtyAll=!1,sf(n,s),e.items.forEach(function(t){t.dirty=s})),e.zdirty||(n.exit?(i.nested&&e.items.length?(o=e.items[0])._svg&&this._update(i,o._svg,o):n._svg&&(o=n._svg.parentNode)&&o.removeChild(n._svg),n._svg=null):(n=i.nested?e.items[0]:n)._update!==s&&(n._svg&&n._svg.ownerSVGElement?this._update(i,n._svg,n):(this._dirtyAll=!1,sf(n,s)),n._update=s));return!this._dirtyAll},rf.draw=function(t,n,e){if(!this.isDirty(n))return n._svg;var r,i=this,a=this._svg,u=mc[n.marktype],o=!1===n.interactive?"none":null,s="g"===u.tag,l=null,c=0;function f(t){var n=i.isDirty(t),e=lf(t,r,l,u.tag,a);n&&(i._update(u,e,t),s&&function(t,n,e){n=n.lastChild;var r,i=0;bl(e,function(e){r=t.draw(n,e,r),++i}),Fc(n,1+i)}(i,e,t)),l=e,++c}return(r=lf(n,t,e,"g",a)).setAttribute("class",Sc(n)),s||r.style.setProperty("pointer-events",o),n.clip?r.setAttribute("clip-path",Rl(i,n,n.group)):r.removeAttribute("clip-path"),u.nested?n.items.length&&f(n.items[0]):bl(n,f),Fc(r,c),r};var cf=null,ff=null,hf={group:function(t,n,e){ff=n.__values__,cf=n.childNodes[1],t.foreground(pf,e,this),cf=n.childNodes[0],t.background(pf,e,this);var r=!1===e.mark.interactive?"none":null;r!==ff.events&&(cf.style.setProperty("pointer-events",r),ff.events=r)},text:function(t,n,e){var r;(r=sc(e))!==ff.text&&(n.textContent=r,ff.text=r),df(n,"font-family",lc(e)),df(n,"font-size",uc(e)+"px"),df(n,"font-style",e.fontStyle),df(n,"font-variant",e.fontVariant),df(n,"font-weight",e.fontWeight)}};function df(t,n,e){e!==ff[n]&&(null==e?t.style.removeProperty(n):t.style.setProperty(n,e+""),ff[n]=e)}function pf(t,n,e){n!==ff[t]&&(null!=n?e?cf.setAttributeNS(e,t,n):cf.setAttribute(t,n):e?cf.removeAttributeNS(e,t):cf.removeAttribute(t),ff[t]=n)}function gf(){var t;return"undefined"==typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function mf(t){Tc.call(this,t),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}rf._update=function(t,n,e){cf=n,ff=n.__values__,t.attr(pf,e,this);var r=hf[t.type];r&&r.call(this,t,n,e),this.style(cf,e)},rf.style=function(t,n){var e,r,i,a,u;if(null!=n)for(e=0,r=tf.length;e<r;++e)u=n[i=tf[e]],"font"===i&&(u=lc(n)),u!==ff[i]&&(a=Kc[i],null==u?"fill"===a?t.style.setProperty(a,"none"):t.style.removeProperty(a):(Xu(u)&&(u=Zu(u,this._defs.gradient,gf())),t.style.setProperty(a,u+"")),ff[i]=u)};var vf,yf=et(mf,Tc),xf=Tc.prototype;function _f(t,n,e,r){vf[r||t]=n}function bf(t,n,e,r){if(null==t)return"";var i,a,u,o,s,l="";for("bgrect"===e&&!1===n.interactive&&(l+="pointer-events: none; "),"text"===e&&(l+="font-family: "+lc(t)+"; ",l+="font-size: "+uc(t)+"px; ",t.fontStyle&&(l+="font-style: "+t.fontStyle+"; "),t.fontVariant&&(l+="font-variant: "+t.fontVariant+"; "),t.fontWeight&&(l+="font-weight: "+t.fontWeight+"; ")),i=0,a=tf.length;i<a;++i)u=tf[i],o=Kc[u],null==(s=t[u])?"fill"===o&&(l+="fill: none; "):"transparent"!==s||"fill"!==o&&"stroke"!==o?(Xu(s)&&(s=Zu(s,r.gradient,"")),l+=o+": "+s+"; "):l+=o+": none; ";return l?'style="'+l.trim()+'"':null}yf.resize=function(t,n,e,r){xf.resize.call(this,t,n,e,r);var i=this._origin,a=this._text,u={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var o in Qc)u[o]=Qc[o];a.head=Zc("svg",u);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),a.bg=s?Zc("rect",{width:this._width,height:this._height,style:"fill: "+s+";"})+Jc("rect"):"",a.root=Zc("g",{transform:"translate("+i+")"}),a.foot=Jc("g")+Jc("svg"),this},yf.background=function(){var t=xf.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),t},yf.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},yf._render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},yf.buildDefs=function(){var t,n,e,r,i,a=this._defs,u="";for(n in a.gradient){for(i=(e=a.gradient[n]).stops,"radial"===e.gradient?(u+=Zc(r="pattern",{id:Vu+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),u+=Zc("rect",{width:"1",height:"1",fill:"url(#"+n+")"})+Jc("rect"),u+=Jc(r),u+=Zc(r="radialGradient",{id:n,fx:e.x1,fy:e.y1,fr:e.r1,cx:e.x2,cy:e.y2,r:e.r2})):u+=Zc(r="linearGradient",{id:n,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),t=0;t<i.length;++t)u+=Zc("stop",{offset:i[t].offset,"stop-color":i[t].color})+Jc("stop");u+=Jc(r)}for(n in a.clipping)e=a.clipping[n],u+=Zc("clipPath",{id:n}),e.path?u+=Zc("path",{d:e.path})+Jc("path"):u+=Zc("rect",{x:0,y:0,width:e.width,height:e.height})+Jc("rect"),u+=Jc("clipPath");return u.length>0?Zc("defs")+u+Jc("defs"):""},yf.attributes=function(t,n){return vf={},t(_f,n,this),vf},yf.href=function(t){var n,e=this,r=t.href;if(r){if(n=e._hrefs&&e._hrefs[r])return n;e.sanitizeURL(r).then(function(t){t["xlink:href"]=t.href,t.href=null,(e._hrefs||(e._hrefs={}))[r]=t})}return null},yf.mark=function(t){var n,e=this,r=mc[t.marktype],i=r.tag,a=this._defs,u="";function o(o){var s=e.href(o);s&&(u+=Zc("a",s)),n="g"!==i?bf(o,t,i,a):null,u+=Zc(i,e.attributes(r.attr,o),n),"text"===i?u+=sc(o).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):"g"===i&&(u+=Zc("path",e.attributes(r.background,o),bf(o,t,"bgrect",a))+Jc("path"),u+=Zc("g",e.attributes(r.foreground,o))+e.markGroup(o)+Jc("g")),u+=Jc(i),s&&(u+=Jc("a"))}return"g"!==i&&!1===t.interactive&&(n='style="pointer-events: none;"'),u+=Zc("g",{class:Sc(t),"clip-path":t.clip?Rl(e,t,t.group):null},n),r.nested?t.items&&t.items.length&&o(t.items[0]):bl(t,o),u+Jc("g")},yf.markGroup=function(t){var n=this,e="";return bl(t,function(t){e+=n.mark(t)}),e};var wf={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Af={};function Mf(t,n){return t=String(t||"").toLowerCase(),arguments.length>1?(Af[t]=n,this):Af[t]}function kf(t,n,e){const r=[],a=(new Hu).union(n),u=t.marktype;return u?Ef(t,a,e,r):"group"===u?Cf(t,a,e,r):i("Intersect scene must be mark node or group item.")}function Ef(t,n,e,r){if(function(t,n,e){return t.bounds&&n.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!e||e(t)))}(t,n,e)){const i=t.items,a=t.marktype,u=i.length;let o=0;if("group"===a)for(;o<u;++o)Cf(i[o],n,e,r);else for(const t=mc[a].isect;o<u;++o){let e=i[o];Df(e,n,t)&&r.push(e)}}return r}function Cf(t,n,e,r){e&&e(t.mark)&&Df(t,n,mc.group.isect)&&r.push(t);const i=t.items,a=i&&i.length;if(a){const u=t.x||0,o=t.y||0;n.translate(-u,-o);for(let t=0;t<a;++t)Ef(i[t],n,e,r);n.translate(u,o)}return r}function Df(t,n,e){const r=t.bounds;return n.encloses(r)||n.intersects(r)&&e(t,n)}Af.canvas=Af.png={renderer:Ic,headless:Ic,handler:Lc},Af.svg={renderer:ef,headless:mf,handler:Gc},Af.none={};var Ff=new Hu;function Sf(t){var n=t.clip;if(Y(n))n(al(Ff.clear()));else{if(!n)return;Ff.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(Ff)}var Bf=1e-9;function Of(t,n,e){return t===n||("path"===e?zf(t,n):t instanceof Date&&n instanceof Date?+t==+n:ut(t)&&ut(n)?Math.abs(t-n)<=Bf:t&&n&&(o(t)||o(n))?null!=t&&null!=n&&function(t,n){var e,r,i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(e=i[r],!Of(t[e],n[e],e))return!1;return typeof t==typeof n}(t,n):t==n)}function zf(t,n){return Of(bs(t),bs(n))}function Nf(t){$r.call(this,null,t)}function Tf(t,n,e){return n(t.bounds.clear(),t,e)}et(Nf,$r).transform=function(t,n){var e,r=n.dataflow,i=t.mark,a=i.marktype,u=mc[a],o=u.bound,s=i.bounds;return u.nested?(i.items.length&&r.dirty(i.items[0]),s=Tf(i,o),i.items.forEach(function(t){t.bounds.clear().union(s)})):a===bu||t.modified()?(n.visit(n.MOD,function(t){r.dirty(t)}),s.clear(),i.items.forEach(function(t){s.union(Tf(t,o))}),i.role===Eu&&n.reflow()):(e=n.changed(n.REM),n.visit(n.ADD,function(t){s.union(Tf(t,o))}),n.visit(n.MOD,function(t){e=e||s.alignsWith(t.bounds),r.dirty(t),s.union(Tf(t,o))}),e&&(s.clear(),i.items.forEach(function(t){s.union(t.bounds)}))),Sf(i),n.modifies("bounds")};var Rf=":vega_identifier:";function Pf(t){$r.call(this,0,t)}function Lf(t){$r.call(this,null,t)}function qf(t){$r.call(this,null,t)}Pf.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},et(Pf,$r).transform=function(t,n){var e=function(t){var n=t._signals[Rf];n||(t._signals[Rf]=n=t.add(0));return n}(n.dataflow),r=e.value,i=t.as;return n.visit(n.ADD,function(t){t[i]||(t[i]=++r)}),e.set(this.value=r),n},et(Lf,$r).transform=function(t,n){var e=this.value;e||((e=n.dataflow.scenegraph().mark(t.markdef,function(t){var n=t.groups,e=t.parent;return n&&1===n.size?n.get(Object.keys(n.object)[0]):n&&e?n.lookup(e):null}(t),t.index)).group.context=t.context,t.context.group||(t.context.group=e.group),e.source=this,e.clip=t.clip,e.interactive=t.interactive,this.value=e);var r=e.marktype===bu?to:Ku;return n.visit(n.ADD,function(t){r.call(t,e)}),(t.modified("clip")||t.modified("interactive"))&&(e.clip=t.clip,e.interactive=!!t.interactive,e.zdirty=!0,n.reflow()),e.items=n.source,n};var Uf=et(qf,$r),jf={parity:function(t){return t.filter((t,n)=>n%2?t.opacity=0:1)},greedy:function(t,n){var e;return t.filter((t,r)=>r&&$f(e.bounds,t.bounds,n)?t.opacity=0:(e=t,1))}};function $f(t,n,e){return e>Math.max(n.x1-t.x2,t.x1-n.x2,n.y1-t.y2,t.y1-n.y2)}function If(t,n){for(var e,r=1,i=t.length,a=t[0].bounds;r<i;a=e,++r)if($f(a,e=t[r].bounds,n))return!0}function Wf(t){var n=t.bounds;return n.width()>1&&n.height()>1}function Hf(t){return t.forEach(t=>t.opacity=1),t}function Yf(t,n){return t.reflow(n.modified()).modifies("opacity")}function Gf(t){$r.call(this,null,t)}Uf.transform=function(t,n){var e,r,i,a=jf[t.method]||jf.parity,u=n.materialize(n.SOURCE).source,o=t.separation||0;if(u&&u.length){if(!t.method)return t.modified("method")&&(Hf(u),n=Yf(n,t)),n;if(t.sort&&(u=u.slice().sort(t.sort)),e=Hf(u=u.filter(Wf)),n=Yf(n,t),e.length>=3&&If(e,o)){do{e=a(e,o)}while(e.length>=3&&If(e,o));e.length<3&&!k(u).opacity&&(e.length>1&&(k(e).opacity=0),k(u).opacity=1)}var s,l,c,f,h;return t.boundScale&&t.boundTolerance>=0&&(s=t.boundScale,l=t.boundOrient,c=+t.boundTolerance,f=s.range(),h=new Hu,l===su||l===fu?h.set(f[0],-1/0,f[1],1/0):h.set(-1/0,f[0],1/0,f[1]),h.expand(c||1),r=(t=>h.encloses(t.bounds)),u.forEach(t=>{r(t)||(t.opacity=0)})),i=e[0].mark.bounds.clear(),u.forEach(t=>{t.opacity&&i.union(t.bounds)}),n}},et(Gf,$r).transform=function(t,n){var e=n.dataflow;if(n.visit(n.ALL,function(t){e.dirty(t)}),n.fields&&n.fields.zindex){var r=n.source&&n.source[0];r&&(r.mark.zdirty=!0)}};const Vf=new Hu;function Xf(t,n,e){return t[n]===e?0:(t[n]=e,1)}const Zf=.5;function Jf(t){var n=t.items[0].datum.orient;return n===lu||n===cu}function Qf(t,n,e,r){var i,a,u=n.items[0],o=u.datum,s=o.orient,l=function(t){var n=+t.grid;return[t.ticks?n++:-1,t.labels?n++:-1,n+ +t.domain]}(o),c=u.range,f=u.offset,h=u.position,d=u.minExtent,p=u.maxExtent,g=o.title&&u.items[l[2]].items[0],m=u.titlePadding,v=u.bounds,y=0,x=0;switch(Vf.clear().union(v),v.clear(),(i=l[0])>-1&&v.union(u.items[i].bounds),(i=l[1])>-1&&v.union(u.items[i].bounds),s){case su:y=h||0,x=-f,a=Math.max(d,Math.min(p,-v.y1)),g&&(a=Kf(g,a,m,0,-1,v)),v.add(0,-a).add(c,0);break;case lu:y=-f,x=h||0,a=Math.max(d,Math.min(p,-v.x1)),g&&(a=Kf(g,a,m,1,-1,v)),v.add(-a,0).add(0,c);break;case cu:y=e+f,x=h||0,a=Math.max(d,Math.min(p,v.x2)),g&&(a=Kf(g,a,m,1,1,v)),v.add(0,0).add(a,c);break;case fu:y=h||0,x=r+f,a=Math.max(d,Math.min(p,v.y2)),g&&(a=Kf(g,a,m,0,1,v)),v.add(0,0).add(c,a);break;default:y=u.x,x=u.y}return el(v.translate(y,x),u),Xf(u,"x",y+Zf)|Xf(u,"y",x+Zf)&&(u.bounds=Vf,t.dirty(u),u.bounds=v,t.dirty(u)),u.mark.bounds.clear().union(v)}function Kf(t,n,e,r,i,a){var u=t.bounds,o=0,s=0;return t.auto?(n+=e,r?o=(t.x||0)-(t.x=i*n):s=(t.y||0)-(t.y=i*n),u.translate(-o,-s),t.mark.bounds.set(u.x1,u.y1,u.x2,u.y2),r?(a.add(0,u.y1).add(0,u.y2),n+=u.width()):(a.add(u.x1,0).add(u.x2,0),n+=u.height())):a.union(u),n}function th(t){return(new Hu).set(0,0,t.width||0,t.height||0)}function nh(t){var n=t.bounds.clone();return n.empty()?n.set(0,0,0,0):n.translate(-(t.x||0),-(t.y||0))}function eh(t,n,e){var r=o(t)?t[n]:t;return null!=r?r:void 0!==e?e:0}function rh(t){return t<0?Math.ceil(-t):0}function ih(t,n,e){var r,i,a,u,o,s,l,c,f,h,d,p=!e.nodirty,g=e.bounds===$u?th:nh,m=Vf.set(0,0,0,0),v=eh(e.align,Iu),y=eh(e.align,Wu),x=eh(e.padding,Iu),_=eh(e.padding,Wu),b=e.columns||n.length,w=b<0?1:Math.ceil(n.length/b),A=n.length,M=Array(A),k=Array(b),E=0,C=Array(A),D=Array(w),F=0,S=Array(A),B=Array(A),O=Array(A);for(i=0;i<b;++i)k[i]=0;for(i=0;i<w;++i)D[i]=0;for(i=0;i<A;++i)s=n[i],o=O[i]=g(s),s.x=s.x||0,S[i]=0,s.y=s.y||0,B[i]=0,a=i%b,u=~~(i/b),E=Math.max(E,l=Math.ceil(o.x2)),F=Math.max(F,c=Math.ceil(o.y2)),k[a]=Math.max(k[a],l),D[u]=Math.max(D[u],c),M[i]=x+rh(o.x1),C[i]=_+rh(o.y1),p&&t.dirty(n[i]);for(i=0;i<A;++i)i%b==0&&(M[i]=0),i<b&&(C[i]=0);if(v===ju)for(a=1;a<b;++a){for(d=0,i=a;i<A;i+=b)d<M[i]&&(d=M[i]);for(i=a;i<A;i+=b)M[i]=d+k[a-1]}else if(v===Uu){for(d=0,i=0;i<A;++i)i%b&&d<M[i]&&(d=M[i]);for(i=0;i<A;++i)i%b&&(M[i]=d+E)}else for(v=!1,a=1;a<b;++a)for(i=a;i<A;i+=b)M[i]+=k[a-1];if(y===ju)for(u=1;u<w;++u){for(d=0,r=(i=u*b)+b;i<r;++i)d<C[i]&&(d=C[i]);for(i=u*b;i<r;++i)C[i]=d+D[u-1]}else if(y===Uu){for(d=0,i=b;i<A;++i)d<C[i]&&(d=C[i]);for(i=b;i<A;++i)C[i]=d+F}else for(y=!1,u=1;u<w;++u)for(r=(i=u*b)+b;i<r;++i)C[i]+=D[u-1];for(f=0,i=0;i<A;++i)f=M[i]+(i%b?f:0),S[i]+=f-n[i].x;for(a=0;a<b;++a)for(h=0,i=a;i<A;i+=b)h+=C[i],B[i]+=h-n[i].y;if(v&&eh(e.center,Iu)&&w>1)for(i=0;i<A;++i)(f=(o=v===Uu?E:k[i%b])-O[i].x2-n[i].x-S[i])>0&&(S[i]+=f/2);if(y&&eh(e.center,Wu)&&1!==b)for(i=0;i<A;++i)(h=(o=y===Uu?F:D[~~(i/b)])-O[i].y2-n[i].y-B[i])>0&&(B[i]+=h/2);for(i=0;i<A;++i)m.union(O[i].translate(S[i],B[i]));switch(f=eh(e.anchor,xu),h=eh(e.anchor,_u),eh(e.anchor,Iu)){case yu:f-=m.width();break;case vu:f-=m.width()/2}switch(eh(e.anchor,Wu)){case yu:h-=m.height();break;case vu:h-=m.height()/2}for(f=Math.round(f),h=Math.round(h),m.clear(),i=0;i<A;++i)n[i].mark.bounds.clear();for(i=0;i<A;++i)(s=n[i]).x+=S[i]+=f,s.y+=B[i]+=h,m.union(s.mark.bounds.union(s.bounds.translate(S[i],B[i]))),p&&t.dirty(s);return m}function ah(t,n,e){var r,i,a,u,o,s,l,c=function(t){for(var n,e,r=t.items,i=r.length,a=0,u={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(e=(n=r[a]).items,n.marktype===bu)switch(n.role){case wu:case Eu:break;case Cu:u.rowheaders.push(...e);break;case Du:u.rowfooters.push(...e);break;case Su:u.colheaders.push(...e);break;case Bu:u.colfooters.push(...e);break;case Fu:u.rowtitle=e[0];break;case Ou:u.coltitle=e[0];break;default:u.marks.push(...e)}return u}(n),f=c.marks,h=e.bounds===$u?uh:oh,d=e.offset,p=e.columns||f.length,g=p<0?1:Math.ceil(f.length/p),m=g*p;const v=ih(t,f,e);c.rowheaders&&(s=eh(e.headerBand,Wu,null),r=ch(t,c.rowheaders,f,p,g,-eh(d,"rowHeader"),sh,0,h,"x1",0,p,1,s)),c.colheaders&&(s=eh(e.headerBand,Iu,null),i=ch(t,c.colheaders,f,p,p,-eh(d,"columnHeader"),sh,1,h,"y1",0,1,p,s)),c.rowfooters&&(s=eh(e.footerBand,Wu,null),a=ch(t,c.rowfooters,f,p,g,eh(d,"rowFooter"),lh,0,h,"x2",p-1,p,1,s)),c.colfooters&&(s=eh(e.footerBand,Iu,null),u=ch(t,c.colfooters,f,p,p,eh(d,"columnFooter"),lh,1,h,"y2",m-p,1,p,s)),c.rowtitle&&(o=eh(e.titleAnchor,Wu),l=eh(d,"rowTitle"),l=o===yu?a+l:r-l,s=eh(e.titleBand,Wu,.5),fh(t,c.rowtitle,l,0,v,s)),c.coltitle&&(o=eh(e.titleAnchor,Iu),l=eh(d,"columnTitle"),l=o===yu?u+l:i-l,s=eh(e.titleBand,Iu,.5),fh(t,c.coltitle,l,1,v,s))}function uh(t,n){return"x1"===n?t.x||0:"y1"===n?t.y||0:"x2"===n?(t.x||0)+(t.width||0):"y2"===n?(t.y||0)+(t.height||0):void 0}function oh(t,n){return t.bounds[n]}function sh(t,n){return Math.floor(Math.min(t,n))}function lh(t,n){return Math.ceil(Math.max(t,n))}function ch(t,n,e,r,i,a,u,o,s,l,c,f,h,d){var p,g,m,v,y,x,_,b,w,A=e.length,M=0,k=0;if(!A)return M;for(p=c;p<A;p+=f)e[p]&&(M=u(M,s(e[p],l)));if(!n.length)return M;for(n.length>i&&(t.warn("Grid headers exceed limit: "+i),n=n.slice(0,i)),M+=a,g=0,v=n.length;g<v;++g)t.dirty(n[g]),n[g].mark.bounds.clear();for(p=c,g=0,v=n.length;g<v;++g,p+=f){for(y=(x=n[g]).mark.bounds,m=p;m>=0&&null==(_=e[m]);m-=h);o?(b=null==d?_.x:Math.round(_.bounds.x1+d*_.bounds.width()),w=M):(b=M,w=null==d?_.y:Math.round(_.bounds.y1+d*_.bounds.height())),y.union(x.bounds.translate(b-(x.x||0),w-(x.y||0))),x.x=b,x.y=w,t.dirty(x),k=u(k,y[l])}return k}function fh(t,n,e,r,i,a){if(n){t.dirty(n);var u=e,o=e;r?u=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),n.bounds.translate(u-(n.x||0),o-(n.y||0)),n.mark.bounds.clear().union(n.bounds),n.x=u,n.y=o,t.dirty(n)}}function hh(t,n,e,r,i,a,u){const o=function(t,n){const e=t[n]||{};return(n,r)=>null!=e[n]?e[n]:null!=t[n]?t[n]:r}(e,n),s=(f=t,h=o("offset",0),d=-1/0,f.forEach(t=>{null!=t.offset&&(d=Math.max(d,t.offset))}),d>-1/0?d:h),l=o("anchor",mu),c=l===yu?1:l===vu?.5:0;var f,h,d;const p={align:ju,bounds:o("bounds",$u),columns:"vertical"===o("direction")?1:t.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(n){case lu:p.anchor={x:Math.floor(r.x1)-s,column:yu,y:c*(u||r.height()+2*r.y1),row:l};break;case cu:p.anchor={x:Math.ceil(r.x2)+s,y:c*(u||r.height()+2*r.y1),row:l};break;case su:p.anchor={y:Math.floor(i.y1)-s,row:yu,x:c*(a||i.width()+2*i.x1),column:l};break;case fu:p.anchor={y:Math.ceil(i.y2)+s,x:c*(a||i.width()+2*i.x1),column:l};break;case hu:p.anchor={x:s,y:s};break;case du:p.anchor={x:a-s,y:s,column:yu};break;case pu:p.anchor={x:s,y:u-s,row:yu};break;case gu:p.anchor={x:a-s,y:u-s,column:yu,row:yu}}return p}function dh(t,n){var e,r,i,a,u=n.items[0],o=u.datum,s=u.orient,l=u.bounds,c=u.x,f=u.y;return u._bounds?u._bounds.clear().union(l):u._bounds=l.clone(),l.clear(),function(t,n,e){var r=n.padding,i=r-e.x,a=r-e.y;if(n.datum.title){var u=n.items[1].items[0],o=u.anchor,s=n.titlePadding||0,l=r-u.x,c=r-u.y;switch(u.orient){case lu:i+=Math.ceil(u.bounds.width())+s;break;case cu:case fu:break;default:a+=u.fontSize+s}switch((i||a)&&gh(t,e,i,a),u.orient){case lu:c+=ph(n,e,u,o,0,1);break;case cu:l+=ph(n,e,u,yu,1,0)+s,c+=ph(n,e,u,o,0,1);break;case fu:l+=ph(n,e,u,o,1,0),c+=ph(n,e,u,yu,0,0,1)+s;break;default:l+=ph(n,e,u,o,1,0)}(l||c)&&gh(t,u,l,c),(l=Math.round(u.bounds.x1-r))<0&&(gh(t,e,-l,0),gh(t,u,-l,0))}else(i||a)&&gh(t,e,i,a)}(t,u,u.items[0].items[0]),l=function(t,n){return t.items.forEach(t=>n.union(t.bounds)),n.x1=t.padding,n.y1=t.padding,n}(u,l),e=2*u.padding,r=2*u.padding,l.empty()||(e=Math.ceil(l.width()+e),r=Math.ceil(l.height()+r)),o.type===Nu&&(i=u.items[0].items[0].items[0].items,a=i.reduce(function(t,n){return t[n.column]=Math.max(n.bounds.x2-n.x,t[n.column]||0),t},{}),i.forEach(function(t){t.width=a[t.column],t.height=t.bounds.y2-t.y})),s!==qu&&(u.x=c=0,u.y=f=0),u.width=e,u.height=r,el(l.set(c,f,c+e,f+r),u),u.mark.bounds.clear().union(l),u}function ph(t,n,e,r,i,a,u){const o="symbol"!==t.datum.type,s=e.datum.vgrad,l=(!o||!a&&s||u?n:n.items[0]).bounds[i?"x2":"y2"]-t.padding,c=s&&a?l:0,f=s&&a?0:l;return Math.round(r===mu?c:r===yu?f:.5*l)}function gh(t,n,e,r){n.x+=e,n.y+=r,n.bounds.translate(e,r),n.mark.bounds.translate(e,r),t.dirty(n)}function mh(t){$r.call(this,null,t)}et(mh,$r).transform=function(t,n){var e=n.dataflow;return t.mark.items.forEach(function(n){t.layout&&ah(e,n,t.layout),function(t,n,e){var r,i,a,u,o,s=n.items,l=Math.max(0,n.width||0),c=Math.max(0,n.height||0),f=(new Hu).set(0,0,l,c),h=f.clone(),d=f.clone(),p=[];for(u=0,o=s.length;u<o;++u)switch((i=s[u]).role){case wu:(Jf(i)?h:d).union(Qf(t,i,l,c));break;case Au:r=i;break;case Eu:p.push(dh(t,i));break;case Mu:case ku:case Cu:case Du:case Fu:case Su:case Bu:case Ou:h.union(i.bounds),d.union(i.bounds);break;default:f.union(i.bounds)}if(p.length){const n={};p.forEach(t=>{(a=t.orient||cu)!==qu&&(n[a]||(n[a]=[])).push(t)});for(let r in n){const i=n[r];ih(t,i,hh(i,r,e.legends,h,d,l,c))}p.forEach(n=>{const r=n.bounds;if(r.equals(n._bounds)||(n.bounds=n._bounds,t.dirty(n),n.bounds=r,t.dirty(n)),e.autosize&&e.autosize.type===Tu)switch(n.orient){case lu:case cu:f.add(r.x1,0).add(r.x2,0);break;case su:case fu:f.add(0,r.y1).add(0,r.y2)}else f.union(r)})}f.union(h).union(d),r&&f.union(function(t,n,e,r,i){var a,u=n.items[0],o=u.frame,s=u.orient,l=u.anchor,c=u.offset,f=u.bounds,h=0,d=s===lu||s===cu?r:e,p=0,g=0;switch(o!==bu?s===lu?(h=i.y2,d=i.y1):s===cu?(h=i.y1,d=i.y2):(h=i.x1,d=i.x2):s===lu&&(h=r,d=0),a=l===mu?h:l===yu?d:(h+d)/2,Vf.clear().union(f),s){case su:p=a,g=i.y1-c;break;case lu:p=i.x1-c,g=a;break;case cu:p=i.x2+c,g=a;break;case fu:p=a,g=i.y2+c;break;default:p=u.x,g=u.y}return f.translate(p-(u.x||0),g-(u.y||0)),Xf(u,"x",p)|Xf(u,"y",g)&&(u.bounds=Vf,t.dirty(u),u.bounds=f,t.dirty(u)),n.bounds.clear().union(f)}(t,r,l,c,f));!function(t,n,e,r){var i=r.autosize||{},a=i.type,u=t._width,o=t._height,s=t.padding();if(t._autosize<1||!a)return;var l=Math.max(0,n.width||0),c=Math.max(0,Math.ceil(-e.x1)),f=Math.max(0,Math.ceil(e.x2-l)),h=Math.max(0,n.height||0),d=Math.max(0,Math.ceil(-e.y1)),p=Math.max(0,Math.ceil(e.y2-h));i.contains===zu&&(u-=s.left+s.right,o-=s.top+s.bottom);a===qu?(c=0,d=0,l=u,h=o):a===Tu?(l=Math.max(0,u-c-f),h=Math.max(0,o-d-p)):a===Ru?(l=Math.max(0,u-c-f),o=h+d+p):a===Pu?(u=l+c+f,h=Math.max(0,o-d-p)):a===Lu&&(u=l+c+f,o=h+d+p);t._resizeView(u,o,l,h,[c,d],i.resize)}(t,n,f,e)}(e,n,t)}),t.modified()&&n.reflow(),n};var vh=Object.freeze({bound:Nf,identifier:Pf,mark:Lf,overlap:qf,render:Gf,viewlayout:mh});function yh(t,n,e){var r=t-n+2*e;return t?r>0?r:1:0}const xh="identity",_h="linear",bh="log",wh="pow",Ah="sqrt",Mh="symlog",kh="time",Eh="utc",Ch="sequential",Dh="diverging",Fh="quantile",Sh="quantize",Bh="threshold",Oh="ordinal",zh="point",Nh="band",Th="bin-ordinal";function Rh(t){return t===Fh}function Ph(t){return function(t){return t&&t.startsWith(Ch)}(t)||function(t){return t&&t.startsWith(Dh)}(t)}function Lh(t){return t===bh||t.endsWith("-log")}function qh(t){switch(t){case _h:case bh:case wh:case Ah:case Mh:case kh:case Eh:case Ch:return!0}return!1}function Uh(t){return t===Th||t===Oh||t===Nh||t===zh}function jh(t){return t===Th||t===Fh||t===Sh||t===Bh}var $h={millisecond:Nn,second:Pn,minute:Ln,hour:qn,day:Un,week:$n,month:Hn,year:Yn},Ih={millisecond:Nn,second:Pn,minute:Gn,hour:Vn,day:Xn,week:Jn,month:te,year:ne};function Wh(t,n){const e=n===Eh?Ih:$h;return e.hasOwnProperty(t)&&e[t]}function Hh(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Yh(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}const Gh=Symbol("implicit");function Vh(){var t=new Map,n=[],e=[],r=Gh;function i(i){var a=i+"",u=t.get(a);if(!u){if(r!==Gh)return r;t.set(a,u=n.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Vh(n,e).unknown(r)},Hh.apply(i,arguments),i}function Xh(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Zh(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Jh(){}var Qh="\\s*([+-]?\\d+)\\s*",Kh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",td="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nd=/^#([0-9a-f]{3})$/,ed=/^#([0-9a-f]{6})$/,rd=new RegExp("^rgb\\("+[Qh,Qh,Qh]+"\\)$"),id=new RegExp("^rgb\\("+[td,td,td]+"\\)$"),ad=new RegExp("^rgba\\("+[Qh,Qh,Qh,Kh]+"\\)$"),ud=new RegExp("^rgba\\("+[td,td,td,Kh]+"\\)$"),od=new RegExp("^hsl\\("+[Kh,td,td]+"\\)$"),sd=new RegExp("^hsla\\("+[Kh,td,td,Kh]+"\\)$"),ld={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cd(t){var n;return t=(t+"").trim().toLowerCase(),(n=nd.exec(t))?new gd((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=ed.exec(t))?fd(parseInt(n[1],16)):(n=rd.exec(t))?new gd(n[1],n[2],n[3],1):(n=id.exec(t))?new gd(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ad.exec(t))?hd(n[1],n[2],n[3],n[4]):(n=ud.exec(t))?hd(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=od.exec(t))?vd(n[1],n[2]/100,n[3]/100,1):(n=sd.exec(t))?vd(n[1],n[2]/100,n[3]/100,n[4]):ld.hasOwnProperty(t)?fd(ld[t]):"transparent"===t?new gd(NaN,NaN,NaN,0):null}function fd(t){return new gd(t>>16&255,t>>8&255,255&t,1)}function hd(t,n,e,r){return r<=0&&(t=n=e=NaN),new gd(t,n,e,r)}function dd(t){return t instanceof Jh||(t=cd(t)),t?new gd((t=t.rgb()).r,t.g,t.b,t.opacity):new gd}function pd(t,n,e,r){return 1===arguments.length?dd(t):new gd(t,n,e,null==r?1:r)}function gd(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function md(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function vd(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new xd(t,n,e,r)}function yd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof xd)return new xd(t.h,t.s,t.l,t.opacity);if(t instanceof Jh||(t=cd(t)),!t)return new xd;if(t instanceof xd)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),u=NaN,o=a-i,s=(a+i)/2;return o?(u=n===a?(e-r)/o+6*(e<r):e===a?(r-n)/o+2:(n-e)/o+4,o/=s<.5?a+i:2-a-i,u*=60):o=s>0&&s<1?0:u,new xd(u,o,s,t.opacity)}(t):new xd(t,n,e,null==r?1:r)}function xd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function _d(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Xh(Jh,cd,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Xh(gd,pd,Zh(Jh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new gd(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new gd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+md(this.r)+md(this.g)+md(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Xh(xd,yd,Zh(Jh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xd(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xd(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new gd(_d(t>=240?t-240:t+120,i,r),_d(t,i,r),_d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var bd=Math.PI/180,wd=180/Math.PI,Ad=.96422,Md=1,kd=.82521,Ed=4/29,Cd=6/29,Dd=3*Cd*Cd,Fd=Cd*Cd*Cd;function Sd(t){if(t instanceof Od)return new Od(t.l,t.a,t.b,t.opacity);if(t instanceof Ld){if(isNaN(t.h))return new Od(t.l,0,0,t.opacity);var n=t.h*bd;return new Od(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof gd||(t=dd(t));var e,r,i=Rd(t.r),a=Rd(t.g),u=Rd(t.b),o=zd((.2225045*i+.7168786*a+.0606169*u)/Md);return i===a&&a===u?e=r=o:(e=zd((.4360747*i+.3850649*a+.1430804*u)/Ad),r=zd((.0139322*i+.0971045*a+.7141733*u)/kd)),new Od(116*o-16,500*(e-o),200*(o-r),t.opacity)}function Bd(t,n,e,r){return 1===arguments.length?Sd(t):new Od(t,n,e,null==r?1:r)}function Od(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function zd(t){return t>Fd?Math.pow(t,1/3):t/Dd+Ed}function Nd(t){return t>Cd?t*t*t:Dd*(t-Ed)}function Td(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Rd(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Pd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ld)return new Ld(t.h,t.c,t.l,t.opacity);if(t instanceof Od||(t=Sd(t)),0===t.a&&0===t.b)return new Ld(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*wd;return new Ld(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ld(t,n,e,null==r?1:r)}function Ld(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Xh(Od,Bd,Zh(Jh,{brighter:function(t){return new Od(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Od(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new gd(Td(3.1338561*(n=Ad*Nd(n))-1.6168667*(t=Md*Nd(t))-.4906146*(e=kd*Nd(e))),Td(-.9787684*n+1.9161415*t+.033454*e),Td(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Xh(Ld,Pd,Zh(Jh,{brighter:function(t){return new Ld(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ld(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Sd(this).rgb()}}));var qd=-.14861,Ud=1.78277,jd=-.29227,$d=-.90649,Id=1.97294,Wd=Id*$d,Hd=Id*Ud,Yd=Ud*jd-$d*qd;function Gd(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Vd)return new Vd(t.h,t.s,t.l,t.opacity);t instanceof gd||(t=dd(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Yd*r+Wd*n-Hd*e)/(Yd+Wd-Hd),a=r-i,u=(Id*(e-i)-jd*a)/$d,o=Math.sqrt(u*u+a*a)/(Id*i*(1-i)),s=o?Math.atan2(u,a)*wd-120:NaN;return new Vd(s<0?s+360:s,o,i,t.opacity)}(t):new Vd(t,n,e,null==r?1:r)}function Vd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Xd(t,n,e,r,i){var a=t*t,u=a*t;return((1-3*t+3*a-u)*n+(4-6*a+3*u)*e+(1+3*t+3*a-3*u)*r+u*i)/6}function Zd(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],u=r>0?t[r-1]:2*i-a,o=r<n-1?t[r+2]:2*a-i;return Xd((e-r/n)*n,u,i,a,o)}}function Jd(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],u=t[(r+1)%n],o=t[(r+2)%n];return Xd((e-r/n)*n,i,a,u,o)}}function Qd(t){return function(){return t}}function Kd(t,n){return function(e){return t+e*n}}function tp(t,n){var e=n-t;return e?Kd(t,e>180||e<-180?e-360*Math.round(e/360):e):Qd(isNaN(t)?n:t)}function np(t){return 1==(t=+t)?ep:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Qd(isNaN(n)?e:n)}}function ep(t,n){var e=n-t;return e?Kd(t,e):Qd(isNaN(t)?n:t)}Xh(Vd,Gd,Zh(Jh,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Vd(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vd(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bd,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new gd(255*(n+e*(qd*r+Ud*i)),255*(n+e*(jd*r+$d*i)),255*(n+e*(Id*r)),this.opacity)}}));var rp=function t(n){var e=np(n);function r(t,n){var r=e((t=pd(t)).r,(n=pd(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),u=ep(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function ip(t){return function(n){var e,r,i=n.length,a=new Array(i),u=new Array(i),o=new Array(i);for(e=0;e<i;++e)r=pd(n[e]),a[e]=r.r||0,u[e]=r.g||0,o[e]=r.b||0;return a=t(a),u=t(u),o=t(o),r.opacity=1,function(t){return r.r=a(t),r.g=u(t),r.b=o(t),r+""}}}var ap=ip(Zd),up=ip(Jd);function op(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),u=new Array(r);for(e=0;e<i;++e)a[e]=pp(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=a[e](t);return u}}function sp(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}function lp(t,n){return n-=t=+t,function(e){return t+n*e}}function cp(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=pp(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var fp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hp=new RegExp(fp.source,"g");function dp(t,n){var e,r,i,a=fp.lastIndex=hp.lastIndex=0,u=-1,o=[],s=[];for(t+="",n+="";(e=fp.exec(t))&&(r=hp.exec(n));)(i=r.index)>a&&(i=n.slice(a,i),o[u]?o[u]+=i:o[++u]=i),(e=e[0])===(r=r[0])?o[u]?o[u]+=r:o[++u]=r:(o[++u]=null,s.push({i:u,x:lp(e,r)})),a=hp.lastIndex;return a<n.length&&(i=n.slice(a),o[u]?o[u]+=i:o[++u]=i),o.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)o[(e=s[r]).i]=e.x(t);return o.join("")})}function pp(t,n){var e,r=typeof n;return null==n||"boolean"===r?Qd(n):("number"===r?lp:"string"===r?(e=cd(n))?(n=e,rp):dp:n instanceof cd?rp:n instanceof Date?sp:Array.isArray(n)?op:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?cp:lp)(t,n)}function gp(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}}var mp,vp,yp,xp,_p=180/Math.PI,bp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wp(t,n,e,r,i,a){var u,o,s;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(o=Math.sqrt(e*e+r*r))&&(e/=o,r/=o,s/=o),t*r<n*e&&(t=-t,n=-n,s=-s,u=-u),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*_p,skewX:Math.atan(s)*_p,scaleX:u,scaleY:o}}function Ap(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(a,u){var o=[],s=[];return a=t(a),u=t(u),function(t,r,i,a,u,o){if(t!==i||r!==a){var s=u.push("translate(",null,n,null,e);o.push({i:s-4,x:lp(t,i)},{i:s-2,x:lp(r,a)})}else(i||a)&&u.push("translate("+i+n+a+e)}(a.translateX,a.translateY,u.translateX,u.translateY,o,s),function(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:lp(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(a.rotate,u.rotate,o,s),function(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:lp(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(a.skewX,u.skewX,o,s),function(t,n,e,r,a,u){if(t!==e||n!==r){var o=a.push(i(a)+"scale(",null,",",null,")");u.push({i:o-4,x:lp(t,e)},{i:o-2,x:lp(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}(a.scaleX,a.scaleY,u.scaleX,u.scaleY,o,s),a=u=null,function(t){for(var n,e=-1,r=s.length;++e<r;)o[(n=s[e]).i]=n.x(t);return o.join("")}}}var Mp=Ap(function(t){return"none"===t?bp:(mp||(mp=document.createElement("DIV"),vp=document.documentElement,yp=document.defaultView),mp.style.transform=t,t=yp.getComputedStyle(vp.appendChild(mp),null).getPropertyValue("transform"),vp.removeChild(mp),wp(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),kp=Ap(function(t){return null==t?bp:(xp||(xp=document.createElementNS("http://www.w3.org/2000/svg","g")),xp.setAttribute("transform",t),(t=xp.transform.baseVal.consolidate())?wp((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):bp)},", ",")",")"),Ep=Math.SQRT2,Cp=2,Dp=4,Fp=1e-12;function Sp(t){return((t=Math.exp(t))+1/t)/2}function Bp(t){return function(n,e){var r=t((n=yd(n)).h,(e=yd(e)).h),i=ep(n.s,e.s),a=ep(n.l,e.l),u=ep(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=u(t),n+""}}}var Op=Bp(tp),zp=Bp(ep);function Np(t){return function(n,e){var r=t((n=Pd(n)).h,(e=Pd(e)).h),i=ep(n.c,e.c),a=ep(n.l,e.l),u=ep(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=u(t),n+""}}}var Tp=Np(tp),Rp=Np(ep);function Pp(t){return function n(e){function r(n,r){var i=t((n=Gd(n)).h,(r=Gd(r)).h),a=ep(n.s,r.s),u=ep(n.l,r.l),o=ep(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=u(Math.pow(t,e)),n.opacity=o(t),n+""}}return e=+e,r.gamma=n,r}(1)}var Lp=Pp(tp),qp=Pp(ep);function Up(t,n){for(var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);e<r;)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}var jp=Object.freeze({interpolate:pp,interpolateArray:op,interpolateBasis:Zd,interpolateBasisClosed:Jd,interpolateDate:sp,interpolateDiscrete:function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},interpolateHue:function(t,n){var e=tp(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},interpolateNumber:lp,interpolateObject:cp,interpolateRound:gp,interpolateString:dp,interpolateTransformCss:Mp,interpolateTransformSvg:kp,interpolateZoom:function(t,n){var e,r,i=t[0],a=t[1],u=t[2],o=n[0],s=n[1],l=n[2],c=o-i,f=s-a,h=c*c+f*f;if(h<Fp)r=Math.log(l/u)/Ep,e=function(t){return[i+t*c,a+t*f,u*Math.exp(Ep*t*r)]};else{var d=Math.sqrt(h),p=(l*l-u*u+Dp*h)/(2*u*Cp*d),g=(l*l-u*u-Dp*h)/(2*l*Cp*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Ep,e=function(t){var n,e=t*r,o=Sp(m),s=u/(Cp*d)*(o*(n=Ep*e+m,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+s*c,a+s*f,u*o/Sp(Ep*e+m)]}}return e.duration=1e3*r,e},interpolateRgb:rp,interpolateRgbBasis:ap,interpolateRgbBasisClosed:up,interpolateHsl:Op,interpolateHslLong:zp,interpolateLab:function(t,n){var e=ep((t=Bd(t)).l,(n=Bd(n)).l),r=ep(t.a,n.a),i=ep(t.b,n.b),a=ep(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}},interpolateHcl:Tp,interpolateHclLong:Rp,interpolateCubehelix:Lp,interpolateCubehelixLong:qp,piecewise:Up,quantize:function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}});function $p(t){return+t}var Ip=[0,1];function Wp(t){return t}function Hp(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Yp(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Gp(t,n,e){var r=t[0],i=t[1],a=n[0],u=n[1];return i<r?(r=Hp(i,r),a=e(u,a)):(r=Hp(r,i),a=e(a,u)),function(t){return a(r(t))}}function Vp(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Hp(t[u],t[u+1]),a[u]=e(n[u],n[u+1]);return function(n){var e=ui(t,n,1,r)-1;return a[e](i[e](n))}}function Xp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zp(){var t,n,e,r,i,a,u=Ip,o=Ip,s=pp,l=Wp;function c(){return r=Math.min(u.length,o.length)>2?Vp:Gp,i=a=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),o,s)))(t(l(n)))}return f.invert=function(e){return l(n((a||(a=r(o,u.map(t),lp)))(e)))},f.domain=function(t){return arguments.length?(u=Array.from(t,$p),l===Wp||(l=Yp(u)),c()):u.slice()},f.range=function(t){return arguments.length?(o=Array.from(t),c()):o.slice()},f.rangeRound=function(t){return o=Array.from(t),s=gp,c()},f.clamp=function(t){return arguments.length?(l=t?Yp(u):Wp,f):l!==Wp},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function Jp(t,n){return Zp()(t,n)}function Qp(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Kp(t){return(t=Qp(Math.abs(t)))?t[1]:NaN}var tg,ng=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eg(t){return new rg(t)}function rg(t){if(!(n=ng.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function ig(t,n){var e=Qp(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}eg.prototype=rg.prototype,rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ag={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return ig(100*t,n)},r:ig,s:function(t,n){var e=Qp(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(tg=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Qp(t,Math.max(0,n+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ug(t){return t}var og,sg,lg,cg=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function fg(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,a=[],u=0,o=n[0],s=0;i>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(t.substring(i-=o,i+o)),!((s+=o+1)>r));)o=n[u=(u+1)%n.length];return a.reverse().join(e)}):ug,i=t.currency,a=t.decimal,u=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):ug,o=t.percent||"%";function s(t){var n=(t=eg(t)).fill,e=t.align,s=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):ag[g]||(null==d&&(d=12),p=!0,g="g"),(c||"0"===n&&"="===e)&&(c=!0,n="0",e="=");var m="$"===l?i[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===l?i[1]:/[%p]/.test(g)?o:"",y=ag[g],x=/[defgprs%]/.test(g);function _(t){var i,o,l,_=m,b=v;if("c"===g)b=y(t)+b,t="";else{var w=(t=+t)<0;if(t=y(Math.abs(t),d),p&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),w&&0==+t&&(w=!1),_=(w?"("===s?s:"-":"-"===s||"("===s?"":s)+_,b=("s"===g?cg[8+tg/3]:"")+b+(w&&"("===s?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){b=(46===l?a+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}h&&!c&&(t=r(t,1/0));var A=_.length+t.length+b.length,M=A<f?new Array(f-A+1).join(n):"";switch(h&&c&&(t=r(M+t,M.length?f-b.length:1/0),M=""),e){case"<":t=_+t+b+M;break;case"=":t=_+M+t+b;break;case"^":t=M.slice(0,A=M.length>>1)+_+t+b+M.slice(A);break;default:t=M+_+t+b}return u(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:s,formatPrefix:function(t,n){var e=s(((t=eg(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Kp(n)/3))),i=Math.pow(10,-r),a=cg[8+r/3];return function(t){return e(i*t)+a}}}}function hg(t){return og=fg(t),sg=og.format,lg=og.formatPrefix,og}function dg(t,n,e,r){var i,a=gi(t,n,e);switch((r=eg(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Kp(n)/3)))-Kp(Math.abs(t)))}(a,u))||(r.precision=i),lg(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Kp(n)-Kp(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Kp(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return sg(r)}function pg(t){var n=t.domain;return t.ticks=function(t){var e=n();return di(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return dg(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,u=i.length-1,o=i[a],s=i[u];return s<o&&(r=o,o=s,s=r,r=a,a=u,u=r),(r=pi(o,s,e))>0?r=pi(o=Math.floor(o/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=pi(o=Math.ceil(o*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[a]=Math.floor(o/r)*r,i[u]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(o*r)/r,i[u]=Math.floor(s*r)/r,n(i)),t},t}function gg(t,n){var e,r=0,i=(t=t.slice()).length-1,a=t[r],u=t[i];return u<a&&(e=r,r=i,i=e,e=a,a=u,u=e),t[r]=n.floor(a),t[i]=n.ceil(u),t}function mg(t){return Math.log(t)}function vg(t){return Math.exp(t)}function yg(t){return-Math.log(-t)}function xg(t){return-Math.exp(-t)}function _g(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bg(t){return function(n){return-t(-n)}}function wg(t){var n,e,r=t(mg,vg),i=r.domain,a=10;function u(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(a),e=function(t){return 10===t?_g:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(a),i()[0]<0?(n=bg(n),e=bg(e),t(yg,xg)):t(mg,vg),r}return r.base=function(t){return arguments.length?(a=+t,u()):a},r.domain=function(t){return arguments.length?(i(t),u()):i()},r.ticks=function(t){var r,u=i(),o=u[0],s=u[u.length-1];(r=s<o)&&(h=o,o=s,s=h);var l,c,f,h=n(o),d=n(s),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,o>0){for(;h<d;++h)for(c=1,l=e(h);c<a;++c)if(!((f=l*c)<o)){if(f>s)break;g.push(f)}}else for(;h<d;++h)for(c=a-1,l=e(h);c>=1;--c)if(!((f=l*c)<o)){if(f>s)break;g.push(f)}}else g=di(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=sg(i)),t===1/0)return i;null==t&&(t=10);var u=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*a<a-.5&&(r*=a),r<=u?i(t):""}},r.nice=function(){return i(gg(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function Ag(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Mg(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function kg(t){var n=1,e=t(Ag(n),Mg(n));return e.constant=function(e){return arguments.length?t(Ag(n=+e),Mg(n)):n},pg(e)}function Eg(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Cg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dg(t){return t<0?-t*t:t*t}function Fg(t){var n=t(Wp,Wp),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(Wp,Wp):.5===e?t(Cg,Dg):t(Eg(e),Eg(1/e)):e},pg(n)}function Sg(){var t=Fg(Zp());return t.copy=function(){return Xp(t,Sg()).exponent(t.exponent())},Hh.apply(t,arguments),t}hg({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Bg=1e3,Og=60*Bg,zg=60*Og,Ng=24*zg,Tg=7*Ng,Rg=30*Ng,Pg=365*Ng;function Lg(t){return new Date(t)}function qg(t){return t instanceof Date?+t:+new Date(+t)}function Ug(t,n,e,r,i,a,u,o,s){var l=Jp(Wp,Wp),c=l.invert,f=l.domain,h=s(".%L"),d=s(":%S"),p=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),v=s("%b %d"),y=s("%B"),x=s("%Y"),_=[[u,1,Bg],[u,5,5*Bg],[u,15,15*Bg],[u,30,30*Bg],[a,1,Og],[a,5,5*Og],[a,15,15*Og],[a,30,30*Og],[i,1,zg],[i,3,3*zg],[i,6,6*zg],[i,12,12*zg],[r,1,Ng],[r,2,2*Ng],[e,1,Tg],[n,1,Rg],[n,3,3*Rg],[t,1,Pg]];function b(o){return(u(o)<o?h:a(o)<o?d:i(o)<o?p:r(o)<o?g:n(o)<o?e(o)<o?m:v:t(o)<o?y:x)(o)}function w(n,e,r,i){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(r-e)/n,u=ii(function(t){return t[2]}).right(_,a);u===_.length?(i=gi(e/Pg,r/Pg,n),n=t):u?(i=(u=_[a/_[u-1][2]<_[u][2]/a?u-1:u])[1],n=u[0]):(i=Math.max(gi(e,r,n),1),n=o)}return null==i?n:n.every(i)}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?f(Array.from(t,qg)):f().map(Lg)},l.ticks=function(t,n){var e,r=f(),i=r[0],a=r[r.length-1],u=a<i;return u&&(e=i,i=a,a=e),e=(e=w(t,i,a,n))?e.range(i,a+1):[],u?e.reverse():e},l.tickFormat=function(t,n){return null==n?b:s(n)},l.nice=function(t,n){var e=f();return(t=w(t,e[0],e[e.length-1],n))?f(gg(e,t)):l},l.copy=function(){return Xp(l,Ug(t,n,e,r,i,a,u,o,s))},l}function jg(){var t,n,e,r,i,a=0,u=1,o=Wp,s=!1;function l(n){return isNaN(n=+n)?i:o(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return l.domain=function(i){return arguments.length?([a,u]=i,t=r(a=+a),n=r(u=+u),e=t===n?0:1/(n-t),l):[a,u]},l.clamp=function(t){return arguments.length?(s=!!t,l):s},l.interpolator=function(t){return arguments.length?(o=t,l):o},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(a),n=i(u),e=t===n?0:1/(n-t),l}}function $g(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ig(){var t=pg(jg()(Wp));return t.copy=function(){return $g(t,Ig())},Yh.apply(t,arguments)}function Wg(){var t=Fg(jg());return t.copy=function(){return $g(t,Wg()).exponent(t.exponent())},Yh.apply(t,arguments)}function Hg(){var t,n,e,r,i,a,u,o=0,s=.5,l=1,c=Wp,f=!1;function h(t){return isNaN(t=+t)?u:(t=.5+((t=+a(t))-n)*(t<n?r:i),c(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(u){return arguments.length?([o,s,l]=u,t=a(o=+o),n=a(s=+s),e=a(l=+l),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[o,s,l]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(c=t,h):c},h.unknown=function(t){return arguments.length?(u=t,h):u},function(u){return a=u,t=u(o),n=u(s),e=u(l),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function Yg(){var t=Fg(Hg());return t.copy=function(){return $g(t,Yg()).exponent(t.exponent())},Yh.apply(t,arguments)}function Gg(){var t,n,e=Vh().unknown(void 0),r=e.domain,i=e.range,a=[0,1],u=!1,o=0,s=0,l=.5;function c(){var e=r().length,c=a[1]<a[0],f=a[c-0],h=a[1-c],d=yh(e,o,s);t=(h-f)/(d||1),u&&(t=Math.floor(t)),f+=(h-f-t*(e-o))*l,n=t*(1-o),u&&(f=Math.round(f),n=Math.round(n));var p=li(e).map(function(n){return f+t*n});return i(c?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),c()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],c()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],u=!0,c()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,c()):u},e.padding=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),o=s,c()):o},e.paddingInner=function(t){return arguments.length?(o=Math.max(0,Math.min(1,t)),c()):o},e.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),c()):s},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},e.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var e,u,o,s=+t[0],l=+t[1],c=a[1]<a[0],f=c?i().reverse():i(),h=f.length-1;if(s==s&&l==l&&(l<s&&(o=s,s=l,l=o),!(l<f[0]||s>a[1-c])))return e=Math.max(0,ui(f,s)-1),u=s===l?e:ui(f,l)-1,s-f[e]>n+1e-10&&++e,c&&(o=e,e=h-u,u=h-o),e>u?void 0:r().slice(e,u+1)}},e.invert=function(t){var n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return Gg().domain(r()).range(a).round(u).paddingInner(o).paddingOuter(s).align(l)},c()}var Vg=Array.prototype.map;var Xg=Array.prototype.slice;function Zg(t,n){return arguments.length>1?(Jg[t]=function(t,n){return function(){var e=n();return e.invertRange||(e.invertRange=e.invert?function(t){return function(n){var e,r=n[0],i=n[1];return i<r&&(e=r,r=i,i=e),[t.invert(r),t.invert(i)]}}(e):e.invertExtent?function(t){return function(n){var e,r,i,a,u=t.range(),o=n[0],s=n[1],l=-1;for(s<o&&(r=o,o=s,s=r),i=0,a=u.length;i<a;++i)u[i]>=o&&u[i]<=s&&(l<0&&(l=i),e=i);if(!(l<0))return o=t.invertExtent(u[l]),s=t.invertExtent(u[e]),[void 0===o[0]?o[1]:o[0],void 0===s[1]?s[0]:s[1]]}}(e):void 0),e.type=t,e}}(t,n),this):Jg.hasOwnProperty(t)?Jg[t]:void 0}var Jg={[xh]:function t(n){var e;function r(t){return isNaN(t=+t)?e:t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,$p),r):n.slice()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return t(n).unknown(e)},n=arguments.length?Array.from(n,$p):[0,1],pg(r)},[_h]:function t(){var n=Jp(Wp,Wp);return n.copy=function(){return Xp(n,t())},Hh.apply(n,arguments),pg(n)},[bh]:function t(){var n=wg(Zp()).domain([1,10]);return n.copy=function(){return Xp(n,t()).base(n.base())},Hh.apply(n,arguments),n},[wh]:Sg,[Ah]:function(){return Sg.apply(null,arguments).exponent(.5)},[Mh]:function t(){var n=kg(Zp());return n.copy=function(){return Xp(n,t()).constant(n.constant())},Hh.apply(n,arguments)},[kh]:function(){return Hh.apply(Ug(Yn,Hn,$n,Un,qn,Ln,Pn,Nn,ue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},[Eh]:function(){return Hh.apply(Ug(ne,te,Jn,Xn,Vn,Gn,Pn,Nn,se).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},[Ch]:Ig,[Ch+"-"+_h]:Ig,[Ch+"-"+bh]:function t(){var n=wg(jg()).domain([1,10]);return n.copy=function(){return $g(n,t()).base(n.base())},Yh.apply(n,arguments)},[Ch+"-"+wh]:Wg,[Ch+"-"+Ah]:function(){return Wg.apply(null,arguments).exponent(.5)},[Ch+"-"+Mh]:function t(){var n=kg(jg());return n.copy=function(){return $g(n,t()).constant(n.constant())},Yh.apply(n,arguments)},[Dh+"-"+_h]:function t(){var n=pg(Hg()(Wp));return n.copy=function(){return $g(n,t())},Yh.apply(n,arguments)},[Dh+"-"+bh]:function t(){var n=wg(Hg()).domain([.1,1,10]);return n.copy=function(){return $g(n,t()).base(n.base())},Yh.apply(n,arguments)},[Dh+"-"+wh]:Yg,[Dh+"-"+Ah]:function(){return Yg.apply(null,arguments).exponent(.5)},[Dh+"-"+Mh]:function t(){var n=kg(Hg());return n.copy=function(){return $g(n,t()).constant(n.constant())},Yh.apply(n,arguments)},[Fh]:function t(){var n,e=[],r=[],i=[];function a(){var t=0,n=Math.max(1,r.length);for(i=new Array(n-1);++t<n;)i[t-1]=mi(e,t/n);return u}function u(t){return isNaN(t=+t)?n:r[ui(i,t)]}return u.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},u.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(ri),a()},u.range=function(t){return arguments.length?(r=Array.from(t),a()):r.slice()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.quantiles=function(){return i.slice()},u.copy=function(){return t().domain(e).range(r).unknown(n)},Hh.apply(u,arguments)},[Sh]:function t(){var n,e=0,r=1,i=1,a=[.5],u=[0,1];function o(t){return t<=t?u[ui(a,t,0,i)]:n}function s(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*e)/(i+1);return o}return o.domain=function(t){return arguments.length?([e,r]=t,e=+e,r=+r,s()):[e,r]},o.range=function(t){return arguments.length?(i=(u=Array.from(t)).length-1,s()):u.slice()},o.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,a[0]]:n>=i?[a[i-1],r]:[a[n-1],a[n]]},o.unknown=function(t){return arguments.length?(n=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return t().domain([e,r]).range(u).unknown(n)},Hh.apply(pg(o),arguments)},[Bh]:function t(){var n,e=[.5],r=[0,1],i=1;function a(t){return t<=t?r[ui(e,t,0,i)]:n}return a.domain=function(t){return arguments.length?(e=Array.from(t),i=Math.min(e.length,r.length-1),a):e.slice()},a.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(e.length,r.length-1),a):r.slice()},a.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},a.unknown=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t().domain(e).range(r).unknown(n)},Hh.apply(a,arguments)},[Th]:function t(){var n=[],e=[];function r(t){return null==t||t!=t?void 0:e[(ui(n,t)-1)%e.length]}return r.domain=function(t){return arguments.length?(n=function(t){return Vg.call(t,function(t){return+t})}(t),r):n.slice()},r.range=function(t){return arguments.length?(e=Xg.call(t),r):e.slice()},r.tickFormat=function(t,e){return dg(n[0],k(n),null==t?10:t,e)},r.copy=function(){return t().domain(r.domain()).range(r.range())},r},[Oh]:Vh,[Nh]:Gg,[zh]:function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,n.copy=function(){return t(e())},n}(Gg().paddingInner(1))}};for(var Qg in Jg)Zg(Qg,Jg[Qg]);const Kg=["clamp","base","constant","exponent"];function tm(t,n){var e=n[0],r=k(n)-e;return function(n){return t(e+n*r)}}function nm(t,n,e){return Up(im(n||"rgb",e),t)}function em(t,n){for(var e=new Array(n),r=n+1,i=0;i<n;)e[i]=t(++i/r);return e}function rm(t,n,e){var r,i,a,u=e-n;return u&&isFinite(u)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Zg(i)().domain([n,e]).range([0,1]),Kg.forEach(n=>t[n]?a[n](t[n]()):0),a):V(.5)}function im(t,n){var e=jp[function(t){return"interpolate"+t.toLowerCase().split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")}(t)];return null!=n&&e&&e.gamma?e.gamma(n):e}function am(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}function um(t,n){for(let e in t)sm(e,n(t[e]))}const om={};function sm(t,n){return t=t&&t.toLowerCase(),arguments.length>1?(om[t]=n,this):om[t]}function lm(t,n,e){var r;return ut(n)&&null!=e&&(n=Math.min(n,~~(dt(t.domain())/e)||1)),o(n)&&(r=n.step,n=n.interval),s(n)&&(n=Wh(n,t.type)||i("Only time and utc scales accept interval strings."),r&&(n=n.every(r))),n}function cm(t,n,e){var r=t.range(),i=Math.floor(r[0]),a=Math.ceil(k(r));if(i>a&&(r=a,a=i,i=r),n=n.filter(function(n){return n=t(n),i<=n&&n<=a}),e>0&&n.length>1){for(var u=[n[0],k(n)];n.length>e&&n.length>=3;)n=n.filter(function(t,n){return!(n%2)});n.length<3&&(n=u)}return n}function fm(t,n){return t.bins?cm(t,function(t,n){var e=t.length,r=~~(e/(n||e));return r<2?t.slice():t.filter(function(t,n){return!(n%r)})}(t.bins,n)):t.ticks?t.ticks(n):t.domain()}function hm(t,n,e,r){var i,a,u=t.tickFormat?t.tickFormat(n,e):e&&r===kh?ue(e):e?sg(e):String;if(Lh(t.type)){var o=function(t){var n=eg(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return e=sg(n),r=sg(".1f")(1)[1],function(t){var n,i,a=e(t),u=a.indexOf(r);if(u<0)return a;for(n=function(t,n){var e,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>n;)if((e=t.charCodeAt(r))>=48&&e<=57)return r+1}(a,u),i=n<a.length?a.slice(n):"";--n>u;)if("0"!==a[n]){++n;break}return a.slice(0,n)+i}}return sg(n);var e,r}(e);u=t.bins?o:(i=u,a=o,function(t){return i(t)?a(t):""})}return u}function dm(t){$r.call(this,null,t)}function pm(t){$r.call(this,null,t)}function gm(){return Dt({})}function mm(t){return t.exit}function vm(t){$r.call(this,null,t)}um({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},am),um({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},t=>nm(am(t))),et(dm,$r).transform=function(t,n){if(this.value&&!t.modified())return n.StopPropagation;var e=n.fork(n.NO_SOURCE|n.NO_FIELDS),r=this.value,i=t.scale,a=lm(i,null==t.count?t.values?t.values.length:10:t.count,t.minstep),u=t.format||hm(i,a,t.formatSpecifier,t.formatType),o=t.values?cm(i,t.values,a):fm(i,a);return r&&(e.rem=r),r=o.map(function(t,n){return Dt({index:n/(o.length-1||1),value:t,label:u(t)})}),t.extra&&r.length&&r.push(Dt({index:-1,extra:{value:r[0].value},label:""})),e.source=r,e.add=r,this.value=r,e},et(pm,$r).transform=function(t,n){var e=n.dataflow,r=n.fork(n.NO_SOURCE|n.NO_FIELDS),a=t.item||gm,o=t.key||Et,s=this.value;return u(r.encode)&&(r.encode=null),s&&(t.modified("key")||n.modified(o))&&i("DataJoin does not support modified key function or fields."),s||(n=n.addAll(),this.value=s=tt().test(mm),s.lookup=function(t){return s.get(o(t))}),n.visit(n.ADD,function(t){var n=o(t),e=s.get(n);e?e.exit?(s.empty--,r.add.push(e)):r.mod.push(e):(s.set(n,e=a(t)),r.add.push(e)),e.datum=t,e.exit=!1}),n.visit(n.MOD,function(t){var n=o(t),e=s.get(n);e&&(e.datum=t,r.mod.push(e))}),n.visit(n.REM,function(t){var n=o(t),e=s.get(n);t!==e.datum||e.exit||(r.rem.push(e),e.exit=!0,++s.empty)}),n.changed(n.ADD_MOD)&&r.modifies("datum"),t.clean&&s.empty>e.cleanThreshold&&e.runAfter(s.clean),r},et(vm,$r).transform=function(t,n){var e=n.fork(n.ADD_REM),r=t.mod||!1,i=t.encoders,a=n.encode;if(u(a)){if(!e.changed()&&!a.every(function(t){return i[t]}))return n.StopPropagation;a=a[0],e.encode=null}var o="enter"===a,s=i.update||v,l=i.enter||v,c=i.exit||v,f=(a&&!o?i[a]:s)||v;if(n.changed(n.ADD)&&(n.visit(n.ADD,function(n){l(n,t),s(n,t)}),e.modifies(l.output),e.modifies(s.output),f!==v&&f!==s&&(n.visit(n.ADD,function(n){f(n,t)}),e.modifies(f.output))),n.changed(n.REM)&&c!==v&&(n.visit(n.REM,function(n){c(n,t)}),e.modifies(c.output)),o||f!==v){var h=n.MOD|(t.modified()?n.REFLOW:0);o?(n.visit(h,function(n){var i=l(n,t)||r;(f(n,t)||i)&&e.mod.push(n)}),e.mod.length&&e.modifies(l.output)):n.visit(h,function(n){(f(n,t)||r)&&e.mod.push(n)}),e.mod.length&&e.modifies(f.output)}return e.changed()?e:n.StopPropagation};var ym="symbol",xm="discrete";const _m={[Fh]:"quantiles",[Sh]:"thresholds",[Bh]:"domain"},bm={[Fh]:"quantiles",[Sh]:"domain"};function wm(t,n){return t.bins?function(t){const n=t.slice(0,-1);return n.max=k(t),n}(t.bins):_m[t.type]?function(t){const n=[-1/0].concat(t);return n.max=1/0,n}(t[_m[t.type]]()):fm(t,n)}function Am(t,n,e,r,i){const a=bm[t.type]&&i!==kh?function(t,n){var e,r=t[bm[t.type]](),i=r.length,a=i>1?r[1]-r[0]:r[0];for(e=1;e<i;++e)a=Math.min(a,r[e]-r[e-1]);return dg(0,a,30,n)}(t,r):hm(t,n,r,i);return e===ym&&function(t){return _m[t.type]||t.bins}(t)?function(t){return function(n,e,r){var i=r[e+1]||r.max||1/0,a=Mm(n,t),u=Mm(i,t);return a&&u?a+"â€“"+u:u?"< "+u:"â‰¥ "+a}}(a):e===xm?function(t){return function(n,e){return e?t(n):null}}(a):function(t){return function(n){return t(n)}}(a)}function Mm(t,n){return isFinite(t)?n(t):null}function km(t){$r.call(this,[],t)}et(km,$r).transform=function(t,n){if(null!=this.value&&!t.modified())return n.StopPropagation;var e,r,i,a,u=n.fork(n.NO_SOURCE|n.NO_FIELDS),o=this.value,s=t.type||ym,l=t.scale,c=lm(l,null==t.count?5:t.count,t.minstep),f=t.format||Am(l,c,s,t.formatSpecifier,t.formatType),h=t.values||wm(l,c);return o&&(u.rem=o),s===ym?(Y(i=t.size)?(t.values||0!==l(h[0])||(h=h.slice(1)),a=h.reduce(function(n,e){return Math.max(n,i(e,t))},0)):i=V(a=i||8),o=h.map(function(n,e){return Dt({index:e,label:f(n,e,h),value:n,offset:a,size:i(n,t)})})):"gradient"===s?(e=l.domain(),r=rm(l,e[0],k(e)),h.length<3&&!t.values&&e[0]!==k(e)&&(h=[e[0],k(e)]),o=h.map(function(t,n){return Dt({index:n,label:f(t,n,h),value:t,perc:r(t)})})):(i=h.length-1,r=function(t){var n=t.domain(),e=n.length-1,r=+n[0],i=+k(n),a=i-r;if(t.type===Bh){var u=e?a/e:.1;a=(i+=u)-(r-=u)}return function(t){return(t-r)/a}}(l),o=h.map(function(t,n){return Dt({index:n,label:f(t,n,h),value:t,perc:n?r(t):0,perc2:n===i?1:r(h[n+1])})})),u.source=o,u.add=o,this.value=o,u};var Em=tt({line:Om,"line-radial":function(t,n,e,r){return Om(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},arc:zm,"arc-radial":function(t,n,e,r){return zm(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},curve:Nm,"curve-radial":function(t,n,e,r){return Nm(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))},"orthogonal-horizontal":function(t,n,e,r){return"M"+t+","+n+"V"+r+"H"+e},"orthogonal-vertical":function(t,n,e,r){return"M"+t+","+n+"H"+e+"V"+r},"orthogonal-radial":function(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),u=Math.cos(e),o=Math.sin(e),s=Math.abs(e-t)>Math.PI?e<=t:e>t;return"M"+n*i+","+n*a+"A"+n+","+n+" 0 0,"+(s?1:0)+" "+n*u+","+n*o+"L"+r*u+","+r*o},"diagonal-horizontal":function(t,n,e,r){var i=(t+e)/2;return"M"+t+","+n+"C"+i+","+n+" "+i+","+r+" "+e+","+r},"diagonal-vertical":function(t,n,e,r){var i=(n+r)/2;return"M"+t+","+n+"C"+t+","+i+" "+e+","+i+" "+e+","+r},"diagonal-radial":function(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),u=Math.cos(e),o=Math.sin(e),s=(n+r)/2;return"M"+n*i+","+n*a+"C"+s*i+","+s*a+" "+s*u+","+s*o+" "+r*u+","+r*o}});function Cm(t){return t.source.x}function Dm(t){return t.source.y}function Fm(t){return t.target.x}function Sm(t){return t.target.y}function Bm(t){$r.call(this,{},t)}function Om(t,n,e,r){return"M"+t+","+n+"L"+e+","+r}function zm(t,n,e,r){var i=e-t,a=r-n,u=Math.sqrt(i*i+a*a)/2;return"M"+t+","+n+"A"+u+","+u+" "+180*Math.atan2(a,i)/Math.PI+" 0 1 "+e+","+r}function Nm(t,n,e,r){var i=e-t,a=r-n,u=.2*(i+a),o=.2*(a-i);return"M"+t+","+n+"C"+(t+u)+","+(n+o)+" "+(e+o)+","+(r-u)+" "+e+","+r}function Tm(t){$r.call(this,null,t)}Bm.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},et(Bm,$r).transform=function(t,n){var e=t.sourceX||Cm,r=t.sourceY||Dm,a=t.targetX||Fm,u=t.targetY||Sm,o=t.as||"path",s=t.orient||"vertical",l=t.shape||"line",c=Em.get(l+"-"+s)||Em.get(l);return c||i("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),n.visit(n.SOURCE,function(t){t[o]=c(e(t),r(t),a(t),u(t))}),n.reflow(t.modified()).modifies(o)},Tm.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},et(Tm,$r).transform=function(t,n){var e,r,i,a=t.as||["startAngle","endAngle"],u=a[0],o=a[1],s=t.field||g,l=t.startAngle||0,c=null!=t.endAngle?t.endAngle:2*Math.PI,f=n.source,h=f.map(s),d=h.length,p=l,m=(c-l)/function(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}(h),v=li(d);for(t.sort&&v.sort(function(t,n){return h[t]-h[n]}),e=0;e<d;++e)i=h[v[e]],(r=f[v[e]])[u]=p,r[o]=p+=i*m;return this.value=h,n.reflow(t.modified()).modifies(a)};var Rm=5;function Pm(t){return qh(t)&&t!==Ch}var Lm=yt(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function qm(t){$r.call(this,null,t),this.modified(!0)}function Um(t,n,e){Lh(t)&&(Math.abs(n.reduce(function(t,n){return t+(n<0?-1:n>0?1:0)},0))!==n.length&&e.warn("Log scale domain includes zero: "+l(n)));return n}function jm(t,n,e){return Y(t)&&(n||e)?tm(t,$m(n||[0,1],e)):t}function $m(t,n){return n?t.slice().reverse():t}function Im(t){$r.call(this,null,t)}et(qm,$r).transform=function(t,n){var e=n.dataflow,r=this.value,a=function(t){var n,e=t.type,r="";if(e===Ch)return Ch+"-"+_h;(function(t){const n=t.type;return qh(n)&&n!==kh&&n!==Eh&&(t.scheme||t.range&&t.range.length&&t.range.every(s))})(t)&&(n=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,r=2===n?Ch+"-":3===n?Dh+"-":"");return(r+e||_h).toLowerCase()}(t);for(a in r&&a===r.type||(this.value=r=Zg(a)()),t)if(!Lm[a]){if("padding"===a&&Pm(r.type))continue;Y(r[a])?r[a](t[a]):e.warn("Unsupported scale property: "+a)}return function(t,n,e){var r=n.round||!1,a=n.range;if(null!=n.rangeStep)a=function(t,n,e){t!==Nh&&t!==zh&&i("Only band and point scales support rangeStep.");var r=(null!=n.paddingOuter?n.paddingOuter:n.padding)||0,a=t===zh?1:(null!=n.paddingInner?n.paddingInner:n.padding)||0;return[0,n.rangeStep*yh(e,a,r)]}(t.type,n,e);else if(n.scheme){if(a=function(t,n,e){var r,a,o=n.schemeExtent;u(n.scheme)?a=nm(n.scheme,n.interpolate,n.interpolateGamma):(r=n.scheme.toLowerCase(),(a=sm(r))||i("Unrecognized scheme name: "+n.scheme));return e=t===Bh?e+1:t===Th?e-1:t===Fh||t===Sh?+n.schemeCount||Rm:e,Ph(t)?jm(a,o,n.reverse):Y(a)?em(jm(a,o),e):t===Oh?a:a.slice(0,e)}(t.type,n,e),Y(a))return t.interpolator(a)}else if(a&&Ph(t.type))return t.interpolator(nm($m(a,n.reverse),n.interpolate,n.interpolateGamma));a&&n.interpolate&&t.interpolate?t.interpolate(im(n.interpolate,n.interpolateGamma)):Y(t.round)?t.round(r):Y(t.rangeRound)&&t.interpolate(r?gp:pp);a&&t.range($m(a,n.reverse))}(r,t,function(t,n,e){let r=n.bins;if(r&&!u(r)){const n=(null==r.start||null==r.stop)&&t.domain(),e=null==r.start?n[0]:r.start,a=null==r.stop?k(n):r.stop,u=r.step;u||i("Scale bins parameter missing step property."),r=li(e,a+u,u)}r?t.bins=r:t.bins&&delete t.bins;t.type===Th&&(r?n.domain||n.domainRaw||(t.domain(r),e=r.length):t.bins=t.domain());return e}(r,t,function(t,n,e){var r=function(t,n,e){return n?(t.domain(Um(t.type,n,e)),n.length):-1}(t,n.domainRaw,e);if(r>-1)return r;var i,a,u=n.domain,o=t.type,s=n.zero||void 0===n.zero&&function(t){const n=t.type;return!t.bins&&(n===_h||n===wh||n===Ah)}(t);if(!u)return 0;Pm(o)&&n.padding&&u[0]!==k(u)&&(u=function(t,n,e,r,i,a){var u=Math.abs(k(e)-e[0]),o=u/(u-2*r),s=t===bh?q(n,null,o):t===Ah?U(n,null,o,.5):t===wh?U(n,null,o,i||1):t===Mh?j(n,null,o,a||1):L(n,null,o);return(n=n.slice())[0]=s[0],n[n.length-1]=s[1],n}(o,u,n.range,n.padding,n.exponent,n.constant));(s||null!=n.domainMin||null!=n.domainMax||null!=n.domainMid)&&(i=(u=u.slice()).length-1||1,s&&(u[0]>0&&(u[0]=0),u[i]<0&&(u[i]=0)),null!=n.domainMin&&(u[0]=n.domainMin),null!=n.domainMax&&(u[i]=n.domainMax),null!=n.domainMid&&(((a=n.domainMid)<u[0]||a>u[i])&&e.warn("Scale domainMid exceeds domain min or max.",a),u.splice(i,0,a)));t.domain(Um(o,u,e)),o===Oh&&t.unknown(n.domainImplicit?Gh:void 0);n.nice&&t.nice&&t.nice(!0!==n.nice&&lm(t,n.nice)||null);return u.length}(r,t,e))),n.fork(n.NO_SOURCE|n.NO_FIELDS)},et(Im,$r).transform=function(t,n){var e=t.modified("sort")||n.changed(n.ADD)||n.modified(t.sort.fields)||n.modified("datum");return e&&n.source.sort(t.sort),this.modified(e),n};var Wm=["y0","y1"];function Hm(t){$r.call(this,null,t)}function Ym(t,n,e,r,i){for(var a,u=(n-t.sum)/2,o=t.length,s=0;s<o;++s)(a=t[s])[r]=u,a[i]=u+=Math.abs(e(a))}function Gm(t,n,e,r,i){for(var a,u=1/t.sum,o=0,s=t.length,l=0,c=0;l<s;++l)(a=t[l])[r]=o,a[i]=o=u*(c+=Math.abs(e(a)))}function Vm(t,n,e,r,i){for(var a,u,o=0,s=0,l=t.length,c=0;c<l;++c)(a=+e(u=t[c]))<0?(u[r]=s,u[i]=s+=a):(u[r]=o,u[i]=o+=a)}Hm.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:Wm}]},et(Hm,$r).transform=function(t,n){var e,r,i,a,u=t.as||Wm,o=u[0],s=u[1],l=t.field||g,c="center"===t.offset?Ym:"normalize"===t.offset?Gm:Vm;for(e=function(t,n,e,r){var i,a,u,o,s,l,c,f,h,d=[],p=function(t){return t(s)};if(null==n)d.push(t.slice());else for(i={},a=0,u=t.length;a<u;++a)s=t[a],l=n.map(p),(c=i[l])||(i[l]=c=[],d.push(c)),c.push(s);for(l=0,h=0,o=d.length;l<o;++l){for(c=d[l],a=0,f=0,u=c.length;a<u;++a)f+=Math.abs(r(c[a]));c.sum=f,f>h&&(h=f),e&&c.sort(e)}return d.max=h,d}(n.source,t.groupby,t.sort,l),r=0,i=e.length,a=e.max;r<i;++r)c(e[r],a,l,o,s);return n.reflow(t.modified()).modifies(u)};var Xm=Object.freeze({axisticks:dm,datajoin:pm,encode:vm,legendentries:km,linkpath:Bm,pie:Tm,scale:qm,sortitems:Im,stack:Hm,validTicks:cm});function Zm(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}!function(t){var n;1===t.length&&(n=t,t=function(t,e){return Zm(n(t),e)})}(Zm);function Jm(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var Qm=Math.sqrt(50),Km=Math.sqrt(10),tv=Math.sqrt(2);function nv(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Qm?i*=10:a>=Km?i*=5:a>=tv&&(i*=2),n<t?-i:i}function ev(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}var rv=Array.prototype.slice;function iv(t,n){return t-n}function av(t){return function(){return t}}function uv(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ov(t,n[r]))return e;return 0}function ov(t,n){for(var e=n[0],r=n[1],i=-1,a=0,u=t.length,o=u-1;a<u;o=a++){var s=t[a],l=s[0],c=s[1],f=t[o],h=f[0],d=f[1];if(sv(s,f,n))return 0;c>r!=d>r&&e<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function sv(t,n,e){var r,i,a,u;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],a=e[r],u=n[r],i<=a&&a<=u||u<=a&&a<=i)}function lv(){}var cv=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function fv(){var t=1,n=1,e=ev,r=o;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(iv);else{var r=function(t,n){var e,r,i,a=t.length,u=-1;if(null==n){for(;++u<a;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<a;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<a;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<a;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}(t),i=r[0],u=r[1];n=nv(i,u,n),n=Jm(Math.floor(i/n)*n,Math.floor(u/n)*n,n)}return n.map(function(n){return a(t,n)})}function a(e,i){var a=[],o=[];return function(e,r,i){var a,o,s,l,c,f,h=new Array,d=new Array;a=o=-1,l=e[0]>=r,cv[l<<1].forEach(p);for(;++a<t-1;)s=l,l=e[a+1]>=r,cv[s|l<<1].forEach(p);cv[l<<0].forEach(p);for(;++o<n-1;){for(a=-1,l=e[o*t+t]>=r,c=e[o*t]>=r,cv[l<<1|c<<2].forEach(p);++a<t-1;)s=l,l=e[o*t+t+a+1]>=r,f=c,c=e[o*t+a+1]>=r,cv[s|l<<1|c<<2|f<<3].forEach(p);cv[l|c<<3].forEach(p)}a=-1,c=e[o*t]>=r,cv[c<<2].forEach(p);for(;++a<t-1;)f=c,c=e[o*t+a+1]>=r,cv[c<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+a,t[0][1]+o],s=[t[1][0]+a,t[1][1]+o],l=u(r),c=u(s);(n=d[l])?(e=h[c])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=c]=n):(n=h[c])?(e=d[l])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=l]=n):h[l]=d[c]={start:l,end:c,ring:[r,s]}}cv[c<<3].forEach(p)}(e,i,function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?a.push([t]):o.push(t)}),o.forEach(function(t){for(var n,e=0,r=a.length;e<r;++e)if(-1!==uv((n=a[e])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:i,coordinates:a}}function u(n){return 2*n[0]+n[1]*(t+1)*4}function o(e,r,i){e.forEach(function(e){var a,u=e[0],o=e[1],s=0|u,l=0|o,c=r[l*t+s];u>0&&u<t&&s===u&&(a=r[l*t+s-1],e[0]=u+(i-a)/(c-a)-.5),o>0&&o<n&&l===o&&(a=r[(l-1)*t+s],e[1]=o+(i-a)/(c-a)-.5)})}return i.contour=a,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),a=Math.ceil(e[1]);if(!(r>0&&a>0))throw new Error("invalid size");return t=r,n=a,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?av(rv.call(t)):av(t),i):e},i.smooth=function(t){return arguments.length?(r=t?o:lv,i):r===o},i}function hv(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),u=0;u<i;++u)for(var o=0,s=0;o<r+e;++o)o<r&&(s+=t.data[o+u*r]),o>=e&&(o>=a&&(s-=t.data[o-a+u*r]),n.data[o-e+u*r]=s/Math.min(o+1,r-1+a-o,a))}function dv(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),u=0;u<r;++u)for(var o=0,s=0;o<i+e;++o)o<i&&(s+=t.data[u+o*r]),o>=e&&(o>=a&&(s-=t.data[u+(o-a)*r]),n.data[u+(o-e)*r]=s/Math.min(o+1,i-1+a-o,a))}function pv(t){return t[0]}function gv(t){return t[1]}function mv(){return 1}var vv=["size","smooth"],yv=["x","y","weight","size","cellSize","bandwidth"];function xv(t){$r.call(this,null,t)}xv.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]},et(xv,$r).transform=function(t,n){if(this.value&&!n.changed()&&!t.modified())return n.StopPropagation;var e,r,i,a,u=n.fork(n.NO_SOURCE|n.NO_FIELDS),o=t.count||10;return t.values?(e=fv(),r=vv,i=t.values):(e=function(){var t=pv,n=gv,e=mv,r=960,i=500,a=20,u=2,o=3*a,s=r+2*o>>u,l=i+2*o>>u,c=av(20);function f(r){var i=new Float32Array(s*l),f=new Float32Array(s*l);r.forEach(function(r,a,c){var f=+t(r,a,c)+o>>u,h=+n(r,a,c)+o>>u,d=+e(r,a,c);f>=0&&f<s&&h>=0&&h<l&&(i[f+h*s]+=d)}),hv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),dv({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u),hv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),dv({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u),hv({width:s,height:l,data:i},{width:s,height:l,data:f},a>>u),dv({width:s,height:l,data:f},{width:s,height:l,data:i},a>>u);var d=c(i);if(!Array.isArray(d)){var p=function(t,n){var e,r,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(e=t[a])&&e>=e)for(r=e;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else for(;++a<i;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=e;++a<i;)null!=(e=n(t[a],a,t))&&e>r&&(r=e);return r}(i);d=nv(0,p,d),(d=Jm(0,Math.floor(p/d)*d,d)).shift()}return fv().thresholds(d).size([s,l])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,u)-o,t[1]=t[1]*Math.pow(2,u)-o}function m(){return s=r+2*(o=3*a)>>u,l=i+2*o>>u,f}return f.x=function(n){return arguments.length?(t="function"==typeof n?n:av(+n),f):t},f.y=function(t){return arguments.length?(n="function"==typeof t?t:av(+t),f):n},f.weight=function(t){return arguments.length?(e="function"==typeof t?t:av(+t),f):e},f.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0||n>=0))throw new Error("invalid size");return r=n,i=e,m()},f.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),m()},f.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?av(rv.call(t)):av(t),f):c},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},f}(),r=yv,i=n.materialize(n.SOURCE).source),e.thresholds(t.thresholds||(t.nice?o:(a=o,function(t){for(var n=si(t),e=n[0],r=n[1]-e,i=[],u=1;u<=a;++u)i.push(e+r*u/(a+1));return i}))),r.forEach(function(n){null!=t[n]&&e[n](t[n])}),this.value&&(u.rem=this.value),i=i&&i.length?e(i).map(Dt):[],this.value=u.source=u.add=i,u};var _v="Feature",bv="FeatureCollection";function wv(t){$r.call(this,null,t)}function Av(){return new Mv}function Mv(){this.reset()}wv.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},et(wv,$r).transform=function(t,n){var e,i=this._features,a=this._points,u=t.fields,o=u&&u[0],s=u&&u[1],l=t.geojson,c=n.ADD;e=t.modified()||n.changed(n.REM)||n.modified(r(l))||o&&n.modified(r(o))||s&&n.modified(r(s)),this.value&&!e||(c=n.SOURCE,this._features=i=[],this._points=a=[]),l&&n.visit(c,function(t){i.push(l(t))}),o&&s&&(n.visit(c,function(t){var n=o(t),e=s(t);null!=n&&null!=e&&(n=+n)===n&&(e=+e)===e&&a.push([n,e])}),i=i.concat({type:_v,geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:bv,features:i}},Mv.prototype={constructor:Mv,reset:function(){this.s=this.t=0},add:function(t){Ev(kv,t,this.t),Ev(this,kv.s,this.s),this.s?this.t+=kv.t:this.s=kv.t},valueOf:function(){return this.s}};var kv=new Mv;function Ev(t,n,e){var r=t.s=n+e,i=r-n,a=r-i;t.t=n-a+(e-i)}var Cv=1e-6,Dv=1e-12,Fv=Math.PI,Sv=Fv/2,Bv=Fv/4,Ov=2*Fv,zv=180/Fv,Nv=Fv/180,Tv=Math.abs,Rv=Math.atan,Pv=Math.atan2,Lv=Math.cos,qv=Math.ceil,Uv=Math.exp,jv=Math.log,$v=Math.pow,Iv=Math.sin,Wv=Math.sign||function(t){return t>0?1:t<0?-1:0},Hv=Math.sqrt,Yv=Math.tan;function Gv(t){return t>1?0:t<-1?Fv:Math.acos(t)}function Vv(t){return t>1?Sv:t<-1?-Sv:Math.asin(t)}function Xv(){}function Zv(t,n){t&&Qv.hasOwnProperty(t.type)&&Qv[t.type](t,n)}var Jv={Feature:function(t,n){Zv(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Zv(e[r].geometry,n)}},Qv={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Kv(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Kv(e[r],n,0)},Polygon:function(t,n){ty(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ty(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Zv(e[r],n)}};function Kv(t,n,e){var r,i=-1,a=t.length-e;for(n.lineStart();++i<a;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ty(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Kv(t[e],n,1);n.polygonEnd()}function ny(t,n){t&&Jv.hasOwnProperty(t.type)?Jv[t.type](t,n):Zv(t,n)}var ey,ry,iy,ay,uy,oy=Av(),sy=Av(),ly={point:Xv,lineStart:Xv,lineEnd:Xv,polygonStart:function(){oy.reset(),ly.lineStart=cy,ly.lineEnd=fy},polygonEnd:function(){var t=+oy;sy.add(t<0?Ov+t:t),this.lineStart=this.lineEnd=this.point=Xv},sphere:function(){sy.add(Ov)}};function cy(){ly.point=hy}function fy(){dy(ey,ry)}function hy(t,n){ly.point=dy,ey=t,ry=n,iy=t*=Nv,ay=Lv(n=(n*=Nv)/2+Bv),uy=Iv(n)}function dy(t,n){var e=(t*=Nv)-iy,r=e>=0?1:-1,i=r*e,a=Lv(n=(n*=Nv)/2+Bv),u=Iv(n),o=uy*u,s=ay*a+o*Lv(i),l=o*r*Iv(i);oy.add(Pv(l,s)),iy=t,ay=a,uy=u}function py(t){return[Pv(t[1],t[0]),Vv(t[2])]}function gy(t){var n=t[0],e=t[1],r=Lv(e);return[r*Lv(n),r*Iv(n),Iv(e)]}function my(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function vy(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function yy(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xy(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function _y(t){var n=Hv(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var by,wy,Ay,My,ky,Ey,Cy,Dy,Fy,Sy,By,Oy,zy,Ny,Ty,Ry,Py,Ly,qy,Uy,jy,$y,Iy,Wy,Hy,Yy,Gy=Av(),Vy={point:Xy,lineStart:Jy,lineEnd:Qy,polygonStart:function(){Vy.point=Ky,Vy.lineStart=tx,Vy.lineEnd=nx,Gy.reset(),ly.polygonStart()},polygonEnd:function(){ly.polygonEnd(),Vy.point=Xy,Vy.lineStart=Jy,Vy.lineEnd=Qy,oy<0?(by=-(Ay=180),wy=-(My=90)):Gy>Cv?My=90:Gy<-Cv&&(wy=-90),Sy[0]=by,Sy[1]=Ay}};function Xy(t,n){Fy.push(Sy=[by=t,Ay=t]),n<wy&&(wy=n),n>My&&(My=n)}function Zy(t,n){var e=gy([t*Nv,n*Nv]);if(Dy){var r=vy(Dy,e),i=vy([r[1],-r[0],0],r);_y(i),i=py(i);var a,u=t-ky,o=u>0?1:-1,s=i[0]*zv*o,l=Tv(u)>180;l^(o*ky<s&&s<o*t)?(a=i[1]*zv)>My&&(My=a):l^(o*ky<(s=(s+360)%360-180)&&s<o*t)?(a=-i[1]*zv)<wy&&(wy=a):(n<wy&&(wy=n),n>My&&(My=n)),l?t<ky?ex(by,t)>ex(by,Ay)&&(Ay=t):ex(t,Ay)>ex(by,Ay)&&(by=t):Ay>=by?(t<by&&(by=t),t>Ay&&(Ay=t)):t>ky?ex(by,t)>ex(by,Ay)&&(Ay=t):ex(t,Ay)>ex(by,Ay)&&(by=t)}else Fy.push(Sy=[by=t,Ay=t]);n<wy&&(wy=n),n>My&&(My=n),Dy=e,ky=t}function Jy(){Vy.point=Zy}function Qy(){Sy[0]=by,Sy[1]=Ay,Vy.point=Xy,Dy=null}function Ky(t,n){if(Dy){var e=t-ky;Gy.add(Tv(e)>180?e+(e>0?360:-360):e)}else Ey=t,Cy=n;ly.point(t,n),Zy(t,n)}function tx(){ly.lineStart()}function nx(){Ky(Ey,Cy),ly.lineEnd(),Tv(Gy)>Cv&&(by=-(Ay=180)),Sy[0]=by,Sy[1]=Ay,Dy=null}function ex(t,n){return(n-=t)<0?n+360:n}function rx(t,n){return t[0]-n[0]}function ix(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ax={sphere:Xv,point:ux,lineStart:sx,lineEnd:fx,polygonStart:function(){ax.lineStart=hx,ax.lineEnd=dx},polygonEnd:function(){ax.lineStart=sx,ax.lineEnd=fx}};function ux(t,n){t*=Nv;var e=Lv(n*=Nv);ox(e*Lv(t),e*Iv(t),Iv(n))}function ox(t,n,e){zy+=(t-zy)/++By,Ny+=(n-Ny)/By,Ty+=(e-Ty)/By}function sx(){ax.point=lx}function lx(t,n){t*=Nv;var e=Lv(n*=Nv);Wy=e*Lv(t),Hy=e*Iv(t),Yy=Iv(n),ax.point=cx,ox(Wy,Hy,Yy)}function cx(t,n){t*=Nv;var e=Lv(n*=Nv),r=e*Lv(t),i=e*Iv(t),a=Iv(n),u=Pv(Hv((u=Hy*a-Yy*i)*u+(u=Yy*r-Wy*a)*u+(u=Wy*i-Hy*r)*u),Wy*r+Hy*i+Yy*a);Oy+=u,Ry+=u*(Wy+(Wy=r)),Py+=u*(Hy+(Hy=i)),Ly+=u*(Yy+(Yy=a)),ox(Wy,Hy,Yy)}function fx(){ax.point=ux}function hx(){ax.point=px}function dx(){gx($y,Iy),ax.point=ux}function px(t,n){$y=t,Iy=n,t*=Nv,n*=Nv,ax.point=gx;var e=Lv(n);Wy=e*Lv(t),Hy=e*Iv(t),Yy=Iv(n),ox(Wy,Hy,Yy)}function gx(t,n){t*=Nv;var e=Lv(n*=Nv),r=e*Lv(t),i=e*Iv(t),a=Iv(n),u=Hy*a-Yy*i,o=Yy*r-Wy*a,s=Wy*i-Hy*r,l=Hv(u*u+o*o+s*s),c=Vv(l),f=l&&-c/l;qy+=f*u,Uy+=f*o,jy+=f*s,Oy+=c,Ry+=c*(Wy+(Wy=r)),Py+=c*(Hy+(Hy=i)),Ly+=c*(Yy+(Yy=a)),ox(Wy,Hy,Yy)}function mx(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function vx(t,n){return[Tv(t)>Fv?t+Math.round(-t/Ov)*Ov:t,n]}function yx(t,n,e){return(t%=Ov)?n||e?mx(_x(t),bx(n,e)):_x(t):n||e?bx(n,e):vx}function xx(t){return function(n,e){return[(n+=t)>Fv?n-Ov:n<-Fv?n+Ov:n,e]}}function _x(t){var n=xx(t);return n.invert=xx(-t),n}function bx(t,n){var e=Lv(t),r=Iv(t),i=Lv(n),a=Iv(n);function u(t,n){var u=Lv(n),o=Lv(t)*u,s=Iv(t)*u,l=Iv(n),c=l*e+o*r;return[Pv(s*i-c*a,o*e-l*r),Vv(c*i+s*a)]}return u.invert=function(t,n){var u=Lv(n),o=Lv(t)*u,s=Iv(t)*u,l=Iv(n),c=l*i-s*a;return[Pv(s*i+l*a,o*e+c*r),Vv(c*e-o*r)]},u}function wx(t,n){(n=gy(n))[0]-=t,_y(n);var e=Gv(-n[1]);return((-n[2]<0?-e:e)+Ov-Cv)%Ov}function Ax(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Xv,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Mx(t,n){return Tv(t[0]-n[0])<Cv&&Tv(t[1]-n[1])<Cv}function kx(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ex(t,n,e,r,i){var a,u,o=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Mx(r,u)){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else o.push(e=new kx(r,t,null,!0)),s.push(e.o=new kx(r,null,e,!1)),o.push(e=new kx(u,t,null,!1)),s.push(e.o=new kx(u,null,e,!0))}}),o.length){for(s.sort(n),Cx(o),Cx(s),a=0,u=s.length;a<u;++a)s[a].e=e=!e;for(var l,c,f=o[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,u=l.length;a<u;++a)i.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Cx(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}vx.invert=vx;var Dx=Av();function Fx(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}!function(t){var n;1===t.length&&(n=t,t=function(t,e){return Fx(n(t),e)})}(Fx);function Sx(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}function Bx(t){for(var n,e,r,i=t.length,a=-1,u=0;++a<i;)u+=t[a].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function Ox(t,n,e,r){return function(i){var a,u,o,s=n(i),l=Ax(),c=n(l),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=x,u=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,u=Bx(u);var t=function(t,n){var e=n[0],r=n[1],i=Iv(r),a=[Iv(e),-Lv(e),0],u=0,o=0;Dx.reset(),1===i?r=Sv+Cv:-1===i&&(r=-Sv-Cv);for(var s=0,l=t.length;s<l;++s)if(f=(c=t[s]).length)for(var c,f,h=c[f-1],d=h[0],p=h[1]/2+Bv,g=Iv(p),m=Lv(p),v=0;v<f;++v,d=x,g=b,m=w,h=y){var y=c[v],x=y[0],_=y[1]/2+Bv,b=Iv(_),w=Lv(_),A=x-d,M=A>=0?1:-1,k=M*A,E=k>Fv,C=g*b;if(Dx.add(Pv(C*M*Iv(k),m*w+C*Lv(k))),u+=E?A+M*Ov:A,E^d>=e^x>=e){var D=vy(gy(h),gy(y));_y(D);var F=vy(a,D);_y(F);var S=(E^A>=0?-1:1)*Vv(F[2]);(r>S||r===S&&(D[0]||D[1]))&&(o+=E^A>=0?1:-1)}}return(u<-Cv||u<Cv&&Dx<-Cv)^1&o}(a,r);u.length?(f||(i.polygonStart(),f=!0),Ex(u,Nx,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function v(t,n){o.push([t,n]),c.point(t,n)}function y(){c.lineStart(),o=[]}function x(){v(o[0][0],o[0][1]),c.lineEnd();var t,n,e,r,s=c.clean(),h=l.result(),d=h.length;if(o.pop(),a.push(o),o=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),u.push(h.filter(zx))}return h}}function zx(t){return t.length>1}function Nx(t,n){return((t=t.x)[0]<0?t[1]-Sv-Cv:Sv-t[1])-((n=n.x)[0]<0?n[1]-Sv-Cv:Sv-n[1])}var Tx=Ox(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,u){var o=a>0?Fv:-Fv,s=Tv(a-e);Tv(s-Fv)<Cv?(t.point(e,r=(r+u)/2>0?Sv:-Sv),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),t.point(a,r),n=0):i!==o&&s>=Fv&&(Tv(e-i)<Cv&&(e-=i*Cv),Tv(a-o)<Cv&&(a-=o*Cv),r=function(t,n,e,r){var i,a,u=Iv(t-e);return Tv(u)>Cv?Rv((Iv(n)*(a=Lv(r))*Iv(e)-Iv(r)*(i=Lv(n))*Iv(t))/(i*a*u)):(n+r)/2}(e,r,a,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(o,r),n=0),t.point(e=a,r=u),i=o},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*Sv,r.point(-Fv,i),r.point(0,i),r.point(Fv,i),r.point(Fv,0),r.point(Fv,-i),r.point(0,-i),r.point(-Fv,-i),r.point(-Fv,0),r.point(-Fv,i);else if(Tv(t[0]-n[0])>Cv){var a=t[0]<n[0]?Fv:-Fv;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])},[-Fv,-Sv]);function Rx(t){var n=Lv(t),e=6*Nv,r=n>0,i=Tv(n)>Cv;function a(t,e){return Lv(t)*Lv(e)>n}function u(t,e,r){var i=[1,0,0],a=vy(gy(t),gy(e)),u=my(a,a),o=a[0],s=u-o*o;if(!s)return!r&&t;var l=n*u/s,c=-n*o/s,f=vy(i,a),h=xy(i,l);yy(h,xy(a,c));var d=f,p=my(h,d),g=my(d,d),m=p*p-g*(my(h,h)-1);if(!(m<0)){var v=Hv(m),y=xy(d,(-p-v)/g);if(yy(y,h),y=py(y),!r)return y;var x,_=t[0],b=e[0],w=t[1],A=e[1];b<_&&(x=_,_=b,b=x);var M=b-_,k=Tv(M-Fv)<Cv;if(!k&&A<w&&(x=w,w=A,A=x),k||M<Cv?k?w+A>0^y[1]<(Tv(y[0]-_)<Cv?w:A):w<=y[1]&&y[1]<=A:M>Fv^(_<=y[0]&&y[0]<=b)){var E=xy(d,(-p+v)/g);return yy(E,h),[y,py(E)]}}}function o(n,e){var i=r?t:Fv-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return Ox(a,function(t){var n,e,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var d,p=[f,h],g=a(f,h),m=r?g?0:o(f,h):g?o(f+(f<0?Fv:-Fv),h):0;if(!n&&(l=s=g)&&t.lineStart(),g!==s&&(!(d=u(n,p))||Mx(n,d)||Mx(p,d))&&(p[0]+=Cv,p[1]+=Cv,g=a(p[0],p[1])),g!==s)c=0,g?(t.lineStart(),d=u(p,n),t.point(d[0],d[1])):(d=u(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^g){var v;m&e||!(v=u(p,n,!0))||(c=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Mx(n,p)||t.point(p[0],p[1]),n=p,s=g,e=m},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}},function(n,r,i,a){!function(t,n,e,r,i,a){if(e){var u=Lv(n),o=Iv(n),s=r*e;null==i?(i=n+r*Ov,a=n-s/2):(i=wx(u,i),a=wx(u,a),(r>0?i<a:i>a)&&(i+=r*Ov));for(var l,c=i;r>0?c>a:c<a;c-=s)l=py([u,-o*Lv(c),-o*Iv(c)]),t.point(l[0],l[1])}}(a,t,e,i,n,r)},r?[0,-t]:[-Fv,t-Fv])}var Px=1e9,Lx=-Px;function qx(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,o,l){var c=0,f=0;if(null==i||(c=u(i,o))!==(f=u(a,o))||s(i,a)<0^o>0)do{l.point(0===c||3===c?t:e,c>1?r:n)}while((c=(c+o+4)%4)!==f);else l.point(a[0],a[1])}function u(r,i){return Tv(r[0]-t)<Cv?i>0?0:3:Tv(r[0]-e)<Cv?i>0?2:1:Tv(r[1]-n)<Cv?i>0?1:0:i>0?3:2}function o(t,n){return s(t.x,n.x)}function s(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var s,l,c,f,h,d,p,g,m,v,y,x=u,_=Ax(),b={point:w,lineStart:function(){b.point=A,l&&l.push(c=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(A(f,h),d&&m&&_.rejoin(),s.push(_.result()));b.point=w,m&&x.lineEnd()},polygonStart:function(){x=_,s=[],l=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var a,u,o=l[e],s=1,c=o.length,f=o[0],h=f[0],d=f[1];s<c;++s)a=h,u=d,f=o[s],h=f[0],d=f[1],u<=r?d>r&&(h-a)*(r-u)>(d-u)*(t-a)&&++n:d<=r&&(h-a)*(r-u)<(d-u)*(t-a)&&--n;return n}(),e=y&&n,i=(s=Bx(s)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),i&&Ex(s,o,n,a,u),u.polygonEnd());x=u,s=l=c=null}};function w(t,n){i(t,n)&&x.point(t,n)}function A(a,u){var o=i(a,u);if(l&&c.push([a,u]),v)f=a,h=u,d=o,v=!1,o&&(x.lineStart(),x.point(a,u));else if(o&&m)x.point(a,u);else{var s=[p=Math.max(Lx,Math.min(Px,p)),g=Math.max(Lx,Math.min(Px,g))],_=[a=Math.max(Lx,Math.min(Px,a)),u=Math.max(Lx,Math.min(Px,u))];!function(t,n,e,r,i,a){var u,o=t[0],s=t[1],l=0,c=1,f=n[0]-o,h=n[1]-s;if(u=e-o,f||!(u>0)){if(u/=f,f<0){if(u<l)return;u<c&&(c=u)}else if(f>0){if(u>c)return;u>l&&(l=u)}if(u=i-o,f||!(u<0)){if(u/=f,f<0){if(u>c)return;u>l&&(l=u)}else if(f>0){if(u<l)return;u<c&&(c=u)}if(u=r-s,h||!(u>0)){if(u/=h,h<0){if(u<l)return;u<c&&(c=u)}else if(h>0){if(u>c)return;u>l&&(l=u)}if(u=a-s,h||!(u<0)){if(u/=h,h<0){if(u>c)return;u>l&&(l=u)}else if(h>0){if(u<l)return;u<c&&(c=u)}return l>0&&(t[0]=o+l*f,t[1]=s+l*h),c<1&&(n[0]=o+c*f,n[1]=s+c*h),!0}}}}}(s,_,t,n,e,r)?o&&(x.lineStart(),x.point(a,u),y=!1):(m||(x.lineStart(),x.point(s[0],s[1])),x.point(_[0],_[1]),o||x.lineEnd(),y=!1)}p=a,g=u,m=o}return b}}Av();function Ux(t,n,e){var r=Sx(t,n-Cv,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function jx(t,n,e){var r=Sx(t,n-Cv,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function $x(t){return t}var Ix,Wx,Hx,Yx,Gx=Av(),Vx=Av(),Xx={point:Xv,lineStart:Xv,lineEnd:Xv,polygonStart:function(){Xx.lineStart=Zx,Xx.lineEnd=Kx},polygonEnd:function(){Xx.lineStart=Xx.lineEnd=Xx.point=Xv,Gx.add(Tv(Vx)),Vx.reset()},result:function(){var t=Gx/2;return Gx.reset(),t}};function Zx(){Xx.point=Jx}function Jx(t,n){Xx.point=Qx,Ix=Hx=t,Wx=Yx=n}function Qx(t,n){Vx.add(Yx*t-Hx*n),Hx=t,Yx=n}function Kx(){Qx(Ix,Wx)}var t_=1/0,n_=t_,e_=-t_,r_=e_,i_={point:function(t,n){t<t_&&(t_=t);t>e_&&(e_=t);n<n_&&(n_=n);n>r_&&(r_=n)},lineStart:Xv,lineEnd:Xv,polygonStart:Xv,polygonEnd:Xv,result:function(){var t=[[t_,n_],[e_,r_]];return e_=r_=-(n_=t_=1/0),t}};var a_,u_,o_,s_,l_=0,c_=0,f_=0,h_=0,d_=0,p_=0,g_=0,m_=0,v_=0,y_={point:x_,lineStart:__,lineEnd:A_,polygonStart:function(){y_.lineStart=M_,y_.lineEnd=k_},polygonEnd:function(){y_.point=x_,y_.lineStart=__,y_.lineEnd=A_},result:function(){var t=v_?[g_/v_,m_/v_]:p_?[h_/p_,d_/p_]:f_?[l_/f_,c_/f_]:[NaN,NaN];return l_=c_=f_=h_=d_=p_=g_=m_=v_=0,t}};function x_(t,n){l_+=t,c_+=n,++f_}function __(){y_.point=b_}function b_(t,n){y_.point=w_,x_(o_=t,s_=n)}function w_(t,n){var e=t-o_,r=n-s_,i=Hv(e*e+r*r);h_+=i*(o_+t)/2,d_+=i*(s_+n)/2,p_+=i,x_(o_=t,s_=n)}function A_(){y_.point=x_}function M_(){y_.point=E_}function k_(){C_(a_,u_)}function E_(t,n){y_.point=C_,x_(a_=o_=t,u_=s_=n)}function C_(t,n){var e=t-o_,r=n-s_,i=Hv(e*e+r*r);h_+=i*(o_+t)/2,d_+=i*(s_+n)/2,p_+=i,g_+=(i=s_*t-o_*n)*(o_+t),m_+=i*(s_+n),v_+=3*i,x_(o_=t,s_=n)}function D_(t){this._context=t}D_.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ov)}},result:Xv};var F_,S_,B_,O_,z_,N_=Av(),T_={point:Xv,lineStart:function(){T_.point=R_},lineEnd:function(){F_&&P_(S_,B_),T_.point=Xv},polygonStart:function(){F_=!0},polygonEnd:function(){F_=null},result:function(){var t=+N_;return N_.reset(),t}};function R_(t,n){T_.point=P_,S_=O_=t,B_=z_=n}function P_(t,n){O_-=t,z_-=n,N_.add(Hv(O_*O_+z_*z_)),O_=t,z_=n}function L_(){this._string=[]}function q_(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function U_(t,n){var e,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ny(t,e(r))),r.result()}return a.area=function(t){return ny(t,e(Xx)),Xx.result()},a.measure=function(t){return ny(t,e(T_)),T_.result()},a.bounds=function(t){return ny(t,e(i_)),i_.result()},a.centroid=function(t){return ny(t,e(y_)),y_.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,$x):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new L_):new D_(n=t),"function"!=typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(n)}function j_(t){return function(n){var e=new $_;for(var r in t)e[r]=t[r];return e.stream=n,e}}function $_(){}function I_(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ny(e,t.stream(i_)),n(i_.result()),null!=r&&t.clipExtent(r),t}function W_(t,n,e){return I_(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,o=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([u,o])},e)}function H_(t,n,e){return W_(t,[[0,0],n],e)}function Y_(t,n,e){return I_(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([a,u])},e)}function G_(t,n,e){return I_(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,u])},e)}L_.prototype={_radius:4.5,_circle:q_(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=q_(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},$_.prototype={constructor:$_,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var V_=16,X_=Lv(30*Nv);function Z_(t,n){return+n?function(t,n){function e(r,i,a,u,o,s,l,c,f,h,d,p,g,m){var v=l-r,y=c-i,x=v*v+y*y;if(x>4*n&&g--){var _=u+h,b=o+d,w=s+p,A=Hv(_*_+b*b+w*w),M=Vv(w/=A),k=Tv(Tv(w)-1)<Cv||Tv(a-f)<Cv?(a+f)/2:Pv(b,_),E=t(k,M),C=E[0],D=E[1],F=C-r,S=D-i,B=y*F-v*S;(B*B/x>n||Tv((v*F+y*S)/x-.5)>.3||u*h+o*d+s*p<X_)&&(e(r,i,a,u,o,s,C,D,k,_/=A,b/=A,w,g,m),m.point(C,D),e(C,D,k,_,b,w,l,c,f,h,d,p,g,m))}}return function(n){var r,i,a,u,o,s,l,c,f,h,d,p,g={point:m,lineStart:v,lineEnd:x,polygonStart:function(){n.polygonStart(),g.lineStart=_},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){c=NaN,g.point=y,n.lineStart()}function y(r,i){var a=gy([r,i]),u=t(r,i);e(c,f,l,h,d,p,c=u[0],f=u[1],l=r,h=a[0],d=a[1],p=a[2],V_,n),n.point(c,f)}function x(){g.point=m,n.lineEnd()}function _(){v(),g.point=b,g.lineEnd=w}function b(t,n){y(r=t,n),i=c,a=f,u=h,o=d,s=p,g.point=y}function w(){e(c,f,l,h,d,p,i,a,r,u,o,s,V_,n),g.lineEnd=x,x()}return g}}(t,n):function(t){return j_({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var J_=j_({point:function(t,n){this.stream.point(t*Nv,n*Nv)}});function Q_(t,n,e,r){var i=Lv(r),a=Iv(r),u=i*t,o=a*t,s=i/t,l=a/t,c=(a*e-i*n)/t,f=(a*n+i*e)/t;function h(t,r){return[u*t-o*r+n,e-o*t-u*r]}return h.invert=function(t,n){return[s*t-l*n+c,f-l*t-s*n]},h}function K_(t){return tb(function(){return t})()}function tb(t){var n,e,r,i,a,u,o,s,l,c,f=150,h=480,d=250,p=0,g=0,m=0,v=0,y=0,x=0,_=null,b=Tx,w=null,A=$x,M=.5;function k(t){return s(t[0]*Nv,t[1]*Nv)}function E(t){return(t=s.invert(t[0],t[1]))&&[t[0]*zv,t[1]*zv]}function C(){var t=Q_(f,0,0,x).apply(null,n(p,g)),r=(x?Q_:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,h-t[0],d-t[1],x);return e=yx(m,v,y),o=mx(n,r),s=mx(e,o),u=Z_(o,M),D()}function D(){return l=c=null,k}return k.stream=function(t){return l&&c===t?l:l=J_(function(t){return j_({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(b(u(A(c=t)))))},k.preclip=function(t){return arguments.length?(b=t,_=void 0,D()):b},k.postclip=function(t){return arguments.length?(A=t,w=r=i=a=null,D()):A},k.clipAngle=function(t){return arguments.length?(b=+t?Rx(_=t*Nv):(_=null,Tx),D()):_*zv},k.clipExtent=function(t){return arguments.length?(A=null==t?(w=r=i=a=null,$x):qx(w=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),D()):null==w?null:[[w,r],[i,a]]},k.scale=function(t){return arguments.length?(f=+t,C()):f},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],C()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*Nv,g=t[1]%360*Nv,C()):[p*zv,g*zv]},k.rotate=function(t){return arguments.length?(m=t[0]%360*Nv,v=t[1]%360*Nv,y=t.length>2?t[2]%360*Nv:0,C()):[m*zv,v*zv,y*zv]},k.angle=function(t){return arguments.length?(x=t%360*Nv,C()):x*zv},k.precision=function(t){return arguments.length?(u=Z_(o,M=t*t),D()):Hv(M)},k.fitExtent=function(t,n){return W_(k,t,n)},k.fitSize=function(t,n){return H_(k,t,n)},k.fitWidth=function(t,n){return Y_(k,t,n)},k.fitHeight=function(t,n){return G_(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&E,C()}}function nb(t){var n=0,e=Fv/3,r=tb(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Nv,e=t[1]*Nv):[n*zv,e*zv]},i}function eb(t,n){var e=Iv(t),r=(e+Iv(n))/2;if(Tv(r)<Cv)return function(t){var n=Lv(t);function e(t,e){return[t*n,Iv(e)/n]}return e.invert=function(t,e){return[t/n,Vv(e*n)]},e}(t);var i=1+e*(2*r-e),a=Hv(i)/r;function u(t,n){var e=Hv(i-2*r*Iv(n))/r;return[e*Iv(t*=r),a-e*Lv(t)]}return u.invert=function(t,n){var e=a-n;return[Pv(t,Tv(e))/r*Wv(e),Vv((i-(t*t+e*e)*r*r)/(2*r))]},u}function rb(){return nb(eb).scale(155.424).center([0,33.6442])}function ib(){return rb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ab(t){return function(n,e){var r=Lv(n),i=Lv(e),a=t(r*i);return[a*i*Iv(n),a*Iv(e)]}}function ub(t){return function(n,e){var r=Hv(n*n+e*e),i=t(r),a=Iv(i),u=Lv(i);return[Pv(n*a,r*u),Vv(r&&e*a/r)]}}var ob=ab(function(t){return Hv(2/(1+t))});ob.invert=ub(function(t){return 2*Vv(t/2)});var sb=ab(function(t){return(t=Gv(t))&&t/Iv(t)});function lb(t,n){return[t,jv(Yv((Sv+n)/2))]}function cb(t){var n,e,r,i=K_(t),a=i.center,u=i.scale,o=i.translate,s=i.clipExtent,l=null;function c(){var a=Fv*u(),o=i(function(t){function n(n){return(n=t(n[0]*Nv,n[1]*Nv))[0]*=zv,n[1]*=zv,n}return t=yx(t[0]*Nv,t[1]*Nv,t.length>2?t[2]*Nv:0),n.invert=function(n){return(n=t.invert(n[0]*Nv,n[1]*Nv))[0]*=zv,n[1]*=zv,n},n}(i.rotate()).invert([0,0]));return s(null==l?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:t===lb?[[Math.max(o[0]-a,l),n],[Math.min(o[0]+a,e),r]]:[[l,Math.max(o[1]-a,n)],[e,Math.min(o[1]+a,r)]])}return i.scale=function(t){return arguments.length?(u(t),c()):u()},i.translate=function(t){return arguments.length?(o(t),c()):o()},i.center=function(t){return arguments.length?(a(t),c()):a()},i.clipExtent=function(t){return arguments.length?(null==t?l=n=e=r=null:(l=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),c()):null==l?null:[[l,n],[e,r]]},c()}function fb(t){return Yv((Sv+t)/2)}function hb(t,n){var e=Lv(t),r=t===n?Iv(t):jv(e/Lv(n))/jv(fb(n)/fb(t)),i=e*$v(fb(t),r)/r;if(!r)return lb;function a(t,n){i>0?n<-Sv+Cv&&(n=-Sv+Cv):n>Sv-Cv&&(n=Sv-Cv);var e=i/$v(fb(n),r);return[e*Iv(r*t),i-e*Lv(r*t)]}return a.invert=function(t,n){var e=i-n,a=Wv(r)*Hv(t*t+e*e);return[Pv(t,Tv(e))/r*Wv(e),2*Rv($v(i/a,1/r))-Sv]},a}function db(t,n){return[t,n]}function pb(t,n){var e=Lv(t),r=t===n?Iv(t):(e-Lv(n))/(n-t),i=e/r+t;if(Tv(r)<Cv)return db;function a(t,n){var e=i-n,a=r*t;return[e*Iv(a),i-e*Lv(a)]}return a.invert=function(t,n){var e=i-n;return[Pv(t,Tv(e))/r*Wv(e),i-Wv(r)*Hv(t*t+e*e)]},a}function gb(t,n){var e=Lv(n),r=Lv(t)*e;return[e*Iv(t)/r,Iv(n)/r]}function mb(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?$x:j_({point:function(i,a){this.stream.point(i*t+e,a*n+r)}})}function vb(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function yb(t,n){return[Lv(n)*Iv(t),Iv(n)]}function xb(t,n){var e=Lv(n),r=1+Lv(t)*e;return[e*Iv(t)/r,Iv(n)/r]}function _b(t,n){return[jv(Yv((Sv+n)/2)),-t]}sb.invert=ub(function(t){return t}),lb.invert=function(t,n){return[t,2*Rv(Uv(n))-Sv]},db.invert=db,gb.invert=ub(Rv),vb.invert=function(t,n){var e,r=n,i=25;do{var a=r*r,u=a*a;r-=e=(r*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))-n)/(1.007226+a*(.045255+u*(.259866*a-.311325-.005916*11*u)))}while(Tv(e)>Cv&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},yb.invert=ub(Vv),xb.invert=ub(function(t){return 2*Rv(t)}),_b.invert=function(t,n){return[-n,2*Rv(Uv(t))-Sv]};var bb=U_(),wb=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Ab(t,n){if(!t||"string"!=typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(kb[t]=function(t,n){return function e(){var r=n();return r.type=t,r.path=U_().projection(r),r.copy=r.copy||function(){var t=e();return wb.forEach(function(n){r.hasOwnProperty(n)&&t[n](r[n]())}),t.path.pointRadius(r.path.pointRadius()),t},r}}(t,n),this):kb.hasOwnProperty(t)?kb[t]:null}function Mb(t){return t&&t.path||bb}var kb={albers:ib,albersusa:function(){var t,n,e,r,i,a,u=ib(),o=rb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=rb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};function c(t){var n=t[0],u=t[1];return a=null,e.point(n,u),a||(r.point(n,u),a)||(i.point(n,u),a)}function f(){return t=n=null,c}return c.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:u).invert(t)},c.stream=function(e){return t&&n===e?t:(r=[u.stream(n=e),o.stream(e),s.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},c.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),s.precision(t),f()):u.precision()},c.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),s.scale(t),c.translate(u.translate())):u.scale()},c.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),a=+t[0],c=+t[1];return e=u.translate(t).clipExtent([[a-.455*n,c-.238*n],[a+.455*n,c+.238*n]]).stream(l),r=o.translate([a-.307*n,c+.201*n]).clipExtent([[a-.425*n+Cv,c+.12*n+Cv],[a-.214*n-Cv,c+.234*n-Cv]]).stream(l),i=s.translate([a-.205*n,c+.212*n]).clipExtent([[a-.214*n+Cv,c+.166*n+Cv],[a-.115*n-Cv,c+.234*n-Cv]]).stream(l),f()},c.fitExtent=function(t,n){return W_(c,t,n)},c.fitSize=function(t,n){return H_(c,t,n)},c.fitWidth=function(t,n){return Y_(c,t,n)},c.fitHeight=function(t,n){return G_(c,t,n)},c.scale(1070)},azimuthalequalarea:function(){return K_(ob).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return K_(sb).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return nb(hb).scale(109.5).parallels([30,30])},conicequalarea:rb,conicequidistant:function(){return nb(pb).scale(131.154).center([0,13.9389])},equirectangular:function(){return K_(db).scale(152.63)},gnomonic:function(){return K_(gb).scale(144.049).clipAngle(60)},identity:function(){var t,n,e,r,i,a,u=1,o=0,s=0,l=1,c=1,f=$x,h=null,d=$x;function p(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,$x):qx(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=mb((u=+t)*l,u*c,o,s),p()):u},translate:function(t){return arguments.length?(f=mb(u*l,u*c,o=+t[0],s=+t[1]),p()):[o,s]},reflectX:function(t){return arguments.length?(f=mb(u*(l=t?-1:1),u*c,o,s),p()):l<0},reflectY:function(t){return arguments.length?(f=mb(u*l,u*(c=t?-1:1),o,s),p()):c<0},fitExtent:function(t,n){return W_(a,t,n)},fitSize:function(t,n){return H_(a,t,n)},fitWidth:function(t,n){return Y_(a,t,n)},fitHeight:function(t,n){return G_(a,t,n)}}},mercator:function(){return cb(lb).scale(961/Ov)},naturalEarth1:function(){return K_(vb).scale(175.295)},orthographic:function(){return K_(yb).scale(249.5).clipAngle(90+Cv)},stereographic:function(){return K_(xb).scale(250).clipAngle(142)},transversemercator:function(){var t=cb(_b),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)}};for(var Eb in kb)Ab(Eb,kb[Eb]);function Cb(t){$r.call(this,null,t)}function Db(t){$r.call(this,null,t)}function Fb(t){$r.call(this,null,t)}function Sb(t){$r.call(this,[],t),this.generator=function(){var t,n,e,r,i,a,u,o,s,l,c,f,h=10,d=h,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Sx(qv(r/p)*p,e,p).map(c).concat(Sx(qv(o/g)*g,u,g).map(f)).concat(Sx(qv(n/h)*h,t,h).filter(function(t){return Tv(t%p)>Cv}).map(s)).concat(Sx(qv(a/d)*d,i,d).filter(function(t){return Tv(t%g)>Cv}).map(l))}return v.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(e).reverse().slice(1),f(o).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),o>u&&(t=o,o=u,u=t),v.precision(m)):[[r,o],[e,u]]},v.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),v.precision(m)):[[n,a],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(m=+h,s=Ux(a,i,90),l=jx(n,t,m),c=Ux(o,u,90),f=jx(r,e,m),v):m},v.extentMajor([[-180,-90+Cv],[180,90-Cv]]).extentMinor([[-180,-80-Cv],[180,80+Cv]])}()}function Bb(t){$r.call(this,null,t),this.modified(!0)}function Ob(t,n,e){Y(t[n])&&t[n](e)}Cb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},et(Cb,$r).transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.field||d,a=t.as||"path",u=e.SOURCE;!r||t.modified()?(this.value=r=Mb(t.projection),e.materialize().reflow()):u=i===d||n.modified(i.fields)?e.ADD_MOD:e.ADD;var o=function(t,n){var e=t.pointRadius();t.context(null),null!=n&&t.pointRadius(n);return e}(r,t.pointRadius);return e.visit(u,function(t){t[a]=r(i(t))}),r.pointRadius(o),e.modifies(a)},Db.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},et(Db,$r).transform=function(t,n){var e,r=t.projection,i=t.fields[0],a=t.fields[1],u=t.as||["x","y"],o=u[0],s=u[1];function l(t){var n=r([i(t),a(t)]);n?(t[o]=n[0],t[s]=n[1]):(t[o]=void 0,t[s]=void 0)}return t.modified()?n=n.materialize().reflow(!0).visit(n.SOURCE,l):(e=n.modified(i.fields)||n.modified(a.fields),n.visit(e?n.ADD_MOD:n.ADD,l)),n.modifies(u)},Fb.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},et(Fb,$r).transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.as||"shape",a=e.ADD;return r&&!t.modified()||(this.value=r=function(t,n,e){var r=null==e?function(e){return t(n(e))}:function(r){var i=t.pointRadius(),a=t.pointRadius(e)(n(r));return t.pointRadius(i),a};return r.context=function(n){return t.context(n),r},r}(Mb(t.projection),t.field||c("datum"),t.pointRadius),e.materialize().reflow(),a=e.SOURCE),e.visit(a,function(t){t[i]=r}),e.modifies(i)},Sb.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},et(Sb,$r).transform=function(t,n){var e,r=this.value,i=this.generator;if(!r.length||t.modified())for(var a in t)Y(i[a])&&i[a](t[a]);return e=i(),r.length?n.mod.push(Bt(r[0],e)):n.add.push(Dt(e)),r[0]=e,n},et(Bb,$r).transform=function(t,n){var e=this.value;return!e||t.modified("type")?(this.value=e=function(t){var n=Ab((t||"mercator").toLowerCase());n||i("Unrecognized projection type: "+t);return n()}(t.type),wb.forEach(function(n){null!=t[n]&&Ob(e,n,t[n])})):wb.forEach(function(n){t.modified(n)&&Ob(e,n,t[n])}),null!=t.pointRadius&&e.path.pointRadius(t.pointRadius),t.fit&&function(t,n){var e=function(t){return 1===(t=W(t)).length?t[0]:{type:bv,features:t.reduce((t,n)=>t.concat(function(t){return t.type===bv?t.features:W(t).filter(t=>null!=t).map(t=>t.type===_v?t:{type:_v,geometry:t})}(n)),[])}}(n.fit);n.extent?t.fitExtent(n.extent,e):n.size&&t.fitSize(n.size,e)}(e,t),n.fork(n.NO_SOURCE|n.NO_FIELDS)};var zb=Object.freeze({contour:xv,geojson:wv,geopath:Cb,geopoint:Db,geoshape:Fb,graticule:Sb,projection:Bb});function Nb(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,u,o,s,l,c,f,h,d=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=n>=(a=(g+v)/2))?g=a:v=a,(c=e>=(u=(m+y)/2))?m=u:y=u,i=d,!(d=d[f=c<<1|l]))return i[f]=p,t;if(o=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===o&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(l=n>=(a=(g+v)/2))?g=a:v=a,(c=e>=(u=(m+y)/2))?m=u:y=u}while((f=c<<1|l)==(h=(s>=u)<<1|o>=a));return i[h]=d,i[f]=p,t}function Tb(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function Rb(t){return t[0]}function Pb(t){return t[1]}function Lb(t,n,e){var r=new qb(null==n?Rb:n,null==e?Pb:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function qb(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Ub(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var jb=Lb.prototype=qb.prototype;function $b(t){return function(){return t}}function Ib(){return 1e-6*(Math.random()-.5)}function Wb(t){return t.x+t.vx}function Hb(t){return t.y+t.vy}function Yb(t){return t.index}function Gb(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}jb.copy=function(){var t,n,e=new qb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ub(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ub(n));return e},jb.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Nb(this.cover(n,e),n,e,t)},jb.addAll=function(t){var n,e,r,i,a=t.length,u=new Array(a),o=new Array(a),s=1/0,l=1/0,c=-1/0,f=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,o[e]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),e=0;e<a;++e)Nb(this,u[e],o[e],t[e]);return this},jb.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{for(var u,o,s=i-e,l=this._root;e>t||t>=i||r>n||n>=a;)switch(o=(n<r)<<1|t<e,(u=new Array(4))[o]=l,l=u,s*=2,o){case 0:i=e+s,a=r+s;break;case 1:e=i-s,a=r+s;break;case 2:i=e+s,r=a-s;break;case 3:e=i-s,r=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},jb.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},jb.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},jb.find=function(t,n,e){var r,i,a,u,o,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Tb(g,c,f,h,d)),null==e?e=1/0:(c=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(a=s.y0)>d||(u=s.x1)<c||(o=s.y1)<f))if(g.length){var m=(i+u)/2,v=(a+o)/2;p.push(new Tb(g[3],m,v,u,o),new Tb(g[2],i,v,m,o),new Tb(g[1],m,a,u,v),new Tb(g[0],i,a,m,v)),(l=(n>=v)<<1|t>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var y=t-+this._x.call(null,g.data),x=n-+this._y.call(null,g.data),_=y*y+x*x;if(_<e){var b=Math.sqrt(e=_);c=t-b,f=n-b,h=t+b,d=n+b,r=g.data}}return r},jb.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,a,u,o,s,l,c,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(o=(p+m)/2))?p=o:m=o,(c=u>=(s=(g+v)/2))?g=s:v=s,n=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},jb.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},jb.root=function(){return this._root},jb.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},jb.visit=function(t){var n,e,r,i,a,u,o=[],s=this._root;for(s&&o.push(new Tb(s,this._x0,this._y0,this._x1,this._y1));n=o.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,a=n.x1,u=n.y1)&&s.length){var l=(r+a)/2,c=(i+u)/2;(e=s[3])&&o.push(new Tb(e,l,c,a,u)),(e=s[2])&&o.push(new Tb(e,r,c,l,u)),(e=s[1])&&o.push(new Tb(e,l,i,a,c)),(e=s[0])&&o.push(new Tb(e,r,i,l,c))}return this},jb.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Tb(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var a,u=n.x0,o=n.y0,s=n.x1,l=n.y1,c=(u+s)/2,f=(o+l)/2;(a=i[0])&&e.push(new Tb(a,u,o,c,f)),(a=i[1])&&e.push(new Tb(a,c,o,s,f)),(a=i[2])&&e.push(new Tb(a,u,f,c,l)),(a=i[3])&&e.push(new Tb(a,c,f,s,l))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},jb.x=function(t){return arguments.length?(this._x=t,this):this._x},jb.y=function(t){return arguments.length?(this._y=t,this):this._y};var Vb={value:function(){}};function Xb(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Zb(r)}function Zb(t){this._=t}function Jb(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Qb(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Vb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Zb.prototype=Xb.prototype={constructor:Zb,on:function(t,n){var e,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),u=-1,o=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++u<o;)if(e=(t=a[u]).type)i[e]=Qb(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Qb(i[e],t.name,null);return this}for(;++u<o;)if((e=(t=a[u]).type)&&(e=Jb(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Zb(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,e=(r=this._[t]).length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var Kb,tw,nw=0,ew=0,rw=0,iw=1e3,aw=0,uw=0,ow=0,sw="object"==typeof performance&&performance.now?performance:Date,lw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cw(){return uw||(lw(fw),uw=sw.now()+ow)}function fw(){uw=0}function hw(){this._call=this._time=this._next=null}function dw(t,n,e){var r=new hw;return r.restart(t,n,e),r}function pw(){uw=(aw=sw.now())+ow,nw=ew=0;try{!function(){cw(),++nw;for(var t,n=Kb;n;)(t=uw-n._time)>=0&&n._call.call(null,t),n=n._next;--nw}()}finally{nw=0,function(){var t,n,e=Kb,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Kb=n);tw=t,mw(r)}(),uw=0}}function gw(){var t=sw.now(),n=t-aw;n>iw&&(ow-=n,aw=t)}function mw(t){nw||(ew&&(ew=clearTimeout(ew)),t-uw>24?(t<1/0&&(ew=setTimeout(pw,t-sw.now()-ow)),rw&&(rw=clearInterval(rw))):(rw||(aw=sw.now(),rw=setInterval(gw,iw)),nw=1,lw(pw)))}function vw(t){return t.x}function yw(t){return t.y}hw.prototype=dw.prototype={constructor:hw,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?cw():+e)+(null==n?0:+n),this._next||tw===this||(tw?tw._next=this:Kb=this,tw=this),this._call=t,this._time=e,mw()},stop:function(){this._call&&(this._call=null,this._time=1/0,mw())}};var xw=10,_w=Math.PI*(3-Math.sqrt(5));var bw={center:function(t,n){var e;function r(){var r,i,a=e.length,u=0,o=0;for(r=0;r<a;++r)u+=(i=e[r]).x,o+=i.y;for(u=u/a-t,o=o/a-n,r=0;r<a;++r)(i=e[r]).x-=u,i.y-=o}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},collide:function(t){var n,e,r=1,i=1;function a(){for(var t,a,o,s,l,c,f,h=n.length,d=0;d<i;++d)for(a=Lb(n,Wb,Hb).visitAfter(u),t=0;t<h;++t)o=n[t],c=e[o.index],f=c*c,s=o.x+o.vx,l=o.y+o.vy,a.visit(p);function p(t,n,e,i,a){var u=t.data,h=t.r,d=c+h;if(!u)return n>s+d||i<s-d||e>l+d||a<l-d;if(u.index>o.index){var p=s-u.x-u.vx,g=l-u.y-u.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=Ib())*p),0===g&&(m+=(g=Ib())*g),m=(d-(m=Math.sqrt(m)))/m*r,o.vx+=(p*=m)*(d=(h*=h)/(f+h)),o.vy+=(g*=m)*d,u.vx-=p*(d=1-d),u.vy-=g*d)}}}function u(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function o(){if(n){var r,i,a=n.length;for(e=new Array(a),r=0;r<a;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=$b(null==t?1:+t)),a.initialize=function(t){n=t,o()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),o(),a):t},a},nbody:function(){var t,n,e,r,i=$b(-30),a=1,u=1/0,o=.81;function s(r){var i,a=t.length,u=Lb(t,vw,yw).visitAfter(c);for(e=r,i=0;i<a;++i)n=t[i],u.visit(f)}function l(){if(t){var n,e,a=t.length;for(r=new Array(a),n=0;n<a;++n)e=t[n],r[e.index]=+i(e,n,t)}}function c(t){var n,e,i,a,u,o=0,s=0;if(t.length){for(i=a=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(o+=n.value,s+=e,i+=e*n.x,a+=e*n.y);t.x=i/s,t.y=a/s}else{(n=t).x=n.data.x,n.y=n.data.y;do{o+=r[n.data.index]}while(n=n.next)}t.value=o}function f(t,i,s,l){if(!t.value)return!0;var c=t.x-n.x,f=t.y-n.y,h=l-i,d=c*c+f*f;if(h*h/o<d)return d<u&&(0===c&&(d+=(c=Ib())*c),0===f&&(d+=(f=Ib())*f),d<a&&(d=Math.sqrt(a*d)),n.vx+=c*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=u)){(t.data!==n||t.next)&&(0===c&&(d+=(c=Ib())*c),0===f&&(d+=(f=Ib())*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=c*h,n.vy+=f*h)}while(t=t.next)}}return s.initialize=function(n){t=n,l()},s.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),l(),s):i},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s.theta=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s},link:function(t){var n,e,r,i,a,u=Yb,o=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},s=$b(30),l=1;function c(r){for(var i=0,u=t.length;i<l;++i)for(var o,s,c,f,h,d,p,g=0;g<u;++g)s=(o=t[g]).source,f=(c=o.target).x+c.vx-s.x-s.vx||Ib(),h=c.y+c.vy-s.y-s.vy||Ib(),f*=d=((d=Math.sqrt(f*f+h*h))-e[g])/d*r*n[g],h*=d,c.vx-=f*(p=a[g]),c.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function f(){if(r){var o,s,l=r.length,c=t.length,f=new Map(r.map((t,n)=>[u(t,n,r),t]));for(o=0,i=new Array(l);o<c;++o)(s=t[o]).index=o,"object"!=typeof s.source&&(s.source=Gb(f,s.source)),"object"!=typeof s.target&&(s.target=Gb(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)s=t[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(c),h(),e=new Array(c),d()}}function h(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+o(t[e],e,t)}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),c.initialize=function(t){r=t,f()},c.links=function(n){return arguments.length?(t=n,f(),c):t},c.id=function(t){return arguments.length?(u=t,c):u},c.iterations=function(t){return arguments.length?(l=+t,c):l},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:$b(+t),h(),c):o},c.distance=function(t){return arguments.length?(s="function"==typeof t?t:$b(+t),d(),c):s},c},x:function(t){var n,e,r,i=$b(.1);function a(t){for(var i,a=0,u=n.length;a<u;++a)(i=n[a]).vx+=(r[a]-i.x)*e[a]*t}function u(){if(n){var a,u=n.length;for(e=new Array(u),r=new Array(u),a=0;a<u;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=$b(null==t?0:+t)),a.initialize=function(t){n=t,u()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),u(),a):i},a.x=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),u(),a):t},a},y:function(t){var n,e,r,i=$b(.1);function a(t){for(var i,a=0,u=n.length;a<u;++a)(i=n[a]).vy+=(r[a]-i.y)*e[a]*t}function u(){if(n){var a,u=n.length;for(e=new Array(u),r=new Array(u),a=0;a<u;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=$b(null==t?0:+t)),a.initialize=function(t){n=t,u()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:$b(+t),u(),a):i},a.y=function(n){return arguments.length?(t="function"==typeof n?n:$b(+n),u(),a):t},a}},ww="forces",Aw=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Mw=["static","iterations"],kw=["x","y","vx","vy"];function Ew(t){$r.call(this,null,t)}Ew.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:kw}]};var Cw=et(Ew,$r);function Dw(t,n,e,r){var i,a,u,o,s=W(n.forces);for(i=0,a=Aw.length;i<a;++i)(u=Aw[i])!==ww&&n.modified(u)&&t[u](n[u]);for(i=0,a=s.length;i<a;++i)o=ww+i,(u=e||n.modified(ww,i)?Sw(s[i]):r&&Fw(s[i],r)?t.force(o):null)&&t.force(o,u);for(a=t.numForces||0;i<a;++i)t.force(ww+i,null);return t.numForces=s.length,t}function Fw(t,n){var e,i;for(e in t)if(Y(i=t[e])&&n.modified(r(i)))return 1;return 0}function Sw(t){var n,e;for(e in bw.hasOwnProperty(t.force)||i("Unrecognized force: "+t.force),n=bw[t.force](),t)Y(n[e])&&Bw(n[e],t[e],t);return n}function Bw(t,n,e){t(Y(n)?function(t){return n(t,e)}:n)}Cw.transform=function(t,n){var e,r,i=this.value,a=n.changed(n.ADD_REM),u=t.modified(Aw),o=t.iterations||300;if(i?(a&&(n.modifies("index"),i.nodes(n.source)),(u||n.changed(n.MOD))&&Dw(i,t,0,n)):(this.value=i=function(t,n){var e=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,u=.6,o=new Map,s=dw(c),l=Xb("tick","end");function c(){f(),l.call("tick",n),e<r&&(s.stop(),l.call("end",n))}function f(r){var s,l,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(a-e)*i,o.forEach(function(t){t(e)}),s=0;s<c;++s)null==(l=t[s]).fx?l.x+=l.vx*=u:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=u:(l.y=l.fy,l.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=xw*Math.sqrt(e),a=e*_w;n.x=i*Math.cos(a),n.y=i*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return s.restart(c),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),o.forEach(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},force:function(t,e){return arguments.length>1?(null==e?o.delete(t):o.set(t,d(e)),n):o.get(t)},find:function(n,e,r){var i,a,u,o,s,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(u=(i=n-(o=t[l]).x)*i+(a=e-o.y)*a)<r&&(s=o,r=u);return s},on:function(t,e){return arguments.length>1?(l.on(t,e),n):l.on(t)}}}(t),r=!1,i=e.stop,a=e.restart;return e.stopped=function(){return r},e.restart=function(){return r=!1,a()},e.stop=function(){return r=!0,i()},Dw(e,n,!0).on("end",function(){r=!0})}(n.source,t),i.on("tick",(e=n.dataflow,r=this,function(){e.touch(r).run()})),t.static||(a=!0,i.tick()),n.modifies("index")),u||a||t.modified(Mw)||n.changed()&&t.restart)if(i.alpha(Math.max(i.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(i.alphaMin(),1/o)),t.static)for(i.stop();--o>=0;)i.tick();else if(i.stopped()&&i.restart(),!a)return n.StopPropagation;return this.finish(t,n)},Cw.finish=function(t,n){for(var e,r=n.dataflow,i=this._argops,a=0,u=i.length;a<u;++a)if((e=i[a]).name===ww&&"link"===e.op._argval.force)for(var o,s=e.op._argops,l=0,c=s.length;l<c;++l)if("links"===s[l].name&&(o=s[l].op.source)){r.pulse(o,r.changeset().reflow());break}return n.reflow(t.modified()).modifies(kw)};var Ow=Object.freeze({force:Ew});function zw(t,n,e){var r={};return t.each(function(t){var i=t.data;e(i)&&(r[n(i)]=t)}),t.lookup=r,t}function Nw(t,n){return t.parent===n.parent?1:2}function Tw(t,n){return t+n.x}function Rw(t,n){return Math.max(t,n.y)}function Pw(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Lw(t,n){var e,r,i,a,u,o=new $w(t),s=+t.value&&(o.value=t.value),l=[o];for(null==n&&(n=qw);e=l.pop();)if(s&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),a=u-1;a>=0;--a)l.push(r=e.children[a]=new $w(i[a])),r.parent=e,r.depth=e.depth+1;return o.eachBefore(jw)}function qw(t){return t.children}function Uw(t){t.data=t.data.data}function jw(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function $w(t){this.data=t,this.depth=this.height=0,this.parent=null}$w.prototype=Lw.prototype={constructor:$w,count:function(){return this.eachAfter(Pw)},each:function(t){var n,e,r,i,a=this,u=[a];do{for(n=u.reverse(),u=[];a=n.pop();)if(t(a),e=a.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,a=[i],u=[];i=a.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)a.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Lw(this).eachBefore(Uw)}};var Iw=Array.prototype.slice;function Ww(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Iw.call(t))).length,a=[];r<i;)n=t[r],e&&Gw(e,n)?++r:(e=Xw(a=Hw(a,n)),r=0);return e}function Hw(t,n){var e,r;if(Vw(n,t))return[n];for(e=0;e<t.length;++e)if(Yw(n,t[e])&&Vw(Zw(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Yw(Zw(t[e],t[r]),n)&&Yw(Zw(t[e],n),t[r])&&Yw(Zw(t[r],n),t[e])&&Vw(Jw(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Yw(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Gw(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Vw(t,n){for(var e=0;e<n.length;++e)if(!Gw(t,n[e]))return!1;return!0}function Xw(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return Zw(t[0],t[1]);case 3:return Jw(t[0],t[1],t[2])}var n}function Zw(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,u=n.y,o=n.r,s=a-e,l=u-r,c=o-i,f=Math.sqrt(s*s+l*l);return{x:(e+a+s/f*c)/2,y:(r+u+l/f*c)/2,r:(f+i+o)/2}}function Jw(t,n,e){var r=t.x,i=t.y,a=t.r,u=n.x,o=n.y,s=n.r,l=e.x,c=e.y,f=e.r,h=r-u,d=r-l,p=i-o,g=i-c,m=s-a,v=f-a,y=r*r+i*i-a*a,x=y-u*u-o*o+s*s,_=y-l*l-c*c+f*f,b=d*p-h*g,w=(p*_-g*x)/(2*b)-r,A=(g*m-p*v)/b,M=(d*x-h*_)/(2*b)-i,k=(h*v-d*m)/b,E=A*A+k*k-1,C=2*(a+w*A+M*k),D=w*w+M*M-a*a,F=-(E?(C+Math.sqrt(C*C-4*E*D))/(2*E):D/C);return{x:r+w+A*F,y:i+M+k*F,r:F}}function Qw(t,n,e){var r,i,a,u,o=t.x-n.x,s=t.y-n.y,l=o*o+s*s;l?(i=n.r+e.r,i*=i,u=t.r+e.r,i>(u*=u)?(r=(l+u-i)/(2*l),a=Math.sqrt(Math.max(0,u/l-r*r)),e.x=t.x-r*o-a*s,e.y=t.y-r*s+a*o):(r=(l+i-u)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),e.x=n.x+r*o-a*s,e.y=n.y+r*s+a*o)):(e.x=n.x+e.r,e.y=n.y)}function Kw(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function tA(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function nA(t){this._=t,this.next=null,this.previous=null}function eA(t){if("function"!=typeof t)throw new Error;return t}function rA(){return 0}function iA(t){return function(){return t}}function aA(t){return Math.sqrt(t.value)}function uA(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function oA(t,n){return function(e){if(r=e.children){var r,i,a,u=r.length,o=t(e)*n||0;if(o)for(i=0;i<u;++i)r[i].r+=o;if(a=function(t){if(!(i=t.length))return 0;var n,e,r,i,a,u,o,s,l,c,f;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Qw(e,n,r=t[2]),n=new nA(n),e=new nA(e),r=new nA(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(o=3;o<i;++o){Qw(n._,e._,r=t[o]),r=new nA(r),s=e.next,l=n.previous,c=e._.r,f=n._.r;do{if(c<=f){if(Kw(s._,r._)){e=s,n.next=e,e.previous=n,--o;continue t}c+=s._.r,s=s.next}else{if(Kw(l._,r._)){(n=l).next=e,e.previous=n,--o;continue t}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,a=tA(n);(r=r.next)!==e;)(u=tA(r))<a&&(n=r,a=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=Ww(n),o=0;o<i;++o)(n=t[o]).x-=r.x,n.y-=r.y;return r.r}(r),o)for(i=0;i<u;++i)r[i].r-=o;e.r=a+o}}}function sA(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function lA(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function cA(t,n,e,r,i){for(var a,u=t.children,o=-1,s=u.length,l=t.value&&(r-n)/t.value;++o<s;)(a=u[o]).y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*l}var fA="$",hA={depth:-1},dA={};function pA(t){return t.id}function gA(t){return t.parentId}function mA(){var t=pA,n=gA;function e(e){var r,i,a,u,o,s,l,c=e.length,f=new Array(c),h={};for(i=0;i<c;++i)r=e[i],o=f[i]=new $w(r),null!=(s=t(r,i,e))&&(s+="")&&(h[l=fA+(o.id=s)]=l in h?dA:o);for(i=0;i<c;++i)if(o=f[i],null!=(s=n(e[i],i,e))&&(s+="")){if(!(u=h[fA+s]))throw new Error("missing: "+s);if(u===dA)throw new Error("ambiguous: "+s);u.children?u.children.push(o):u.children=[o],o.parent=u}else{if(a)throw new Error("multiple roots");a=o}if(!a)throw new Error("no root");if(a.parent=hA,a.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(jw),a.parent=null,c>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(t=eA(n),e):t},e.parentId=function(t){return arguments.length?(n=eA(t),e):n},e}function vA(t,n){return t.parent===n.parent?1:2}function yA(t){var n=t.children;return n?n[0]:t.t}function xA(t){var n=t.children;return n?n[n.length-1]:t.t}function _A(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function bA(t,n,e){return t.a.parent===n.parent?t.a:e}function wA(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function AA(t,n,e,r,i){for(var a,u=t.children,o=-1,s=u.length,l=t.value&&(i-e)/t.value;++o<s;)(a=u[o]).x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*l}wA.prototype=Object.create($w.prototype);var MA=(1+Math.sqrt(5))/2;function kA(t,n,e,r,i,a){for(var u,o,s,l,c,f,h,d,p,g,m,v=[],y=n.children,x=0,_=0,b=y.length,w=n.value;x<b;){s=i-e,l=a-r;do{c=y[_++].value}while(!c&&_<b);for(f=h=c,m=c*c*(g=Math.max(l/s,s/l)/(w*t)),p=Math.max(h/m,m/f);_<b;++_){if(c+=o=y[_].value,o<f&&(f=o),o>h&&(h=o),m=c*c*g,(d=Math.max(h/m,m/f))>p){c-=o;break}p=d}v.push(u={value:c,dice:s<l,children:y.slice(x,_)}),u.dice?cA(u,e,r,i,w?r+=l*c/w:a):AA(u,e,r,w?e+=s*c/w:i,a),w-=c,x=_}return v}var EA=function t(n){function e(t,e,r,i,a){kA(n,t,e,r,i,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(MA);var CA=function t(n){function e(t,e,r,i,a){if((u=t._squarify)&&u.ratio===n)for(var u,o,s,l,c,f=-1,h=u.length,d=t.value;++f<h;){for(s=(o=u[f]).children,l=o.value=0,c=s.length;l<c;++l)o.value+=s[l].value;o.dice?cA(o,e,r,i,r+=(a-r)*o.value/d):AA(o,e,r,e+=(i-e)*o.value/d,a),d-=o.value}else t._squarify=u=kA(n,t,e,r,i,a),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(MA);function DA(t){$r.call(this,null,t)}function FA(t){return t.values}function SA(){var t,n=[];return t={entries:function(t){return function t(e,r){if(++r>n.length)return e;var i,a=[];for(i in e)a.push({key:i,values:t(e[i],r)});return a}(function t(e,r){if(r>=n.length)return e;for(var i,a,u,o=-1,s=e.length,l=n[r++],c={},f={};++o<s;)(u=c[i=l(a=e[o])+""])?u.push(a):c[i]=[a];for(i in c)f[i]=t(c[i],r);return f}(t,0),0)},key:function(e){return n.push(e),t}}}function BA(t){$r.call(this,null,t)}function OA(t,n){return t.parent===n.parent?1:2}DA.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]},et(DA,$r).transform=function(t,n){n.source||i("Nest transform requires an upstream data source.");var e=t.generate,r=t.modified(),a=n.clone(),u=this.value;return(!u||r||n.changed())&&(u&&u.each(function(t){t.children&&kt(t.data)&&a.rem.push(t.data)}),this.value=u=Lw({values:W(t.keys).reduce(function(t,n){return t.key(n),t},SA()).entries(a.source)},FA),e&&u.each(function(t){t.children&&(t=Dt(t.data),a.add.push(t),a.source.push(t))}),zw(u,Et,Et)),a.source.root=u,a},et(BA,$r).transform=function(t,n){n.source&&n.source.root||i(this.constructor.name+" transform requires a backing tree data source.");var e=this.layout(t.method),r=this.fields,a=n.source.root,u=t.as||r;t.field&&a.sum(t.field),t.sort&&a.sort(t.sort),function(t,n,e){for(var r,i=0,a=n.length;i<a;++i)(r=n[i])in e&&t[r](e[r])}(e,this.params,t),e.separation&&e.separation(!1!==t.separation?OA:g);try{this.value=e(a)}catch(t){i(t)}return a.each(function(t){!function(t,n,e){for(var r=t.data,i=0,a=n.length-1;i<a;++i)r[e[i]]=t[n[i]];r[e[a]]=t.children?t.children.length:0}(t,r,u)}),n.reflow(t.modified()).modifies(u).modifies("leaf")};var zA=["x","y","r","depth","children"];function NA(t){BA.call(this,t)}NA.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:zA.length,default:zA}]};var TA=et(NA,BA);TA.layout=function(){var t=null,n=1,e=1,r=rA;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(uA(t)).eachAfter(oA(r,.5)).eachBefore(sA(1)):i.eachBefore(uA(aA)).eachAfter(oA(rA,1)).eachAfter(oA(r,i.r/Math.min(n,e))).eachBefore(sA(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=null==(e=n)?null:eA(e),i):t;var e},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:iA(+t),i):r},i},TA.params=["size","padding"],TA.fields=zA;var RA=["x0","y0","x1","y1","depth","children"];function PA(t){BA.call(this,t)}PA.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:RA.length,default:RA}]};var LA=et(PA,BA);function qA(t){$r.call(this,null,t)}LA.layout=function(){var t=1,n=1,e=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/a,i.eachBefore(function(t,n){return function(r){r.children&&cA(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,a=r.y0,u=r.x1-e,o=r.y1-e;u<i&&(i=u=(i+u)/2),o<a&&(a=o=(a+o)/2),r.x0=i,r.y0=a,r.x1=u,r.y1=o}}(n,a)),r&&i.eachBefore(lA),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},LA.params=["size","round","padding"],LA.fields=RA,qA.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},et(qA,$r).transform=function(t,n){n.source||i("Stratify transform requires an upstream data source.");var e=this.value,r=t.modified(),a=n.fork(n.ALL).materialize(n.SOURCE),u=!this.value||r||n.changed(n.ADD_REM)||n.modified(t.key.fields)||n.modified(t.parentKey.fields);return a.source=a.source.slice(),u&&(e=a.source.length?zw(mA().id(t.key).parentId(t.parentKey)(a.source),t.key,m):zw(mA()([{}]),t.key,t.key)),a.source.root=this.value=e,a};var UA={tidy:function(){var t=vA,n=1,e=1,r=null;function i(i){var s=function(t){for(var n,e,r,i,a,u=new wA(t,0),o=[u];n=o.pop();)if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)o.push(e=n.children[i]=new wA(r[i],i)),e.parent=n;return(u.parent=new wA(null,0)).children=[u],u}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(u),r)i.eachBefore(o);else{var l=i,c=i,f=i;i.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)});var h=l===c?1:t(l,c)/2,d=h-l.x,p=n/(c.x+h+d),g=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,a=i.length;--a>=0;)(n=i[a]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,a=n,u=n,o=e,s=a.parent.children[0],l=a.m,c=u.m,f=o.m,h=s.m;o=xA(o),a=yA(a),o&&a;)s=yA(s),(u=xA(u)).a=n,(i=o.z+f-a.z-l+t(o._,a._))>0&&(_A(bA(o,n,r),n,i),l+=i,c+=i),f+=o.m,l+=a.m,h+=s.m,c+=u.m;o&&!xA(u)&&(u.t=o,u.m+=f-c),a&&!yA(s)&&(s.t=a,s.m+=l-h,r=n)}return r}(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},cluster:function(){var t=Nw,n=1,e=1,r=!1;function i(i){var a,u=0;i.eachAfter(function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Tw,0)/t.length}(e),n.y=function(t){return 1+t.reduce(Rw,0)}(e)):(n.x=a?u+=t(n,a):0,n.y=0,a=n)});var o=function(t){for(var n;n=t.children;)t=n[0];return t}(i),s=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),l=o.x-t(o,s)/2,c=s.x+t(s,o)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-l)/(c-l)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i}},jA=["x","y","depth","children"];function $A(t){BA.call(this,t)}$A.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:jA.length,default:jA}]};var IA=et($A,BA);function WA(t){$r.call(this,[],t)}IA.layout=function(t){var n=t||"tidy";if(UA.hasOwnProperty(n))return UA[n]();i("Unrecognized Tree layout method: "+n)},IA.params=["size","nodeSize"],IA.fields=jA,WA.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},et(WA,$r).transform=function(t,n){var e=this.value,r=n.source&&n.source.root,a=n.fork(n.NO_SOURCE),u={};return r||i("TreeLinks transform requires a tree data source."),n.changed(n.ADD_REM)?(a.rem=e,n.visit(n.SOURCE,function(t){u[Et(t)]=1}),r.each(function(t){var n=t.data,e=t.parent&&t.parent.data;e&&u[Et(n)]&&u[Et(e)]&&a.add.push(Dt({source:e,target:n}))}),this.value=a.add):n.changed(n.MOD)&&(n.visit(n.MOD,function(t){u[Et(t)]=1}),e.forEach(function(t){(u[Et(t.source)]||u[Et(t.target)])&&a.mod.push(t)})),a};var HA={binary:function(t,n,e,r,i){var a,u,o=t.children,s=o.length,l=new Array(s+1);for(l[0]=u=a=0;a<s;++a)l[a+1]=u+=o[a].value;!function t(n,e,r,i,a,u,s){if(n>=e-1){var c=o[n];return c.x0=i,c.y0=a,c.x1=u,void(c.y1=s)}for(var f=l[n],h=r/2+f,d=n+1,p=e-1;d<p;){var g=d+p>>>1;l[g]<h?d=g+1:p=g}h-l[d-1]<l[d]-h&&n+1<d&&--d;var m=l[d]-f,v=r-m;if(u-i>s-a){var y=(i*v+u*m)/r;t(n,d,m,i,a,y,s),t(d,e,v,y,a,u,s)}else{var x=(a*v+s*m)/r;t(n,d,m,i,a,u,x),t(d,e,v,i,x,u,s)}}(0,s,t.value,n,e,r,i)},dice:cA,slice:AA,slicedice:function(t,n,e,r,i){(1&t.depth?AA:cA)(t,n,e,r,i)},squarify:EA,resquarify:CA},YA=["x0","y0","x1","y1","depth","children"];function GA(t){BA.call(this,t)}GA.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:YA.length,default:YA}]};var VA=et(GA,BA);VA.layout=function(){var t=function(){var t=EA,n=!1,e=1,r=1,i=[0],a=rA,u=rA,o=rA,s=rA,l=rA;function c(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(lA),t}function f(n){var e=i[n.depth],r=n.x0+e,c=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),n.x0=r,n.y0=c,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=a(n)/2,r+=l(n)-e,c+=u(n)-e,(f-=o(n)-e)<r&&(r=f=(r+f)/2),(h-=s(n)-e)<c&&(c=h=(c+h)/2),t(n,r,c,f,h))}return c.round=function(t){return arguments.length?(n=!!t,c):n},c.size=function(t){return arguments.length?(e=+t[0],r=+t[1],c):[e,r]},c.tile=function(n){return arguments.length?(t=eA(n),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:iA(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:iA(+t),c):u},c.paddingRight=function(t){return arguments.length?(o="function"==typeof t?t:iA(+t),c):o},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:iA(+t),c):s},c.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:iA(+t),c):l},c}();return t.ratio=function(n){var e=t.tile();e.ratio&&t.tile(e.ratio(n))},t.method=function(n){HA.hasOwnProperty(n)?t.tile(HA[n]):i("Unrecognized Treemap layout method: "+n)},t},VA.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],VA.fields=YA;var XA=Object.freeze({nest:DA,pack:NA,partition:PA,stratify:qA,tree:$A,treelinks:WA,treemap:GA});function ZA(t,n){var e,r,i,a,u,o,s=[],l=function(t){return t(a)};if(null==n)s.push(t);else for(e={},r=0,i=t.length;r<i;++r)a=t[r],(o=e[u=n.map(l)])||(e[u]=o=[],o.dims=u,s.push(o)),o.push(a);return s}function JA(t){$r.call(this,null,t)}JA.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},et(JA,$r).transform=function(t,n){var r=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){const i=ZA(n.materialize(n.SOURCE).source,t.groupby),a=(t.groupby||[]).map(e),u=a.length,o=t.as||[e(t.x),e(t.y)],s=[];i.forEach(n=>{Li(n,t.x,t.y,t.bandwidth||.3).forEach(t=>{const e={};for(let t=0;t<u;++t)e[a[t]]=n.dims[t];e[o[0]]=t[0],e[o[1]]=t[1],s.push(Dt(e))})}),this.value&&(r.rem=this.value),this.value=r.add=r.source=s}return r};const QA={linear:Si,log:Bi,exp:Oi,pow:zi,quad:Ni,poly:Ti};function KA(t){$r.call(this,null,t)}KA.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(QA)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},et(KA,$r).transform=function(t,n){var r=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){const a=ZA(n.materialize(n.SOURCE).source,t.groupby),u=(t.groupby||[]).map(e),o=t.method||"linear",s=t.order||3,l=function(t,n){return"poly"===t?n:"quad"===t?2:1}(o,s),c=t.as||[e(t.x),e(t.y)],f=QA[o],h=[];let d=t.extent;QA.hasOwnProperty(o)||i("Invalid regression method: "+o),null!=d&&"log"===o&&d[0]<=0&&(n.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),a.forEach(e=>{if(e.length<=l)return void n.dataflow.warn("Skipping regression with more parameters than data points.");const r=f(e,t.x,t.y,s);if(t.params)return void h.push(Dt({keys:e.dims,coef:r.coef,rSquared:r.rSquared}));const i=d||J(e,t.x),a=t=>{const n={};for(let t=0;t<u.length;++t)n[u[t]]=e.dims[t];n[c[0]]=t[0],n[c[1]]=t[1],h.push(Dt(n))};"linear"===o?i.forEach(t=>a([t,r.predict(t)])):$i(r.predict,i,25,200).forEach(a)}),this.value&&(r.rem=this.value),this.value=r.add=r.source=h}return r};var tM=Object.freeze({loess:JA,regression:KA});function nM(t){return function(){return t}}function eM(t){return t[0]}function rM(t){return t[1]}function iM(){this._=null}function aM(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function uM(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function oM(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function sM(t){for(;t.L;)t=t.L;return t}function lM(t,n,e,r){var i=[null,null],a=zM.push(i)-1;return i.left=t,i.right=n,e&&fM(i,t,n,e),r&&fM(i,n,t,r),BM[t.index].halfedges.push(a),BM[n.index].halfedges.push(a),i}function cM(t,n,e){var r=[n,e];return r.left=t,r}function fM(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function hM(t,n,e,r,i){var a,u=t[0],o=t[1],s=u[0],l=u[1],c=0,f=1,h=o[0]-s,d=o[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}if(a=e-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}return!(c>0||f<1)||(c>0&&(t[0]=[s+c*h,l+c*d]),f<1&&(t[1]=[s+f*h,l+f*d]),!0)}}}}}function dM(t,n,e,r,i){var a=t[1];if(a)return!0;var u,o,s=t[0],l=t.left,c=t.right,f=l[0],h=l[1],d=c[0],p=c[1],g=(f+d)/2,m=(h+p)/2;if(p===h){if(g<n||g>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[g,e];a=[g,i]}else{if(s){if(s[1]<e)return}else s=[g,i];a=[g,e]}}else if(o=m-(u=(f-d)/(p-h))*g,u<-1||u>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-o)/u,e];a=[(i-o)/u,i]}else{if(s){if(s[1]<e)return}else s=[(i-o)/u,i];a=[(e-o)/u,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,u*n+o];a=[r,u*r+o]}else{if(s){if(s[0]<n)return}else s=[r,u*r+o];a=[n,u*n+o]}return t[0]=s,t[1]=a,!0}function pM(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function gM(t,n){return n[+(n.left!==t.site)]}function mM(t,n){return n[+(n.left===t.site)]}iM.prototype={constructor:iM,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=sM(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(uM(this,e),e=(t=e).U),e.C=!1,r.C=!0,oM(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(oM(this,e),e=(t=e).U),e.C=!1,r.C=!0,uM(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,a=t.L,u=t.R;if(e=a?u?sM(u):a:u,i?i.L===t?i.L=e:i.R=e:this._=e,a&&u?(r=e.C,e.C=t.C,e.L=a,a.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,uM(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,oM(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,uM(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,oM(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,uM(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,oM(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var vM,yM=[];function xM(){aM(this),this.x=this.y=this.arc=this.site=this.cy=null}function _M(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,a=e.site;if(r!==a){var u=i[0],o=i[1],s=r[0]-u,l=r[1]-o,c=a[0]-u,f=a[1]-o,h=2*(s*f-l*c);if(!(h>=-TM)){var d=s*s+l*l,p=c*c+f*f,g=(f*d-l*p)/h,m=(s*p-c*d)/h,v=yM.pop()||new xM;v.arc=t,v.site=i,v.x=g+u,v.y=(v.cy=m+o)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,x=OM._;x;)if(v.y<x.y||v.y===x.y&&v.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}OM.insert(y,v),y||(vM=v)}}}}function bM(t){var n=t.circle;n&&(n.P||(vM=n.N),OM.remove(n),yM.push(n),aM(n),t.circle=null)}var wM=[];function AM(){aM(this),this.edge=this.site=this.circle=null}function MM(t){var n=wM.pop()||new AM;return n.site=t,n}function kM(t){bM(t),SM.remove(t),wM.push(t),aM(t)}function EM(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,u=t.N,o=[t];kM(t);for(var s=a;s.circle&&Math.abs(e-s.circle.x)<NM&&Math.abs(r-s.circle.cy)<NM;)a=s.P,o.unshift(s),kM(s),s=a;o.unshift(s),bM(s);for(var l=u;l.circle&&Math.abs(e-l.circle.x)<NM&&Math.abs(r-l.circle.cy)<NM;)u=l.N,o.push(l),kM(l),l=u;o.push(l),bM(l);var c,f=o.length;for(c=1;c<f;++c)l=o[c],s=o[c-1],fM(l.edge,s.site,l.site,i);s=o[0],(l=o[f-1]).edge=lM(s.site,l.site,null,i),_M(s),_M(l)}function CM(t){for(var n,e,r,i,a=t[0],u=t[1],o=SM._;o;)if((r=DM(o,u)-a)>NM)o=o.L;else{if(!((i=a-FM(o,u))>NM)){r>-NM?(n=o.P,e=o):i>-NM?(n=o,e=o.N):n=e=o;break}if(!o.R){n=o;break}o=o.R}!function(t){BM[t.index]={site:t,halfedges:[]}}(t);var s=MM(t);if(SM.insert(n,s),n||e){if(n===e)return bM(n),e=MM(n.site),SM.insert(s,e),s.edge=e.edge=lM(n.site,s.site),_M(n),void _M(e);if(e){bM(n),bM(e);var l=n.site,c=l[0],f=l[1],h=t[0]-c,d=t[1]-f,p=e.site,g=p[0]-c,m=p[1]-f,v=2*(h*m-d*g),y=h*h+d*d,x=g*g+m*m,_=[(m*y-d*x)/v+c,(h*x-g*y)/v+f];fM(e.edge,l,p,_),s.edge=lM(l,t,null,_),e.edge=lM(t,p,null,_),_M(n),_M(e)}else s.edge=lM(n.site,s.site)}}function DM(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var u=t.P;if(!u)return-1/0;var o=(e=u.site)[0],s=e[1],l=s-n;if(!l)return o;var c=o-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-s+l/2+i-a/2)))/f+r:(r+o)/2}function FM(t,n){var e=t.N;if(e)return DM(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var SM,BM,OM,zM,NM=1e-6,TM=1e-12;function RM(t,n){return n[1]-t[1]||n[0]-t[0]}function PM(t,n){var e,r,i,a=t.sort(RM).pop();for(zM=[],BM=new Array(t.length),SM=new iM,OM=new iM;;)if(i=vM,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===e&&a[1]===r||(CM(a),e=a[0],r=a[1]),a=t.pop();else{if(!i)break;EM(i.arc)}if(function(){for(var t,n,e,r,i=0,a=BM.length;i<a;++i)if((t=BM[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),o=new Array(r);for(e=0;e<r;++e)u[e]=e,o[e]=pM(t,zM[n[e]]);for(u.sort(function(t,n){return o[n]-o[t]}),e=0;e<r;++e)o[e]=n[u[e]];for(e=0;e<r;++e)n[e]=o[e]}}(),n){var u=+n[0][0],o=+n[0][1],s=+n[1][0],l=+n[1][1];!function(t,n,e,r){for(var i,a=zM.length;a--;)dM(i=zM[a],t,n,e,r)&&hM(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>NM||Math.abs(i[0][1]-i[1][1])>NM)||delete zM[a]}(u,o,s,l),function(t,n,e,r){var i,a,u,o,s,l,c,f,h,d,p,g,m=BM.length,v=!0;for(i=0;i<m;++i)if(a=BM[i]){for(u=a.site,o=(s=a.halfedges).length;o--;)zM[s[o]]||s.splice(o,1);for(o=0,l=s.length;o<l;)p=(d=mM(a,zM[s[o]]))[0],g=d[1],f=(c=gM(a,zM[s[++o%l]]))[0],h=c[1],(Math.abs(p-f)>NM||Math.abs(g-h)>NM)&&(s.splice(o,0,zM.push(cM(u,d,Math.abs(p-t)<NM&&r-g>NM?[t,Math.abs(f-t)<NM?h:r]:Math.abs(g-r)<NM&&e-p>NM?[Math.abs(h-r)<NM?f:e,r]:Math.abs(p-e)<NM&&g-n>NM?[e,Math.abs(f-e)<NM?h:n]:Math.abs(g-n)<NM&&p-t>NM?[Math.abs(h-n)<NM?f:t,n]:null))-1),++l);l&&(v=!1)}if(v){var y,x,_,b=1/0;for(i=0,v=null;i<m;++i)(a=BM[i])&&(_=(y=(u=a.site)[0]-t)*y+(x=u[1]-n)*x)<b&&(b=_,v=a);if(v){var w=[t,n],A=[t,r],M=[e,r],k=[e,n];v.halfedges.push(zM.push(cM(u=v.site,w,A))-1,zM.push(cM(u,A,M))-1,zM.push(cM(u,M,k))-1,zM.push(cM(u,k,w))-1)}}for(i=0;i<m;++i)(a=BM[i])&&(a.halfedges.length||delete BM[i])}(u,o,s,l)}this.edges=zM,this.cells=BM,SM=OM=zM=BM=null}function LM(t){$r.call(this,null,t)}PM.prototype={constructor:PM,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return gM(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(a=(i=e.halfedges).length)for(var i,a,u,o,s,l,c=e.site,f=-1,h=n[i[a-1]],d=h.left===c?h.right:h.left;++f<a;)u=d,d=(h=n[i[f]]).left===c?h.right:h.left,u&&d&&r<u.index&&r<d.index&&(s=u,l=d,((o=c)[0]-l[0])*(s[1]-o[1])-(o[0]-s[0])*(l[1]-o[1])<0)&&t.push([c.data,u.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,a=this,u=a._found||0,o=a.cells.length;!(i=a.cells[u]);)if(++u>=o)return null;var s=t-i.site[0],l=n-i.site[1],c=s*s+l*l;do{i=a.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=a.edges[e],o=r.left;if(o!==i.site&&o||(o=r.right)){var s=t-o[0],l=n-o[1],f=s*s+l*l;f<c&&(c=f,u=o.index)}})}while(null!==u);return a._found=r,null==e||c<=e*e?i.site:null}},LM.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var qM=et(LM,$r),UM=[[-1e5,-1e5],[1e5,1e5]];qM.transform=function(t,n){var e,r,i,a,u=t.as||"path",o=n.source;for(e=function(){var t=eM,n=rM,e=null;function r(r){return new PM(r.map(function(e,i){var a=[Math.round(t(e,i,r)/NM)*NM,Math.round(n(e,i,r)/NM)*NM];return a.index=i,a.data=e,a}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"==typeof n?n:nM(+n),r):t},r.y=function(t){return arguments.length?(n="function"==typeof t?t:nM(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r}().x(t.x).y(t.y),t.size?e.size(t.size):e.extent(t.extent||UM),this.value=e=e(o),r=e.polygons(),i=0,a=o.length;i<a;++i)o[i][u]=r[i]?"M"+r[i].join("L")+"Z":null;return n.reflow(t.modified()).modifies(u)};var jM=Object.freeze({voronoi:LM}),$M=Math.PI/180,IM=64,WM=2048;function HM(){var t,n,e,r,i,a,u,o=[256,256],s=XM,l=[],c=Math.random,f={};function h(t,n,e){for(var r,i,a,u,l,f=n.x,h=n.y,d=Math.sqrt(o[0]*o[0]+o[1]*o[1]),p=s(o),g=c()<.5?1:-1,m=-g;(r=p(m+=g))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=d));)if(n.x=f+i,n.y=h+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>o[0]||n.y+n.y1>o[1]||e&&GM(n,t,o[0])||e&&(l=e,!((u=n).x+u.x1>l[0].x&&u.x+u.x0<l[1].x&&u.y+u.y1>l[0].y&&u.y+u.y0<l[1].y)))){for(var v,y=n.sprite,x=n.width>>5,_=o[0]>>5,b=n.x-(x<<4),w=127&b,A=32-w,M=n.y1-n.y0,k=(n.y+n.y0)*_+(b>>5),E=0;E<M;E++){v=0;for(var C=0;C<=x;C++)t[k+C]|=v<<A|(C<x?(v=y[E*x+C])>>>w:0);k+=_}return n.sprite=null,!0}return!1}return f.layout=function(){for(var s=function(t){t.width=t.height=1;var n=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(IM<<5)/n,t.height=WM/n;var e=t.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:n}}(no()),f=function(t){var n=[],e=-1;for(;++e<t;)n[e]=0;return n}((o[0]>>5)*o[1]),d=null,p=l.length,g=-1,m=[],v=l.map(function(o){return{text:t(o),font:n(o),style:r(o),weight:i(o),rotate:a(o),size:~~e(o),padding:u(o),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:o}}).sort(function(t,n){return n.size-t.size});++g<p;){var y=v[g];y.x=o[0]*(c()+.5)>>1,y.y=o[1]*(c()+.5)>>1,YM(s,y,v,g),y.hasText&&h(f,y,d)&&(m.push(y),d?VM(d,y):d=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=o[0]>>1,y.y-=o[1]>>1)}return m},f.words=function(t){return arguments.length?(l=t,f):l},f.size=function(t){return arguments.length?(o=[+t[0],+t[1]],f):o},f.font=function(t){return arguments.length?(n=ZM(t),f):n},f.fontStyle=function(t){return arguments.length?(r=ZM(t),f):r},f.fontWeight=function(t){return arguments.length?(i=ZM(t),f):i},f.rotate=function(t){return arguments.length?(a=ZM(t),f):a},f.text=function(n){return arguments.length?(t=ZM(n),f):t},f.spiral=function(t){return arguments.length?(s=JM[t]||t,f):s},f.fontSize=function(t){return arguments.length?(e=ZM(t),f):e},f.padding=function(t){return arguments.length?(u=ZM(t),f):u},f.random=function(t){return arguments.length?(c=t,f):c},f}function YM(t,n,e,r){if(!n.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(IM<<5)/a,WM/a);var u,o,s,l,c,f=0,h=0,d=0,p=e.length;for(--r;++r<p;){if(n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font,u=i.measureText(n.text+"m").width*a,s=n.size<<1,n.rotate){var g=Math.sin(n.rotate*$M),m=Math.cos(n.rotate*$M),v=u*m,y=u*g,x=s*m,_=s*g;u=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,s=~~Math.max(Math.abs(y+x),Math.abs(y-x))}else u=u+31>>5<<5;if(s>d&&(d=s),f+u>=IM<<5&&(f=0,h+=d,d=0),h+s>=WM)break;i.translate((f+(u>>1))/a,(h+(s>>1))/a),n.rotate&&i.rotate(n.rotate*$M),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=u,n.height=s,n.xoff=f,n.yoff=h,n.x1=u>>1,n.y1=s>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,f+=u}for(var b=i.getImageData(0,0,(IM<<5)/a,WM/a).data,w=[];--r>=0;)if((n=e[r]).hasText){for(o=(u=n.width)>>5,s=n.y1-n.y0,l=0;l<s*o;l++)w[l]=0;if(null==(f=n.xoff))return;h=n.yoff;var A=0,M=-1;for(c=0;c<s;c++){for(l=0;l<u;l++){var k=o*c+(l>>5),E=b[(h+c)*(IM<<5)+(f+l)<<2]?1<<31-l%32:0;w[k]|=E,A|=E}A?M=c:(n.y0++,s--,c--,h++)}n.y1=n.y0+M,n.sprite=w.slice(0,(n.y1-n.y0)*o)}}}function GM(t,n,e){e>>=5;for(var r,i=t.sprite,a=t.width>>5,u=t.x-(a<<4),o=127&u,s=32-o,l=t.y1-t.y0,c=(t.y+t.y0)*e+(u>>5),f=0;f<l;f++){r=0;for(var h=0;h<=a;h++)if((r<<s|(h<a?(r=i[f*a+h])>>>o:0))&n[c+h])return!0;c+=e}return!1}function VM(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function XM(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function ZM(t){return"function"==typeof t?t:function(){return t}}var JM={archimedean:XM,rectangular:function(t){var n=4*t[0]/t[1],e=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:e+=n;break;case 1:r+=4;break;case 2:e-=n;break;default:r-=4}return[e,r]}}},QM=["x","y","font","fontSize","fontStyle","fontWeight","angle"],KM=["text","font","rotate","fontSize","fontStyle","fontWeight"];function tk(t){$r.call(this,HM(),t)}tk.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:QM}]},et(tk,$r).transform=function(n,e){!n.size||n.size[0]&&n.size[1]||i("Wordcloud size dimensions must be non-zero.");var r=n.modified();if(r||e.changed(e.ADD_REM)||KM.some(function(t){var r=n[t];return Y(r)&&e.modified(r.fields)})){var a,u=e.materialize(e.SOURCE).source,o=this.value,s=n.as||QM,l=n.fontSize||14;if(Y(l)?a=n.fontSizeRange:l=V(l),a){var c=l,f=Zg("sqrt")().domain(function(t,n){for(var e,r=1/0,i=-1/0,a=0,u=n.length;a<u;++a)(e=t(n[a]))<r&&(r=e),e>i&&(i=e);return[r,i]}(c,u)).range(a);l=function(t){return f(c(t))}}u.forEach(function(t){t[s[0]]=NaN,t[s[1]]=NaN,t[s[3]]=0});for(var h,d,p=o.words(u).text(n.text).size(n.size||[500,500]).padding(n.padding||1).spiral(n.spiral||"archimedean").rotate(n.rotate||0).font(n.font||"sans-serif").fontStyle(n.fontStyle||"normal").fontWeight(n.fontWeight||"normal").fontSize(l).random(t.random).layout(),g=o.size(),m=g[0]>>1,v=g[1]>>1,y=0,x=p.length;y<x;++y)(d=(h=p[y]).datum)[s[0]]=h.x+m,d[s[1]]=h.y+v,d[s[2]]=h.font,d[s[3]]=h.size,d[s[4]]=h.style,d[s[5]]=h.weight,d[s[6]]=h.rotate;return e.reflow(r).modifies(s)}};var nk=Object.freeze({wordcloud:tk});function ek(t){return new Uint32Array(t)}function rk(t,n,e){var r=(n<257?function(t){return new Uint8Array(t)}:n<65537?function(t){return new Uint16Array(t)}:ek)(t);return e&&r.set(e),r}function ik(t,n,e){var r=1<<n;return{one:r,zero:~r,range:e.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,n){var e,i=this.bisect(this.range,t.value),a=t.index,u=i[0],o=i[1],s=a.length;for(e=0;e<u;++e)n[a[e]]|=r;for(e=o;e<s;++e)n[a[e]]|=r;return this}}}function ak(){var t=ek(0),n=[],e=0;return{insert:function(r,i,a){if(!i.length)return[];var u,o,s,l=e,c=i.length,f=Array(c),h=ek(c);for(s=0;s<c;++s)f[s]=r(i[s]),h[s]=s;if(f=function(t,n){return t.sort.call(n,function(n,e){var r=t[n],i=t[e];return r<i?-1:r>i?1:0}),function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r}(t,n)}(f,h),l)u=n,o=t,n=Array(l+c),t=ek(l+c),function(t,n,e,r,i,a,u,o,s){var l,c=0,f=0;for(l=0;c<r&&f<u;++l)n[c]<i[f]?(o[l]=n[c],s[l]=e[c++]):(o[l]=i[f],s[l]=a[f++]+t);for(;c<r;++c,++l)o[l]=n[c],s[l]=e[c];for(;f<u;++f,++l)o[l]=i[f],s[l]=a[f]+t}(a,u,o,l,f,h,c,n,t);else{if(a>0)for(s=0;s<c;++s)h[s]+=a;n=f,t=h}return e=l+c,{index:h,value:f}},remove:function(r,i){var a,u,o,s=e;for(u=0;!i[t[u]]&&u<s;++u);for(o=u;u<s;++u)i[a=t[u]]||(t[o]=a,n[o]=n[u],++o);e=s-r},bisect:function(t,r){var i;return r?i=r.length:(r=n,i=e),[oi(r,t[0],0,i),ui(r,t[1],0,i)]},reindex:function(n){for(var r=0,i=e;r<i;++r)t[r]=n[t[r]]},index:function(){return t},size:function(){return e}}}function uk(t){var n,e,r,i,a;$r.call(this,(n=8,e=[],r=ek(0),i=rk(0,n),a=rk(0,n),{data:function(){return e},seen:function(){return t=r,n=e.length,r=t.length>=n?t:((i=i||new t.constructor(n)).set(t),i);var t,n,i},add:function(t){for(var n,r=0,i=e.length,a=t.length;r<a;++r)(n=t[r])._index=i++,e.push(n)},remove:function(t,n){var r,u,o,s=e.length,l=Array(s-t),c=e;for(u=0;!n[u]&&u<s;++u)l[u]=e[u],c[u]=u;for(o=u;u<s;++u)r=e[u],n[u]?c[u]=-1:(c[u]=o,i[o]=i[u],a[o]=a[u],l[o]=r,r._index=o++),i[u]=0;return e=l,c},size:function(){return e.length},curr:function(){return i},prev:function(){return a},reset:function(t){a[t]=i[t]},all:function(){return n<257?255:n<65537?65535:4294967295},set:function(t,n){i[t]|=n},clear:function(t,n){i[t]&=~n},resize:function(t,e){(t>i.length||e>n)&&(n=Math.max(e,n),i=rk(t,n,i),a=rk(t,n))}}),t),this._indices=null,this._dims=null}uk.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var ok=et(uk,$r);function sk(t){$r.call(this,null,t)}ok.transform=function(t,n){return this._dims?t.modified("fields")||t.fields.some(function(t){return n.modified(t.fields)})?this.reinit(t,n):this.eval(t,n):this.init(t,n)},ok.init=function(t,n){for(var e,r,i=t.fields,a=t.query,u=this._indices={},o=this._dims=[],s=a.length,l=0;l<s;++l)r=u[e=i[l].fname]||(u[e]=ak()),o.push(ik(r,l,a[l]));return this.eval(t,n)},ok.reinit=function(t,n){var e,r,i,a,u,o,s,l,c,f=n.materialize().fork(),h=t.fields,d=t.query,p=this._indices,g=this._dims,m=this.value,v=m.curr(),y=m.prev(),x=m.all(),_=f.rem=f.add,b=f.mod,w=d.length,A={};if(y.set(v),n.rem.length&&(u=this.remove(t,n,f)),n.add.length&&m.add(n.add),n.mod.length)for(o={},s=0,l=(a=n.mod).length;s<l;++s)o[a[s]._index]=1;for(s=0;s<w;++s)c=h[s],(!g[s]||t.modified("fields",s)||n.modified(c.fields))&&((e=A[i=c.fname])||(p[i]=r=ak(),A[i]=e=r.insert(c,n.source,0)),g[s]=ik(r,s,d[s]).onAdd(e,v));for(s=0,l=m.data().length;s<l;++s)u[s]||(y[s]!==v[s]?_.push(s):o[s]&&v[s]!==x&&b.push(s));return m.mask=(1<<w)-1,f},ok.eval=function(t,n){var e=n.materialize().fork(),r=this._dims.length,i=0;return n.rem.length&&(this.remove(t,n,e),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,n,e)),n.add.length&&(this.insert(t,n,e),i|=(1<<r)-1),n.mod.length&&(this.modify(n,e),i|=(1<<r)-1),this.value.mask=i,e},ok.insert=function(t,n,e){var r,i,a,u=n.add,o=this.value,s=this._dims,l=this._indices,c=t.fields,f={},h=e.add,d=o.size(),p=d+u.length,g=s.length;o.resize(p,g),o.add(u);var m=o.curr(),v=o.prev(),y=o.all();for(r=0;r<g;++r)a=f[i=c[r].fname]||(f[i]=l[i].insert(c[r],u,d)),s[r].onAdd(a,m);for(;d<p;++d)v[d]=y,m[d]!==y&&h.push(d)},ok.modify=function(t,n){var e,r,i,a=n.mod,u=this.value,o=u.curr(),s=u.all(),l=t.mod;for(e=0,r=l.length;e<r;++e)o[i=l[e]._index]!==s&&a.push(i)},ok.remove=function(t,n,e){var r,i,a,u,o=this._indices,s=this.value,l=s.curr(),c=s.prev(),f=s.all(),h={},d=e.rem,p=n.rem;for(r=0,i=p.length;r<i;++r)h[a=p[r]._index]=1,c[a]=u=l[a],l[a]=f,u!==f&&d.push(a);for(a in o)o[a].remove(i,h);return this.reindex(n,i,h),h},ok.reindex=function(t,n,e){var r=this._indices,i=this.value;t.runAfter(function(){var t=i.remove(n,e);for(var a in r)r[a].reindex(t)})},ok.update=function(t,n,e){var r,i,a=this._dims,u=t.query,o=n.stamp,s=a.length,l=0;for(e.filters=0,i=0;i<s;++i)t.modified("query",i)&&(r=i,++l);if(1===l)l=a[r].one,this.incrementOne(a[r],u[r],e.add,e.rem);else for(i=0,l=0;i<s;++i)t.modified("query",i)&&(l|=a[i].one,this.incrementAll(a[i],u[i],o,e.add),e.rem=e.add);return l},ok.incrementAll=function(t,n,e,r){var i,a,u,o=this.value,s=o.seen(),l=o.curr(),c=o.prev(),f=t.index(),h=t.bisect(t.range),d=t.bisect(n),p=d[0],g=d[1],m=h[0],v=h[1],y=t.one;if(p<m)for(i=p,a=Math.min(m,g);i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;else if(p>m)for(i=m,a=Math.min(p,v);i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;if(g>v)for(i=Math.max(p,v),a=g;i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;else if(g<v)for(i=Math.max(m,g),a=v;i<a;++i)s[u=f[i]]!==e&&(c[u]=l[u],s[u]=e,r.push(u)),l[u]^=y;t.range=n.slice()},ok.incrementOne=function(t,n,e,r){var i,a,u,o=this.value.curr(),s=t.index(),l=t.bisect(t.range),c=t.bisect(n),f=c[0],h=c[1],d=l[0],p=l[1],g=t.one;if(f<d)for(i=f,a=Math.min(d,h);i<a;++i)o[u=s[i]]^=g,e.push(u);else if(f>d)for(i=d,a=Math.min(f,p);i<a;++i)o[u=s[i]]^=g,r.push(u);if(h>p)for(i=Math.max(f,p),a=h;i<a;++i)o[u=s[i]]^=g,e.push(u);else if(h<p)for(i=Math.max(d,h),a=p;i<a;++i)o[u=s[i]]^=g,r.push(u);t.range=n.slice()},sk.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},et(sk,$r).transform=function(t,n){var e=~(t.ignore||0),r=t.filter,i=r.mask;if(0==(i&e))return n.StopPropagation;var a=n.fork(n.ALL),u=r.data(),o=r.curr(),s=r.prev(),l=function(t){return o[t]&e?null:u[t]};return a.filter(a.MOD,l),i&i-1?(a.filter(a.ADD,function(t){var n=o[t]&e;return!n&&n^s[t]&e?u[t]:null}),a.filter(a.REM,function(t){var n=o[t]&e;return n&&!(n^n^s[t]&e)?u[t]:null})):(a.filter(a.ADD,l),a.filter(a.REM,function(t){return(o[t]&e)===i?u[t]:null})),a.filter(a.SOURCE,function(t){return l(t._index)})};var lk=Object.freeze({crossfilter:uk,resolvefilter:sk}),ck="default";function fk(t){var n=t._signals.cursor;n||(t._signals.cursor=n=t.add({user:ck,item:null})),t.on(t.events("view","mousemove"),n,function(t,e){var r=n.value,i=r?s(r)?r:r.user:ck,a=e.item&&e.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}}),t.add(null,function(t){var n,e=t.cursor,r=this.value;return s(e)||(r=e.item,e=e.user),n=e&&e!==ck?e:r||e,"undefined"!=typeof document&&document.body&&(document.body.style.cursor=n),r},{cursor:n})}function hk(t,n){var e=t._runtime.data;return e.hasOwnProperty(n)||i("Unrecognized data set: "+n),e[n]}function dk(t,n){Ot(n)||i("Second argument to changes must be a changeset.");var e=hk(this,t);return e.modified=!0,this.pulse(e.input,n)}function pk(t){var n=t.padding();return Math.max(0,t._viewWidth+n.left+n.right)}function gk(t){var n=t.padding();return Math.max(0,t._viewHeight+n.top+n.bottom)}function mk(t){var n=t.padding(),e=t._origin;return[n.left+e[0],n.top+e[1]]}function vk(t,n,e){var r,i,a=t._renderer,u=a&&a.canvas();return u&&(i=mk(t),(r=Bc(n.changedTouches?n.changedTouches[0]:n,u))[0]-=i[0],r[1]-=i[1]),n.dataflow=t,n.item=e,n.vega=function(t,n,e){var r=n?"group"===n.mark.marktype?n:n.mark.group:null;function i(t){var e,i=r;if(t)for(e=n;e;e=e.mark.group)if(e.mark.name===t){i=e;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(t){if(!t)return e;s(t)&&(t=i(t));for(var n=e.slice();t;)n[0]-=t.x||0,n[1]-=t.y||0,t=t.mark&&t.mark.group;return n}return{view:V(t),item:V(n||{}),group:i,xy:a,x:function(t){return a(t)[0]},y:function(t){return a(t)[1]}}}(t,e,r),n}var yk="view",xk="timer",_k="window",bk={trap:!1};function wk(t){return t.item}function Ak(t){var n=t.item.mark.source;return n.source||n}function Mk(t){return function(n,e){return e.vega.view().changeset().encode(e.item,t)}}function kk(t,n,e){var r=document.createElement(t);for(var i in n)r.setAttribute(i,n[i]);return null!=e&&(r.textContent=e),r}var Ek="vega-bind",Ck="vega-bind-name",Dk="vega-bind-radio",Fk="vega-option-";function Sk(t,n,e){if(n){var r=e.param,i=e.state;return i||(i=e.state={elements:null,active:!1,set:null,update:function(n){n!==t.signal(r.signal)&&t.runAsync(null,function(){i.source=!0,t.signal(r.signal,n)})}},r.debounce&&(i.update=X(r.debounce,i.update))),function(t,n,e,r){var i=kk("div",{class:Ek});i.appendChild(kk("span",{class:Ck},e.name||e.signal)),n.appendChild(i);var a=Bk;switch(e.input){case"checkbox":a=Ok;break;case"select":a=zk;break;case"radio":a=Nk;break;case"range":a=Tk}a(t,i,e,r)}(i,n,r,t.signal(r.signal)),i.active||(t.on(t._signals[r.signal],null,function(){i.source?i.source=!1:i.set(t.signal(r.signal))}),i.active=!0),i}}function Bk(t,n,e,r){var i=kk("input");for(var a in e)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,e[a]);i.setAttribute("name",e.signal),i.value=r,n.appendChild(i),i.addEventListener("input",function(){t.update(i.value)}),t.elements=[i],t.set=function(t){i.value=t}}function Ok(t,n,e,r){var i={type:"checkbox",name:e.signal};r&&(i.checked=!0);var a=kk("input",i);n.appendChild(a),a.addEventListener("change",function(){t.update(a.checked)}),t.elements=[a],t.set=function(t){a.checked=!!t||null}}function zk(t,n,e,r){var i=kk("select",{name:e.signal});e.options.forEach(function(t){var n={value:t};Rk(t,r)&&(n.selected=!0),i.appendChild(kk("option",n,t+""))}),n.appendChild(i),i.addEventListener("change",function(){t.update(e.options[i.selectedIndex])}),t.elements=[i],t.set=function(t){for(var n=0,r=e.options.length;n<r;++n)if(Rk(e.options[n],t))return void(i.selectedIndex=n)}}function Nk(t,n,e,r){var i=kk("span",{class:Dk});n.appendChild(i),t.elements=e.options.map(function(n){var a=Fk+e.signal+"-"+n,u={id:a,type:"radio",name:e.signal,value:n};Rk(n,r)&&(u.checked=!0);var o=kk("input",u);return o.addEventListener("change",function(){t.update(n)}),i.appendChild(o),i.appendChild(kk("label",{for:a},n+"")),o}),t.set=function(n){for(var e=t.elements,r=0,i=e.length;r<i;++r)Rk(e[r].value,n)&&(e[r].checked=!0)}}function Tk(t,n,e,r){r=void 0!==r?r:(+e.max+ +e.min)/2;var i=e.min||Math.min(0,+r)||0,a=e.max||Math.max(100,+r)||100,u=e.step||gi(i,a,100),o=kk("input",{type:"range",name:e.signal,min:i,max:a,step:u});o.value=r;var s=kk("label",{},+r);function l(){s.textContent=o.value,t.update(+o.value)}n.appendChild(o),n.appendChild(s),o.addEventListener("input",l),o.addEventListener("change",l),t.elements=[o],t.set=function(t){o.value=t,s.textContent=t}}function Rk(t,n){return t===n||t+""==n+""}function Pk(t,n,e,r,i,a){return(n=n||new r(t.loader())).initialize(e,pk(t),gk(t),mk(t),i,a).background(t._background)}function Lk(t,n){return n?function(){try{n.apply(this,arguments)}catch(n){t.error(n)}}:null}function qk(t,n){if("string"==typeof n){if("undefined"==typeof document)return t.error("DOM document instance not found."),null;if(!(n=document.querySelector(n)))return t.error("Signal bind element not found: "+n),null}if(n)try{n.innerHTML=""}catch(e){n=null,t.error(e)}return n}async function Uk(t,n,e,r){const a=Mf(n),u=a&&a.headless;return u||i("Unrecognized renderer type: "+n),await t.runAsync(),Pk(t,null,null,u,e,r).renderAsync(t._scenegraph.root)}var jk,$k,Ik,Wk,Hk,Yk="RawCode",Gk="Literal",Vk="Property",Xk="Identifier",Zk="ArrayExpression",Jk="BinaryExpression",Qk="CallExpression",Kk="ConditionalExpression",tE="LogicalExpression",nE="MemberExpression",eE="ObjectExpression",rE="UnaryExpression";function iE(t){this.type=t}iE.prototype.visit=function(t){var n,e,r;if(t(this))return 1;for(e=0,r=(n=function(t){switch(t.type){case Zk:return t.elements;case Jk:case tE:return[t.left,t.right];case Qk:var n=t.arguments.slice();return n.unshift(t.callee),n;case Kk:return[t.test,t.consequent,t.alternate];case nE:return[t.object,t.property];case eE:return t.properties;case Vk:return[t.key,t.value];case rE:return[t.argument];case Xk:case Gk:case Yk:default:return[]}}(this)).length;e<r;++e)if(n[e].visit(t))return 1};var aE=1,uE=2,oE=3,sE=4,lE=5,cE=6,fE=7,hE=8;(jk={})[aE]="Boolean",jk[uE]="<end>",jk[oE]="Identifier",jk[sE]="Keyword",jk[lE]="Null",jk[cE]="Numeric",jk[fE]="Punctuator",jk[hE]="String",jk[9]="RegularExpression";var dE="ArrayExpression",pE="BinaryExpression",gE="CallExpression",mE="ConditionalExpression",vE="Identifier",yE="Literal",xE="LogicalExpression",_E="MemberExpression",bE="ObjectExpression",wE="Property",AE="UnaryExpression",ME="Unexpected token %0",kE="Unexpected number",EE="Unexpected string",CE="Unexpected identifier",DE="Unexpected reserved word",FE="Unexpected end of input",SE="Invalid regular expression",BE="Invalid regular expression: missing /",OE="Octal literals are not allowed in strict mode.",zE="Duplicate data property in object literal not allowed in strict mode",NE="ILLEGAL",TE="Disabled.",RE=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),PE=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function LE(t,n){if(!t)throw new Error("ASSERT: "+n)}function qE(t){return t>=48&&t<=57}function UE(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function jE(t){return"01234567".indexOf(t)>=0}function $E(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function IE(t){return 10===t||13===t||8232===t||8233===t}function WE(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&RE.test(String.fromCharCode(t))}function HE(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&PE.test(String.fromCharCode(t))}var YE={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function GE(){for(var t;Ik<Wk&&($E(t=$k.charCodeAt(Ik))||IE(t));)++Ik}function VE(t){var n,e,r,i=0;for(e="u"===t?4:2,n=0;n<e;++n)Ik<Wk&&UE($k[Ik])?(r=$k[Ik++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):cC({},ME,NE);return String.fromCharCode(i)}function XE(){var t,n,e,r;for(n=0,"}"===(t=$k[Ik])&&cC({},ME,NE);Ik<Wk&&UE(t=$k[Ik++]);)n=16*n+"0123456789abcdef".indexOf(t.toLowerCase());return(n>1114111||"}"!==t)&&cC({},ME,NE),n<=65535?String.fromCharCode(n):(e=55296+(n-65536>>10),r=56320+(n-65536&1023),String.fromCharCode(e,r))}function ZE(){var t,n;for(t=$k.charCodeAt(Ik++),n=String.fromCharCode(t),92===t&&(117!==$k.charCodeAt(Ik)&&cC({},ME,NE),++Ik,(t=VE("u"))&&"\\"!==t&&WE(t.charCodeAt(0))||cC({},ME,NE),n=t);Ik<Wk&&HE(t=$k.charCodeAt(Ik));)++Ik,n+=String.fromCharCode(t),92===t&&(n=n.substr(0,n.length-1),117!==$k.charCodeAt(Ik)&&cC({},ME,NE),++Ik,(t=VE("u"))&&"\\"!==t&&HE(t.charCodeAt(0))||cC({},ME,NE),n+=t);return n}function JE(){var t,n;return t=Ik,{type:1===(n=92===$k.charCodeAt(Ik)?ZE():function(){var t,n;for(t=Ik++;Ik<Wk;){if(92===(n=$k.charCodeAt(Ik)))return Ik=t,ZE();if(!HE(n))break;++Ik}return $k.slice(t,Ik)}()).length?oE:YE.hasOwnProperty(n)?sE:"null"===n?lE:"true"===n||"false"===n?aE:oE,value:n,start:t,end:Ik}}function QE(){var t,n,e,r,i=Ik,a=$k.charCodeAt(Ik),u=$k[Ik];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ik,{type:fE,value:String.fromCharCode(a),start:i,end:Ik};default:if(61===(t=$k.charCodeAt(Ik+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ik+=2,{type:fE,value:String.fromCharCode(a)+String.fromCharCode(t),start:i,end:Ik};case 33:case 61:return Ik+=2,61===$k.charCodeAt(Ik)&&++Ik,{type:fE,value:$k.slice(i,Ik),start:i,end:Ik}}}return">>>="===(r=$k.substr(Ik,4))?{type:fE,value:r,start:i,end:Ik+=4}:">>>"===(e=r.substr(0,3))||"<<="===e||">>="===e?{type:fE,value:e,start:i,end:Ik+=3}:u===(n=e.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===n?{type:fE,value:n,start:i,end:Ik+=2}:"<>=!+-*%&|^/".indexOf(u)>=0?{type:fE,value:u,start:i,end:++Ik}:void cC({},ME,NE)}function KE(){var t,n,e;if(LE(qE((e=$k[Ik]).charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),n=Ik,t="","."!==e){if(t=$k[Ik++],e=$k[Ik],"0"===t){if("x"===e||"X"===e)return++Ik,function(t){for(var n="";Ik<Wk&&UE($k[Ik]);)n+=$k[Ik++];return 0===n.length&&cC({},ME,NE),WE($k.charCodeAt(Ik))&&cC({},ME,NE),{type:cE,value:parseInt("0x"+n,16),start:t,end:Ik}}(n);if(jE(e))return function(t){for(var n="0"+$k[Ik++];Ik<Wk&&jE($k[Ik]);)n+=$k[Ik++];return(WE($k.charCodeAt(Ik))||qE($k.charCodeAt(Ik)))&&cC({},ME,NE),{type:cE,value:parseInt(n,8),octal:!0,start:t,end:Ik}}(n);e&&qE(e.charCodeAt(0))&&cC({},ME,NE)}for(;qE($k.charCodeAt(Ik));)t+=$k[Ik++];e=$k[Ik]}if("."===e){for(t+=$k[Ik++];qE($k.charCodeAt(Ik));)t+=$k[Ik++];e=$k[Ik]}if("e"===e||"E"===e)if(t+=$k[Ik++],"+"!==(e=$k[Ik])&&"-"!==e||(t+=$k[Ik++]),qE($k.charCodeAt(Ik)))for(;qE($k.charCodeAt(Ik));)t+=$k[Ik++];else cC({},ME,NE);return WE($k.charCodeAt(Ik))&&cC({},ME,NE),{type:cE,value:parseFloat(t),start:n,end:Ik}}function tC(){var t,n,e,r;return Hk=null,GE(),t=Ik,n=function(){var t,n,e,r;for(LE("/"===(t=$k[Ik]),"Regular expression literal must start with a slash"),n=$k[Ik++],e=!1,r=!1;Ik<Wk;)if(n+=t=$k[Ik++],"\\"===t)IE((t=$k[Ik++]).charCodeAt(0))&&cC({},BE),n+=t;else if(IE(t.charCodeAt(0)))cC({},BE);else if(e)"]"===t&&(e=!1);else{if("/"===t){r=!0;break}"["===t&&(e=!0)}return r||cC({},BE),{value:n.substr(1,n.length-2),literal:n}}(),e=function(){var t,n,e;for(n="",e="";Ik<Wk&&HE((t=$k[Ik]).charCodeAt(0));)++Ik,"\\"===t&&Ik<Wk?cC({},ME,NE):(e+=t,n+=t);return e.search(/[^gimuy]/g)>=0&&cC({},SE,e),{value:e,literal:n}}(),r=function(t,n){var e=t;n.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,n){if(parseInt(n,16)<=1114111)return"x";cC({},SE)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{return new RegExp(t,n)}catch(t){return null}}(n.value,e.value),{literal:n.literal+e.literal,value:r,regex:{pattern:n.value,flags:e.value},start:t,end:Ik}}function nC(){var t;return GE(),Ik>=Wk?{type:uE,start:Ik,end:Ik}:WE(t=$k.charCodeAt(Ik))?JE():40===t||41===t||59===t?QE():39===t||34===t?function(){var t,n,e,r,i="",a=!1;for(LE("'"===(t=$k[Ik])||'"'===t,"String literal must starts with a quote"),n=Ik,++Ik;Ik<Wk;){if((e=$k[Ik++])===t){t="";break}if("\\"===e)if((e=$k[Ik++])&&IE(e.charCodeAt(0)))"\r"===e&&"\n"===$k[Ik]&&++Ik;else switch(e){case"u":case"x":"{"===$k[Ik]?(++Ik,i+=XE()):i+=VE(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:jE(e)?(0!==(r="01234567".indexOf(e))&&(a=!0),Ik<Wk&&jE($k[Ik])&&(a=!0,r=8*r+"01234567".indexOf($k[Ik++]),"0123".indexOf(e)>=0&&Ik<Wk&&jE($k[Ik])&&(r=8*r+"01234567".indexOf($k[Ik++]))),i+=String.fromCharCode(r)):i+=e}else{if(IE(e.charCodeAt(0)))break;i+=e}}return""!==t&&cC({},ME,NE),{type:hE,value:i,octal:a,start:n,end:Ik}}():46===t?qE($k.charCodeAt(Ik+1))?KE():QE():qE(t)?KE():QE()}function eC(){var t;return Ik=(t=Hk).end,Hk=nC(),Ik=t.end,t}function rC(){var t;t=Ik,Hk=nC(),Ik=t}function iC(t,n,e){var r=new iE("||"===t||"&&"===t?xE:pE);return r.operator=t,r.left=n,r.right=e,r}function aC(t,n){var e=new iE(gE);return e.callee=t,e.arguments=n,e}function uC(t){var n=new iE(vE);return n.name=t,n}function oC(t){var n=new iE(yE);return n.value=t.value,n.raw=$k.slice(t.start,t.end),t.regex&&("//"===n.raw&&(n.raw="/(?:)/"),n.regex=t.regex),n}function sC(t,n,e){var r=new iE(_E);return r.computed="["===t,r.object=n,r.property=e,r.computed||(e.member=!0),r}function lC(t,n,e){var r=new iE(wE);return r.key=n,r.value=e,r.kind=t,r}function cC(t,n){var e,r=Array.prototype.slice.call(arguments,2),i=n.replace(/%(\d)/g,function(t,n){return LE(n<r.length,"Message reference must be in range"),r[n]});throw(e=new Error(i)).index=Ik,e.description=i,e}function fC(t){t.type===uE&&cC(t,FE),t.type===cE&&cC(t,kE),t.type===hE&&cC(t,EE),t.type===oE&&cC(t,CE),t.type===sE&&cC(t,DE),cC(t,ME,t.value)}function hC(t){var n=eC();n.type===fE&&n.value===t||fC(n)}function dC(t){return Hk.type===fE&&Hk.value===t}function pC(t){return Hk.type===sE&&Hk.value===t}function gC(){var t=[];for(Ik=Hk.start,hC("[");!dC("]");)dC(",")?(eC(),t.push(null)):(t.push(CC()),dC("]")||hC(","));return eC(),function(t){var n=new iE(dE);return n.elements=t,n}(t)}function mC(){var t;return Ik=Hk.start,(t=eC()).type===hE||t.type===cE?(t.octal&&cC(t,OE),oC(t)):uC(t.value)}function vC(){var t,n,e;return Ik=Hk.start,(t=Hk).type===oE?(e=mC(),hC(":"),lC("init",e,CC())):t.type!==uE&&t.type!==fE?(n=mC(),hC(":"),lC("init",n,CC())):void fC(t)}function yC(){var t,n,e=[],r={},i=String;for(Ik=Hk.start,hC("{");!dC("}");)n="$"+((t=vC()).key.type===vE?t.key.name:i(t.key.value)),Object.prototype.hasOwnProperty.call(r,n)?cC({},zE):r[n]=!0,e.push(t),dC("}")||hC(",");return hC("}"),function(t){var n=new iE(bE);return n.properties=t,n}(e)}var xC={if:1,this:1};function _C(){var t,n,e;if(dC("("))return function(){var t;return hC("("),t=DC(),hC(")"),t}();if(dC("["))return gC();if(dC("{"))return yC();if(t=Hk.type,Ik=Hk.start,t===oE||xC[Hk.value])e=uC(eC().value);else if(t===hE||t===cE)Hk.octal&&cC(Hk,OE),e=oC(eC());else{if(t===sE)throw new Error(TE);t===aE?((n=eC()).value="true"===n.value,e=oC(n)):t===lE?((n=eC()).value=null,e=oC(n)):dC("/")||dC("/=")?(e=oC(tC()),rC()):fC(eC())}return e}function bC(){var t=[];if(hC("("),!dC(")"))for(;Ik<Wk&&(t.push(CC()),!dC(")"));)hC(",");return hC(")"),t}function wC(){var t;return Ik=Hk.start,function(t){return t.type===oE||t.type===sE||t.type===aE||t.type===lE}(t=eC())||fC(t),uC(t.value)}function AC(){var t;return hC("["),t=DC(),hC("]"),t}function MC(){var t=function(){var t;for(t=_C();;)if(dC("."))hC("."),t=sC(".",t,wC());else if(dC("("))t=aC(t,bC());else{if(!dC("["))break;t=sC("[",t,AC())}return t}();if(Hk.type===fE&&(dC("++")||dC("--")))throw new Error(TE);return t}function kC(){var t,n,e,r,i;if(Hk.type!==fE&&Hk.type!==sE)n=MC();else{if(dC("++")||dC("--"))throw new Error(TE);if(dC("+")||dC("-")||dC("~")||dC("!"))t=eC(),n=kC(),e=t.value,r=n,(i=new iE(AE)).operator=e,i.argument=r,i.prefix=!0,n=i;else{if(pC("delete")||pC("void")||pC("typeof"))throw new Error(TE);n=MC()}}return n}function EC(t){var n=0;if(t.type!==fE&&t.type!==sE)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":n=7;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function CC(){var t,n;return t=function(){var t,n,e,r,i,a,u,o,s,l;if(t=Hk,s=kC(),0===(i=EC(r=Hk)))return s;for(r.prec=i,eC(),n=[t,Hk],a=[s,r,u=kC()];(i=EC(Hk))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)u=a.pop(),o=a.pop().value,s=a.pop(),n.pop(),e=iC(o,s,u),a.push(e);(r=eC()).prec=i,a.push(r),n.push(Hk),e=kC(),a.push(e)}for(e=a[l=a.length-1],n.pop();l>1;)n.pop(),e=iC(a[l-1].value,a[l-2],e),l-=2;return e}(),dC("?")&&(eC(),n=CC(),hC(":"),t=function(t,n,e){var r=new iE(mE);return r.test=t,r.consequent=n,r.alternate=e,r}(t,n,CC())),t}function DC(){var t=CC();if(dC(","))throw new Error(TE);return t}var FC={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function SC(t){function n(n,e,r){return function(i){return function(n,e,r,i){var a=t(e[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+n+(i<0?"":0===i?"()":"("+e.slice(1).map(t).join(",")+")")}(n,i,e,r)}}var e="new Date";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(n){n.length<3&&i("Missing arguments to clamp function."),n.length>3&&i("Too many arguments to clamp function.");var e=n.map(t);return"Math.max("+e[1]+", Math.min("+e[2]+","+e[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:e,date:n("getDate",e,0),day:n("getDay",e,0),year:n("getFullYear",e,0),month:n("getMonth",e,0),hours:n("getHours",e,0),minutes:n("getMinutes",e,0),seconds:n("getSeconds",e,0),milliseconds:n("getMilliseconds",e,0),time:n("getTime",e,0),timezoneoffset:n("getTimezoneOffset",e,0),utcdate:n("getUTCDate",e,0),utcday:n("getUTCDay",e,0),utcyear:n("getUTCFullYear",e,0),utcmonth:n("getUTCMonth",e,0),utchours:n("getUTCHours",e,0),utcminutes:n("getUTCMinutes",e,0),utcseconds:n("getUTCSeconds",e,0),utcmilliseconds:n("getUTCMilliseconds",e,0),length:n("length",null,-1),join:n("join",null),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),reverse:function(n){return"("+t(n[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase","String",0),lower:n("toLowerCase","String",0),substring:n("substring","String"),split:n("split","String"),replace:n("replace","String"),trim:n("trim","String",0),regexp:"RegExp",test:n("test","RegExp"),if:function(n){n.length<3&&i("Missing arguments to if function."),n.length>3&&i("Too many arguments to if function.");var e=n.map(t);return"("+e[0]+"?"+e[1]+":"+e[2]+")"}}}const BC="intersect",OC="union";var zC="E",NC="R",TC="R-E",RC="R-LE",PC="R-RE",LC="index:unit";function qC(t,n){for(var e,r,i=n.fields,a=n.values,o=i.length,s=0;s<o;++s)if((r=i[s]).getter=c.getter||c(r.field),at(e=r.getter(t))&&(e=E(e)),at(a[s])&&(a[s]=E(a[s])),at(a[s][0])&&(a[s]=a[s].map(E)),r.type===zC){if(u(a[s])?a[s].indexOf(e)<0:e!==a[s])return!1}else if(r.type===NC){if(!rt(e,a[s]))return!1}else if(r.type===PC){if(!rt(e,a[s],!0,!1))return!1}else if(r.type===TC){if(!rt(e,a[s],!1,!1))return!1}else if(r.type===RC&&!rt(e,a[s],!1,!0))return!1;return!0}var UC={E_union:function(t,n){if(!t.length)return n;for(var e=0,r=n.length;e<r;++e)t.indexOf(n[e])<0&&t.push(n[e]);return t},E_intersect:function(t,n){return t.length?t.filter(function(t){return n.indexOf(t)>=0}):n},R_union:function(t,n){var e=E(n[0]),r=E(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?(t[0]>e&&(t[0]=e),t[1]<r&&(t[1]=r),t):[e,r]},R_intersect:function(t,n){var e=E(n[0]),r=E(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?r<t[0]||t[1]<e?[]:(t[0]<e&&(t[0]=e),t[1]>r&&(t[1]=r),t):[e,r]}};const jC=":",$C="@";function IC(t,n,e,r){n[0].type!==Gk&&i("First argument to selection functions must be a string literal.");const a=n[0].value,u=n.length>=2&&k(n).value,o=$C+"unit",s=jC+a;u!==BC||r.hasOwnProperty(o)||(r[o]=e.getData(a).indataRef(e,"unit")),r.hasOwnProperty(s)||(r[s]=e.getData(a).tuplesRef())}function WC(t){const n=this.context.data[t];return n?n.values.value:[]}const HC={};function YC(t,n,e){let r=t+":"+e,i=HC[r];return i&&i[0]===n||(HC[r]=i=[n,n(e)]),i[1]}function GC(t,n){return YC("timeFormat",ue,n)(t)}var VC=new Date(2e3,0,1);function XC(t,n,e){return VC.setMonth(t),VC.setDate(n),GC(VC,e)}function ZC(t,n){let e;return Y(t)?t:s(t)?(e=n.scales[t])&&e.value:void 0}function JC(t,n){return function(e,r,i){if(e){const n=ZC(e,(i||this).context);return n&&n.path[t](r)}return n(r)}}const QC=JC("area",function(t){return sy.reset(),ny(t,ly),2*sy}),KC=JC("bounds",function(t){var n,e,r,i,a,u,o;if(My=Ay=-(by=wy=1/0),Fy=[],ny(t,Vy),e=Fy.length){for(Fy.sort(rx),n=1,a=[r=Fy[0]];n<e;++n)ix(r,(i=Fy[n])[0])||ix(r,i[1])?(ex(r[0],i[1])>ex(r[0],r[1])&&(r[1]=i[1]),ex(i[0],r[1])>ex(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(u=-1/0,n=0,r=a[e=a.length-1];n<=e;r=i,++n)i=a[n],(o=ex(r[1],i[0]))>u&&(u=o,by=i[0],Ay=r[1])}return Fy=Sy=null,by===1/0||wy===1/0?[[NaN,NaN],[NaN,NaN]]:[[by,wy],[Ay,My]]}),tD=JC("centroid",function(t){By=Oy=zy=Ny=Ty=Ry=Py=Ly=qy=Uy=jy=0,ny(t,ax);var n=qy,e=Uy,r=jy,i=n*n+e*e+r*r;return i<Dv&&(n=Ry,e=Py,r=Ly,Oy<Cv&&(n=zy,e=Ny,r=Ty),(i=n*n+e*e+r*r)<Dv)?[NaN,NaN]:[Pv(e,n)*zv,Vv(r/Hv(i))*zv]});function nD(t,n,e){try{t[n].apply(t,["EXPRESSION"].concat([].slice.call(e)))}catch(n){t.warn(n)}return e[e.length-1]}function eD(t,n){return t===n||t!=t&&n!=n||!(!u(t)||!u(n)||t.length!==n.length)&&function(t,n){for(let e=0,r=t.length;e<r;++e)if(!eD(t[e],n[e]))return!1;return!0}(t,n)}function rD(t){return function(n){for(let e in t)if(!eD(n[e],t[e]))return!1;return!0}}const iD={};function aD(t){return t.data}function uD(t,n){const e=WC.call(n,t);return e.root&&e.root.lookup||iD}const oD="undefined"!=typeof window&&window||null;const sD=":",lD="@",cD="%",fD="$";function hD(t,n,e,r){n[0].type!==Gk&&i("First argument to data functions must be a string literal.");const a=n[0].value,u=sD+a;r.hasOwnProperty(u)||(r[u]=e.getData(a).tuplesRef())}function dD(t,n,e,r){if(n[0].type===Gk)pD(e,r,n[0].value);else if(n[0].type===Xk)for(t in e.scales)pD(e,r,t)}function pD(t,n,e){const r=cD+e;if(!n.hasOwnProperty(r))try{n[r]=t.scaleRef(e)}catch(t){}}const gD={random:function(){return t.random()},isArray:u,isBoolean:it,isDate:at,isDefined:function(t){return void 0!==t},isNumber:ut,isObject:o,isRegExp:ot,isString:s,isTuple:kt,isValid:function(t){return null!=t&&t==t},toBoolean:pt,toDate:mt,toNumber:E,toString:vt,flush:nt,lerp:lt,merge:function(){var t=[].slice.call(arguments);return t.unshift({}),Z.apply(null,t)},pad:ht,peek:k,span:dt,inrange:rt,truncate:xt,rgb:pd,lab:Bd,hcl:Pd,hsl:yd,sequence:li,format:function(t,n){return YC("format",sg,n)(t)},utcFormat:function(t,n){return YC("utcFormat",se,n)(t)},utcParse:function(t,n){return YC("utcParse",le,n)(t)},timeFormat:GC,timeParse:function(t,n){return YC("timeParse",oe,n)(t)},monthFormat:function(t){return XC(t,1,"%B")},monthAbbrevFormat:function(t){return XC(t,1,"%b")},dayFormat:function(t){return XC(0,2+t,"%A")},dayAbbrevFormat:function(t){return XC(0,2+t,"%a")},quarter:$,utcquarter:I,warn:function(){return nD(this.context.dataflow,"warn",arguments)},info:function(){return nD(this.context.dataflow,"info",arguments)},debug:function(){return nD(this.context.dataflow,"debug",arguments)},extent:J,inScope:function(t){let n=this.context.group,e=!1;if(n)for(;t;){if(t===n){e=!0;break}t=t.mark.group}return e},intersect:function(t,n,e){if(!t)return[];const[r,i]=t,a=(new Hu).set(r[0],r[1],i[0],i[1]);return kf(e||this.context.dataflow.scenegraph().root,a,function(t){let n=null;if(t){const e=W(t.marktype),r=W(t.markname);n=(t=>(!e.length||e.some(n=>t.marktype===n))&&(!r.length||r.some(n=>t.name===n)))}return n}(n))},clampRange:H,pinchDistance:function(t){const n=t.touches,e=n[0].clientX-n[1].clientX,r=n[0].clientY-n[1].clientY;return Math.sqrt(e*e+r*r)},pinchAngle:function(t){const n=t.touches;return Math.atan2(n[0].clientY-n[1].clientY,n[0].clientX-n[1].clientX)},screen:function(){return oD?oD.screen:{}},containerSize:function(){const t=this.context.dataflow,n=t.container&&t.container();return n?[n.clientWidth,n.clientHeight]:[void 0,void 0]},windowSize:function(){return oD?[oD.innerWidth,oD.innerHeight]:[void 0,void 0]},bandspace:function(t,n,e){return yh(t||0,n||0,e||0)},setdata:function(t,n){const e=this.context.dataflow,r=this.context.data[t].input;return e.pulse(r,e.changeset().remove(m).insert(n)),1},pathShape:function(t){let n=null;return function(e){return e?Os(e,n=n||bs(t)):t}},panLinear:z,panLog:N,panPow:T,panSymlog:R,zoomLinear:L,zoomLog:q,zoomPow:U,zoomSymlog:j,encode:function(t,n,e){if(t){const e=this.context.dataflow,r=t.mark.source;e.pulse(r,e.changeset().encode(t,n))}return void 0!==e?e:t},modify:function(t,n,e,r,i,a){let o,s,l=this.context.dataflow,c=this.context.data[t],f=c.input,h=c.changes,d=l.stamp();if(!1===l._trigger||!(f.value.length||n||r))return 0;if((!h||h.stamp<d)&&(c.changes=h=l.changeset(),h.stamp=d,l.runAfter(function(){c.modified=!0,l.pulse(f,h).run()},!0,1)),e&&(o=!0===e?m:u(e)||kt(e)?e:rD(e),h.remove(o)),n&&h.insert(n),r&&(o=rD(r),f.value.some(o)?h.remove(o):h.insert(r)),i)for(s in a)h.modify(i,s,a[s]);return 1}},mD=["view","item","group","xy","x","y"],vD="event.vega.",yD="this.",xD={};function _D(t,n,e){return 1===arguments.length?gD[t]:(gD[t]=n,e&&(xD[t]=e),wD&&(wD.functions[t]=yD+t),this)}_D("bandwidth",function(t,n){const e=ZC(t,(n||this).context);return e&&e.bandwidth?e.bandwidth():0},dD),_D("copy",function(t,n){const e=ZC(t,(n||this).context);return e?e.copy():void 0},dD),_D("domain",function(t,n){const e=ZC(t,(n||this).context);return e?e.domain():[]},dD),_D("range",function(t,n){const e=ZC(t,(n||this).context);return e&&e.range?e.range():[]},dD),_D("invert",function(t,n,e){const r=ZC(t,(e||this).context);return r?u(n)?(r.invertRange||r.invert)(n):(r.invert||r.invertExtent)(n):void 0},dD),_D("scale",function(t,n,e){const r=ZC(t,(e||this).context);return r&&void 0!==n?r(n):void 0},dD),_D("gradient",function(t,n,e,r,i){t=ZC(t,(i||this).context);const a=Qu(n,e);let u=t.domain(),o=u[0],s=k(u),l=d;return s-o?l=rm(t,o,s):t=(t.interpolator?Zg("sequential")().interpolator(t.interpolator()):Zg("linear")().interpolate(t.interpolate()).range(t.range())).domain([o=0,s=1]),t.ticks&&(o!==(u=t.ticks(+r||15))[0]&&u.unshift(o),s!==k(u)&&u.push(s)),u.forEach(n=>a.stop(l(n),t(n))),a},dD),_D("geoArea",QC,dD),_D("geoBounds",KC,dD),_D("geoCentroid",tD,dD),_D("geoShape",function(t,n,e){const r=ZC(t,(e||this).context);return function(t){return r?r.path.context(t)(n):""}},dD),_D("indata",function(t,n,e){const r=this.context.data[t]["index:"+n],i=r?r.value.get(e):void 0;return i?i.count:i},function(t,n,e,r){n[0].type!==Gk&&i("First argument to indata must be a string literal."),n[1].type!==Gk&&i("Second argument to indata must be a string literal.");const a=n[0].value,u=n[1].value,o=lD+u;r.hasOwnProperty(o)||(r[o]=e.getData(a).indataRef(e,u))}),_D("data",WC,hD),_D("treePath",function(t,n,e){const r=uD(t,this),i=r[n],a=r[e];return i&&a?i.path(a).map(aD):void 0},hD),_D("treeAncestors",function(t,n){const e=uD(t,this)[n];return e?e.ancestors().map(aD):void 0},hD),_D("vlSelectionTest",function(t,n,e){for(var r,i,a,u,o,s=this.context.data[t],l=s?s.values.value:[],c=s?s[LC]&&s[LC].value:void 0,f=e===BC,h=l.length,d=0;d<h;++d)if(r=l[d],c&&f){if(-1===(a=(i=i||{})[u=r.unit]||0))continue;if(o=qC(n,r),i[u]=o?-1:++a,o&&1===c.size)return!0;if(!o&&a===c.get(u).count)return!1}else if(f^(o=qC(n,r)))return o;return h&&f},IC),_D("vlSelectionResolve",function(t,n){for(var e,r,i,a,u,o,s,l,c,f,h,d=this.context.data[t],p=d?d.values.value:[],g={},m={},v=p.length,y=0;y<v;++y)for(a=(e=p[y]).unit,r=e.fields,i=e.values,f=0,h=r.length;f<h;++f)u=r[f],s=(o=g[u.field]||(g[u.field]={}))[a]||(o[a]=[]),m[u.field]=l=u.type.charAt(0),c=UC[l+"_union"],o[a]=c(s,W(i[f]));return n=n||OC,Object.keys(g).forEach(function(t){g[t]=Object.keys(g[t]).map(function(n){return g[t][n]}).reduce(function(e,r){return void 0===e?r:UC[m[t]+"_"+n](e,r)})}),g},IC);const bD={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_["+l(fD+t)+"]"},functions:function(t){const n=SC(t);mD.forEach(t=>n[t]=vD+t);for(let t in gD)n[t]=yD+t;return n},constants:FC,visitors:xD};var wD=function(t){var n=(t=t||{}).whitelist?yt(t.whitelist):{},e=t.blacklist?yt(t.blacklist):{},r=t.constants||FC,a=(t.functions||SC)(d),u=t.globalvar,o=t.fieldvar,l={},c={},f=0,h=Y(u)?u:function(t){return u+'["'+t+'"]'};function d(t){if(s(t))return t;var n=p[t.type];return null==n&&i("Unsupported type: "+t.type),n(t)}var p={Literal:function(t){return t.raw},Identifier:function(t){var a=t.name;return f>0?a:e.hasOwnProperty(a)?i("Illegal identifier: "+a):r.hasOwnProperty(a)?r[a]:n.hasOwnProperty(a)?a:(l[a]=1,h(a))},MemberExpression:function(t){var n=!t.computed,e=d(t.object);n&&(f+=1);var r=d(t.property);return e===o&&(c[function(t){var n=t&&t.length-1;return n&&('"'===t[0]&&'"'===t[n]||"'"===t[0]&&"'"===t[n])?t.slice(1,-1):t}(r)]=1),n&&(f-=1),e+(n?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&i("Illegal callee type: "+t.callee.type);var n=t.callee.name,e=t.arguments,r=a.hasOwnProperty(n)&&a[n];return r||i("Unrecognized function: "+n),Y(r)?r(e):r+"("+e.map(d).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(d).join(",")+"]"},BinaryExpression:function(t){return"("+d(t.left)+t.operator+d(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+d(t.argument)+")"},ConditionalExpression:function(t){return"("+d(t.test)+"?"+d(t.consequent)+":"+d(t.alternate)+")"},LogicalExpression:function(t){return"("+d(t.left)+t.operator+d(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(d).join(",")+"}"},Property:function(t){f+=1;var n=d(t.key);return f-=1,n+":"+d(t.value)}};function g(t){var n={code:d(t),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},n}return g.functions=a,g.constants=r,g}(bD);function AD(t,n,e){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(null,t.concat(n));return e&&e.functions?r.bind(e.functions):r}function MD(t,n){return AD(["event"],t,n)}function kD(t,n){return AD(["item","_"],t,n)}function ED(t,n,e){var r,i;for(r in e=e||{},t)i=t[r],e[r]=u(i)?i.map(function(t){return CD(t,n,e)}):CD(i,n,e);return e}function CD(t,n,e){if(!t||!o(t))return t;for(var r,i=0,a=DD.length;i<a;++i)if(r=DD[i],t.hasOwnProperty(r.key))return r.parse(t,n,e);return t}var DD=[{key:"$ref",parse:function(t,n){return n.get(t.$ref)||i("Operator not defined: "+t.$ref)}},{key:"$key",parse:function(t,n){var e="k:"+t.$key+"_"+!!t.$flat;return n.fn[e]||(n.fn[e]=st(t.$key,t.$flat))}},{key:"$expr",parse:function(t,e,r){t.$params&&ED(t.$params,e,r);var i="e:"+t.$expr+"_"+t.$name;return e.fn[i]||(e.fn[i]=n(function(t,n){return AD(["datum","_"],t,n)}(t.$expr,e),t.$fields,t.$name))}},{key:"$field",parse:function(t,n){if(!t.$field)return null;var e="f:"+t.$field+"_"+t.$name;return n.fn[e]||(n.fn[e]=c(t.$field,t.$name))}},{key:"$encode",parse:function(t,e){var r,i,a=t.$encode,u={};for(r in a)i=a[r],u[r]=n(kD(i.$expr,e),i.$fields),u[r].output=i.$output;return u}},{key:"$compare",parse:function(t,n){var e="c:"+t.$compare+"_"+t.$order,r=W(t.$compare).map(function(t){return t&&t.$tupleid?Et:t});return n.fn[e]||(n.fn[e]=G(r,t.$order))}},{key:"$context",parse:function(t,n){return n}},{key:"$subflow",parse:function(t,n){var e=t.$subflow;return function(t,r,i){var a=OD(e,n.fork()),u=a.get(e.operators[0].id),o=a.signals.parent;return o&&o.set(i),u}}},{key:"$tupleid",parse:function(){return Et}}];function FD(t){return(t+"").toLowerCase()}function SD(t,n){"operator"!==FD(t.type)&&t.type?n.transform(t,t.type):n.operator(t,t.update?function(t,n){return AD(["_"],t,n)}(t.update,n):null)}function BD(t,n){var e=o(e=t.source)?e.$ref:e,r=n.get(e),a=null,u=t.update,s=void 0;r||i("Source not defined: "+t.source),a=t.target&&t.target.$expr?MD(t.target.$expr,n):n.get(t.target),u&&u.$expr&&(u.$params&&(s=ED(u.$params,n)),u=function(t,n){return AD(["_","event"],t,n)}(u.$expr,n)),n.update(t,r,a,u,s)}function OD(t,n){var e=t.operators||[];return t.background&&(n.background=t.background),t.eventConfig&&(n.eventConfig=t.eventConfig),e.forEach(function(t){SD(t,n)}),e.forEach(function(t){!function(t,n){if(t.params){var e=n.get(t.id);e||i("Invalid operator id: "+t.id),n.dataflow.connect(e,e.parameters(ED(t.params,n),t.react,t.initonly))}}(t,n)}),(t.streams||[]).forEach(function(t){!function(t,n){var e,r=null!=t.filter?MD(t.filter,n):void 0,a=null!=t.stream?n.get(t.stream):void 0;t.source?a=n.events(t.source,t.type,r):t.merge&&(a=(e=t.merge.map(n.get.bind(n)))[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map(n.get.bind(n)),a=a.between(e[0],e[1])),t.filter&&(a=a.filter(r)),null!=t.throttle&&(a=a.throttle(+t.throttle)),null!=t.debounce&&(a=a.debounce(+t.debounce)),null==a&&i("Invalid stream definition: "+JSON.stringify(t)),t.consume&&a.consume(!0),n.stream(t,a)}(t,n)}),(t.updates||[]).forEach(function(t){BD(t,n)}),n.resolve()}var zD={skip:!0};function ND(t,n,e){return new TD(t,n,e)}function TD(t,n,e){this.dataflow=t,this.transforms=n,this.events=t.events.bind(t),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},e&&(this.functions=Object.create(e),this.functions.context=this)}function RD(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.functions=t.functions,this.events=t.events,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}TD.prototype=RD.prototype={fork:function(){var t=new RD(this);return(this.subcontext||(this.subcontext=[])).push(t),t},get:function(t){return this.nodes[t]},set:function(t,n){return this.nodes[t]=n},add:function(t,n){var e,r=this,i=r.dataflow;if(r.set(t.id,n),"collect"===FD(t.type)&&(e=t.value)&&(e.$ingest?i.ingest(n,e.$ingest,e.$format):e.$request?i.preload(n,e.$request,e.$format):i.pulse(n,i.changeset().insert(e))),t.root&&(r.root=n),t.parent){var a=r.get(t.parent.$ref);a?(i.connect(a,[n]),n.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(t.parent.$ref),i.connect(a,[n]),n.targets().add(a)})}if(t.signal&&(r.signals[t.signal]=n),t.scale&&(r.scales[t.scale]=n),t.data)for(var u in t.data)e=r.data[u]||(r.data[u]={}),t.data[u].forEach(function(t){e[t]=n})},resolve:function(){return(this.unresolved||[]).forEach(function(t){t()}),delete this.unresolved,this},operator:function(t,n){this.add(t,this.dataflow.add(t.value,n))},transform:function(t,n){this.add(t,this.dataflow.add(this.transforms[FD(n)]))},stream:function(t,n){this.set(t.id,n)},update:function(t,n,e,r,i){this.dataflow.on(n,e,r,i,t.options)},getState:function(t){var n=this,e={};if(t.signals){var r=e.signals={};Object.keys(n.signals).forEach(function(e){var i=n.signals[e];t.signals(e,i)&&(r[e]=i.value)})}if(t.data){var i=e.data={};Object.keys(n.data).forEach(function(e){var r=n.data[e];t.data(e,r)&&(i[e]=r.input.value)})}return n.subcontext&&!1!==t.recurse&&(e.subcontext=n.subcontext.map(function(n){return n.getState(t)})),e},setState:function(t){var n=this,e=n.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach(function(t){e.update(n.signals[t],i[t],zD)}),Object.keys(r||{}).forEach(function(t){e.pulse(n.data[t].input,e.changeset().remove(m).insert(r[t]))}),(t.subcontext||[]).forEach(function(t,e){var r=n.subcontext[e];r&&r.setState(t)})}};var PD="width",LD="height",qD="padding",UD={skip:!0};function jD(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===qD?r.left+r.right:0)}function $D(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===qD?r.top+r.bottom:0)}function ID(t,n){return n.modified&&u(n.input.value)&&t.indexOf("_:vega:_")}function WD(t,n){return!("parent"===t||n instanceof Wr.proxy)}function HD(t,n,e,r){var i=t.element();i&&i.setAttribute("title",function(t){return null==t?"":u(t)?YD(t):o(t)&&!at(t)?(n=t,Object.keys(n).map(function(t){var e=n[t];return t+": "+(u(e)?YD(e):GD(e))}).join("\n")):t+"";var n}(r))}function YD(t){return"["+t.map(GD).join(", ")+"]"}function GD(t){return u(t)?"[â€¦]":o(t)&&!at(t)?"{â€¦}":t}function VD(t,n){n=n||{},qr.call(this),n.loader&&this.loader(n.loader),n.logger&&this.logger(n.logger),null!=n.logLevel&&this.logLevel(n.logLevel),this._el=null,this._elBind=null,this._renderType=n.renderer||wf.Canvas,this._scenegraph=new Ac;var e=this._scenegraph.root;this._renderer=null,this._tooltip=n.tooltip||HD,this._redraw=!0,this._handler=(new Lc).scene(e),this._preventDefault=!1,this._timers=[],this._eventListeners=[],this._resizeListeners=[];var r,i,a=function(t,n,e){return OD(n,ND(t,Wr,e||gD))}(this,t,n.functions);this._runtime=a,this._signals=a.signals,this._bind=(t.bindings||[]).map(function(t){return{state:null,param:Z({},t)}}),a.root&&a.root.set(e),e.source=a.data.root.input,this.pulse(a.data.root.input,this.changeset().insert(e.items)),this._background=n.background||a.background||null,this._eventConfig=(r=a.eventConfig,(i=(r=Z({},r)).defaults)&&(u(i.prevent)&&(i.prevent=yt(i.prevent)),u(i.allow)&&(i.allow=yt(i.allow))),r),this._width=this.width(),this._height=this.height(),this._viewWidth=jD(this,this._width),this._viewHeight=$D(this,this._height),this._origin=[0,0],this._resize=0,this._autosize=1,function(t){var n=t._signals,e=n[PD],r=n[LD],i=n[qD];function a(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,function(n){t._width=n.size,t._viewWidth=jD(t,n.size),a()},{size:e}),t._resizeHeight=t.add(null,function(n){t._height=n.size,t._viewHeight=$D(t,n.size),a()},{size:r});var u=t.add(null,a,{pad:i});t._resizeWidth.rank=e.rank+1,t._resizeHeight.rank=r.rank+1,u.rank=i.rank+1}(this),fk(this),n.hover&&this.hover(),n.container&&this.initialize(n.container,n.bind)}var XD=et(VD,qr);function ZD(t,n){return t._signals.hasOwnProperty(n)?t._signals[n]:i("Unrecognized signal name: "+l(n))}function JD(t,n){var e=(t._targets||[]).filter(function(t){var e=t._update;return e&&e.handler===n});return e.length?e[0]:null}function QD(t,n,e,r){var i=JD(e,r);return i||((i=Lk(this,function(){r(n,e.value)})).handler=r,t.on(e,null,i)),t}function KD(t,n,e){var r=JD(n,e);return r&&n._targets.remove(r),t}function tF(t){return+t||0}XD.evaluate=async function(t,n,e){if(await qr.prototype.evaluate.call(this,t,n),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,i=mk(r=this),a=pk(r),u=gk(r),r._renderer.background(r._background),r._renderer.resize(a,u,i),r._handler.origin(i),r._resizeListeners.forEach(function(t){try{t(a,u)}catch(t){r.error(t)}})),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(t){this.error(t)}var r,i,a,u;return e&&wt(this,e),this},XD.dirty=function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},XD.container=function(){return this._el},XD.scenegraph=function(){return this._scenegraph},XD.origin=function(){return this._origin.slice()},XD.signal=function(t,n,e){var r=ZD(this,t);return 1===arguments.length?r.value:this.update(r,n,e)},XD.background=function(t){return arguments.length?(this._background=t,this._resize=1,this):this._background},XD.width=function(t){return arguments.length?this.signal("width",t):this.signal("width")},XD.height=function(t){return arguments.length?this.signal("height",t):this.signal("height")},XD.padding=function(t){return arguments.length?this.signal("padding",t):this.signal("padding")},XD.autosize=function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},XD.renderer=function(t){return arguments.length?(Mf(t)||i("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},XD.tooltip=function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},XD.loader=function(t){return arguments.length?(t!==this._loader&&(qr.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},XD.resize=function(){return this._autosize=1,this.touch(ZD(this,"autosize"))},XD._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},XD._resizeView=function(t,n,e,r,i,a){this.runAfter(function(u){var o=0;u._autosize=0,u.width()!==e&&(o=1,u.signal(PD,e,UD),u._resizeWidth.skip(!0)),u.height()!==r&&(o=1,u.signal(LD,r,UD),u._resizeHeight.skip(!0)),u._viewWidth!==t&&(u._resize=1,u._viewWidth=t),u._viewHeight!==n&&(u._resize=1,u._viewHeight=n),u._origin[0]===i[0]&&u._origin[1]===i[1]||(u._resize=1,u._origin=i),o&&u.run("enter"),a&&u.runAfter(t=>t.resize())},!1,1)},XD.addEventListener=function(t,n,e){var r=n;return e&&!1===e.trap||((r=Lk(this,n)).raw=n),this._handler.on(t,r),this},XD.removeEventListener=function(t,n){for(var e,r,i=this._handler.handlers(t),a=i.length;--a>=0;)if(r=i[a].type,e=i[a].handler,t===r&&(n===e||n===e.raw)){this._handler.off(r,e);break}return this},XD.addResizeListener=function(t){var n=this._resizeListeners;return n.indexOf(t)<0&&n.push(t),this},XD.removeResizeListener=function(t){var n=this._resizeListeners,e=n.indexOf(t);return e>=0&&n.splice(e,1),this},XD.addSignalListener=function(t,n){return QD(this,t,ZD(this,t),n)},XD.removeSignalListener=function(t,n){return KD(this,ZD(this,t),n)},XD.addDataListener=function(t,n){return QD(this,t,hk(this,t).values,n)},XD.removeDataListener=function(t,n){return KD(this,hk(this,t).values,n)},XD.preventDefault=function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},XD.timer=function(t,n){this._timers.push(function(t,n,e){var r=new hw,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?cw():+e,r.restart(function a(u){u+=i,r.restart(a,i+=n,e),t(u)},n,e),r)}(function(n){t({timestamp:Date.now(),elapsed:n})},n))},XD.events=function(t,n,e){var r,i=this,a=new It(e),u=function(e,r){i.runAsync(null,()=>{t===yk&&function(t,n){var e=t._eventConfig.defaults,r=e&&e.prevent,i=e&&e.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[n]:i?!i[n]:t.preventDefault()))}(i,n)&&e.preventDefault(),a.receive(vk(i,e,r))})};if(t===xk)i.timer(u,n);else if(t===yk)i.addEventListener(n,u,bk);else if(t===_k?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(t)),r){for(var o=0,s=r.length;o<s;++o)r[o].addEventListener(n,u);i._eventListeners.push({type:n,sources:r,handler:u})}else i.warn("Can not resolve event source: "+t);return a},XD.finalize=function(){var t,n,e,r=this._tooltip,i=this._timers,a=this._eventListeners;for(t=i.length;--t>=0;)i[t].stop();for(t=a.length;--t>=0;)for(n=(e=a[t]).sources.length;--n>=0;)e.sources[n].removeEventListener(e.type,e.handler);return r&&r.call(this,this._handler,null,null,null),this},XD.hover=function(t,n){return n=[n||"update",(t=[t||"hover"])[0]],this.on(this.events("view","mouseover",wk),Ak,Mk(t)),this.on(this.events("view","mouseout",wk),Ak,Mk(n)),this},XD.data=function(t){return hk(this,t).values.value},XD.change=dk,XD.insert=function(t,n){return dk.call(this,t,zt().insert(n))},XD.remove=function(t,n){return dk.call(this,t,zt().remove(n))},XD.scale=function(t){var n=this._runtime.scales;return n.hasOwnProperty(t)||i("Unrecognized scale or projection: "+t),n[t].value},XD.initialize=function(t,n){var e,r,i=this,a=i._renderType,u=Mf(a);return t=i._el=t?qk(i,t):null,u||i.error("Unrecognized renderer type: "+a),e=u.handler||Lc,r=t?u.renderer:u.headless,i._renderer=r?Pk(i,i._renderer,t,r):null,i._handler=function(t,n,e,r){var i=new r(t.loader(),Lk(t,t.tooltip())).scene(t.scenegraph().root).initialize(e,mk(t),t);return n&&n.handlers().forEach(function(t){i.on(t.type,t.handler)}),i}(i,i._handler,t,e),i._redraw=!0,t&&(n=n?i._elBind=qk(i,n):t.appendChild(kk("div",{class:"vega-bindings"})),i._bind.forEach(function(t){t.param.element&&(t.element=qk(i,t.param.element))}),i._bind.forEach(function(t){Sk(i,t.element||n,t)})),i},XD.toImageURL=async function(t,n){t!==wf.Canvas&&t!==wf.SVG&&t!==wf.PNG&&i("Unrecognized image type: "+t);const e=await Uk(this,t,n);return t===wf.SVG?(r=e.svg(),a=new Blob([r],{type:"image/svg+xml"}),window.URL.createObjectURL(a)):e.canvas().toDataURL("image/png");var r,a},XD.toCanvas=async function(t,n){return(await Uk(this,wf.Canvas,t,n)).canvas()},XD.toSVG=async function(t){return(await Uk(this,wf.SVG,t)).svg()},XD.getState=function(t){return this._runtime.getState(t||{data:ID,signals:WD,recurse:!0})},XD.setState=function(t){return this.runAsync(null,n=>{n._trigger=!1,n._runtime.setState(t)},t=>{t._trigger=!0}),this};var nF="outer",eF=["value","update","init","react","bind"];function rF(t,n){i(t+' for "outer" push: '+l(n))}function iF(t,n){var e=t.name;if(t.push===nF)n.signals[e]||rF("No prior signal definition",e),eF.forEach(function(n){void 0!==t[n]&&rF("Invalid property ",n)});else{var r=n.addSignal(e,t.value);!1===t.react&&(r.react=!1),t.bind&&n.addBinding(e,t.bind)}}function aF(t,n,e){var r,a,u={};try{r=function(t){Ik=0,Wk=($k=t).length,Hk=null,rC();var n=DC();if(Hk.type!==uE)throw new Error("Unexpect token after expression.");return n}(t=s(t)?t:l(t)+"")}catch(n){i("Expression parse error: "+t)}return r.visit(function(t){if(t.type===Qk){var e=t.callee.name,r=bD.visitors[e];r&&r(e,t.arguments,n,u)}}),(a=wD(r)).globals.forEach(function(t){var e=fD+t;!u.hasOwnProperty(e)&&n.getSignal(t)&&(u[e]=n.signalRef(t))}),{$expr:e?e+"return("+a.code+");":a.code,$fields:a.fields,$params:u}}function uF(t,n,e,r){this.id=-1,this.type=t,this.value=n,this.params=e,r&&(this.parent=r)}function oF(t,n,e,r){return new uF(t,n,e,r)}function sF(t,n){return oF("operator",t,n)}function lF(t){var n={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(n),n}var cF={$tupleid:1,toString:function(){return":_tupleid_:"}};function fF(t,n){return n?{$field:t,$name:n}:{$field:t}}var hF=fF("key");function dF(t,n){return{$compare:t,$order:n}}var pF="descending";function gF(t,n){return(t&&t.signal?"$"+t.signal:t||"")+(t&&n?"_":"")+(n&&n.signal?"$"+n.signal:n||"")}var mF="scope",vF="view";function yF(t){return t&&t.signal}function xF(t){if(yF(t))return!0;if(o(t))for(var n in t)if(xF(t[n]))return!0;return!1}function _F(t,n){return null!=t?t:n}function bF(t){return t&&t.signal||t}var wF="timer";function AF(t,n){return(t.merge?MF:t.stream?kF:t.type?EF:i("Invalid stream specification: "+l(t)))(t,n)}function MF(t,n){var e=CF({merge:t.merge.map(t=>AF(t,n))},t,n);return n.addStream(e).id}function kF(t,n){var e=CF({stream:AF(t.stream,n)},t,n);return n.addStream(e).id}function EF(t,n){var e,r,i;return t.type===wF?(e=n.event(wF,t.throttle),t={between:t.between,filter:t.filter}):e=n.event((i=t.source)===mF?vF:i||vF,t.type),r=CF({stream:e},t,n),1===Object.keys(r).length?e:n.addStream(r).id}function CF(t,n,e){var r,a,u,o,s=n.between;return s&&(2!==s.length&&i('Stream "between" parameter must have 2 entries: '+l(n)),t.between=[AF(s[0],e),AF(s[1],e)]),s=n.filter?[].concat(n.filter):[],(n.marktype||n.markname||n.markrole)&&s.push((r=n.marktype,a=n.markname,u=n.markrole,(o="event.item")+(r&&"*"!==r?"&&"+o+".mark.marktype==='"+r+"'":"")+(u?"&&"+o+".mark.role==='"+u+"'":"")+(a?"&&"+o+".mark.name==='"+a+"'":""))),n.source===mF&&s.push("inScope(event.item)"),s.length&&(t.filter=aF("("+s.join(")&&(")+")").$expr),null!=(s=n.throttle)&&(t.throttle=+s),null!=(s=n.debounce)&&(t.debounce=+s),n.consume&&(t.consume=!0),t}var DF,FF,SF="view",BF="[",OF="]",zF="{",NF="}",TF=":",RF=",",PF="@",LF=">",qF=/[[\]{}]/,UF={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function jF(t,n,e,r,i){for(var a,u=0,o=t.length;n<o;++n){if(a=t[n],!u&&a===e)return n;i&&i.indexOf(a)>=0?--u:r&&r.indexOf(a)>=0&&++u}return n}function $F(t){for(var n=[],e=0,r=t.length,i=0;i<r;)i=jF(t,i,RF,BF+zF,OF+NF),n.push(t.substring(e,i).trim()),e=++i;if(0===n.length)throw"Empty event selector: "+t;return n}function IF(t){return"["===t[0]?function(t){var n,e,r=t.length,i=1;if((i=jF(t,i,OF,BF,OF))===r)throw"Empty between selector: "+t;if(2!==(n=$F(t.substring(1,i))).length)throw"Between selector must have two elements: "+t;if((t=t.slice(i+1).trim())[0]!==LF)throw"Expected '>' after between selector: "+t;if(n=n.map(IF),(e=IF(t.slice(1).trim())).between)return{between:n,stream:e};e.between=n;return e}(t):function(t){var n,e,r={source:DF},i=[],a=[0,0],u=0,o=0,s=t.length,l=0;if(t[s-1]===NF){if(!((l=t.lastIndexOf(zF))>=0))throw"Unmatched right brace: "+t;try{a=function(t){var n=t.split(RF);if(!t.length||n.length>2)throw t;return n.map(function(n){var e=+n;if(e!=e)throw t;return e})}(t.substring(l+1,s-1))}catch(n){throw"Invalid throttle specification: "+t}t=t.slice(0,l).trim(),s=t.length,l=0}if(!s)throw t;t[0]===PF&&(u=++l);(n=jF(t,l,TF))<s&&(i.push(t.substring(o,n).trim()),o=l=++n);if((l=jF(t,l,BF))===s)i.push(t.substring(o,s).trim());else if(i.push(t.substring(o,l).trim()),e=[],(o=++l)===s)throw"Unmatched left bracket: "+t;for(;l<s;){if((l=jF(t,l,OF))===s)throw"Unmatched left bracket: "+t;if(e.push(t.substring(o,l).trim()),l<s-1&&t[++l]!==BF)throw"Expected left bracket: "+t;o=++l}if(!(s=i.length)||qF.test(i[s-1]))throw"Invalid event selector: "+t;s>1?(r.type=i[1],u?r.markname=i[0].slice(1):(c=i[0],FF.hasOwnProperty(c)?r.marktype=i[0]:r.source=i[0])):r.type=i[0];var c;"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=e&&(r.filter=e);a[0]&&(r.throttle=a[0]);a[1]&&(r.debounce=a[1]);return r}(t)}var WF="var datum=event.item&&event.item.datum;";function HF(t,n,e){var r=t.events,a=t.update,u=t.encode,o=[],c={target:e};r||i("Signal update missing events specification."),s(r)&&(r=function(t,n,e){return DF=n||SF,FF=e||UF,$F(t.trim()).map(IF)}(r,n.isSubscope()?mF:vF)),r=W(r).filter(t=>t.signal||t.scale?(o.push(t),0):1),o.length>1&&(o=[YF(o)]),r.length&&o.push(r.length>1?{merge:r}:r[0]),null!=u&&(a&&i("Signal encode and update are mutually exclusive."),a="encode(item(),"+l(u)+")"),c.update=s(a)?aF(a,n,WF):null!=a.expr?aF(a.expr,n,WF):null!=a.value?a.value:null!=a.signal?{$expr:"_.value",$params:{value:n.signalRef(a.signal)}}:i("Invalid signal update specification."),t.force&&(c.options={force:!0}),o.forEach(function(t){n.addUpdate(Z(function(t,n){return{source:t.signal?n.signalRef(t.signal):t.scale?n.scaleRef(t.scale):AF(t,n)}}(t,n),c))})}function YF(t){return{signal:"["+t.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function GF(t){return function(n,e,r){return oF(t,e,n||void 0,r)}}var VF=GF("aggregate"),XF=GF("axisticks"),ZF=GF("bound"),JF=GF("collect"),QF=GF("compare"),KF=GF("datajoin"),tS=GF("encode"),nS=GF("expression"),eS=GF("facet"),rS=GF("field"),iS=GF("key"),aS=GF("legendentries"),uS=GF("load"),oS=GF("mark"),sS=GF("multiextent"),lS=GF("multivalues"),cS=GF("overlap"),fS=GF("params"),hS=GF("prefacet"),dS=GF("projection"),pS=GF("proxy"),gS=GF("relay"),mS=GF("render"),vS=GF("scale"),yS=GF("sieve"),xS=GF("sortitems"),_S=GF("viewlayout"),bS=GF("values"),wS=0;function AS(t,n){var e=t.type||"linear";(function(t){switch(t){case xh:case _h:case bh:case wh:case Ah:case Mh:case kh:case Eh:case Ch:case Fh:case Sh:case Bh:case Oh:case zh:case Nh:case Th:return!0}return!1})(e)||i("Unrecognized scale type: "+l(e)),n.addScale(t.name,{type:e,domain:void 0})}function MS(t,n){var e,r,a=n.getScale(t.name).params;for(e in a.domain=DS(t.domain,t,n),null!=t.range&&(a.range=function t(n,e,r){var a=n.range,o=e.config.range;if(a.signal)return e.signalRef(a.signal);if(s(a)){if(o&&o.hasOwnProperty(a))return n=Z({},n,{range:o[a]}),t(n,e,r);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=Uh(n.type)?[0,{signal:"height"}]:[{signal:"height"},0]:i("Unrecognized scale range value: "+l(a))}else{if(a.scheme)return r.scheme=u(a.scheme)?ES(a.scheme,e):kS(a.scheme,e),a.extent&&(r.schemeExtent=ES(a.extent,e)),void(a.count&&(r.schemeCount=kS(a.count,e)));if(a.step)return void(r.rangeStep=kS(a.step,e));if(Uh(n.type)&&!u(a))return DS(a,n,e);u(a)||i("Unsupported range type: "+l(a))}return a.map(t=>(u(t)?ES:kS)(t,e))}(t,n,a)),null!=t.interpolate&&function(t,n){n.interpolate=kS(t.type||t),null!=t.gamma&&(n.interpolateGamma=kS(t.gamma))}(t.interpolate,a),null!=t.nice&&(a.nice=o(r=t.nice)?{interval:kS(r.interval),step:kS(r.step)}:kS(r)),null!=t.bins&&(a.bins=function(t,n){return t.signal||u(t)?ES(t,n):n.objectProperty(t)}(t.bins,n)),t)a.hasOwnProperty(e)||"name"===e||(a[e]=kS(t[e],n))}function kS(t,n){return o(t)?t.signal?n.signalRef(t.signal):i("Unsupported object: "+l(t)):t}function ES(t,n){return t.signal?n.signalRef(t.signal):t.map(t=>kS(t,n))}function CS(t){i("Can not find data set: "+l(t))}function DS(t,n,e){if(t)return t.signal?e.signalRef(t.signal):(u(t)?function(t,n,e){return t.map(function(t){return kS(t,e)})}:t.fields?function(t,n,e){var r=t.data,i=t.fields.reduce(function(t,n){return n=s(n)?{data:r,field:n}:u(n)||n.signal?function(t,n){var e="_:vega:_"+wS++,r=JF({});if(u(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+l(e)+","+t.signal+")";r.params.input=n.signalRef(i)}return n.addDataPipeline(e,[r,yS({})]),{data:e,field:"data"}}(n,e):n,t.push(n),t},[]);return(Uh(n.type)?function(t,n,e){var r,i,a,u;return r=e.map(function(t){var e=n.getData(t.data);return e||CS(t.data),e.countsRef(n,t.field)}),i=n.add(VF({groupby:hF,ops:["sum"],fields:[n.fieldRef("count")],as:["count"],pulse:r})),a=n.add(JF({pulse:lF(i)})),u=n.add(bS({field:hF,sort:n.sortRef(FS(t.sort,!0)),pulse:lF(a)})),lF(u)}:Rh(n.type)?function(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||CS(t.data),e.domainRef(n,t.field)});return lF(n.add(lS({values:r})))}:function(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||CS(t.data),e.extentRef(n,t.field)});return lF(n.add(sS({extents:r})))})(t,e,i)}:function(t,n,e){var r=e.getData(t.data);r||CS(t.data);return Uh(n.type)?r.valuesRef(e,t.field,FS(t.sort,!1)):Rh(n.type)?r.domainRef(e,t.field):r.extentRef(e,t.field)})(t,n,e);null==n.domainMin&&null==n.domainMax||i("No scale domain defined for domainMin/domainMax to override.")}function FS(t,n){return t&&(t.field||t.op?t.field||"count"===t.op?n&&t.field?i("Multiple domain scales can not sort by field."):n&&t.op&&"count"!==t.op&&i("Multiple domain scales support op count only."):i("No field provided for sort aggregate op: "+t.op):o(t)?t.field="key":t={field:"key"}),t}function SS(t,n,e){return u(t)?t.map(function(t){return SS(t,n,e)}):o(t)?t.signal?e.signalRef(t.signal):"fit"===n?t:i("Unsupported parameter object: "+l(t)):t}const BS="top",OS="left",zS="right",NS="bottom",TS="vertical",RS="start",PS="end",LS="index",qS="label",US="offset",jS="perc",$S="perc2",IS="size",WS="value",HS="guide-label",YS="guide-title",GS="group-title",VS="symbol",XS="gradient",ZS="discrete",JS=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],QS={name:1,interactive:1},KS={value:0},tB={value:1};var nB=yt(["rule"]),eB=yt(["group","image","rect"]);function rB(t,n,e,r){var i=aF(t,n);return i.$fields.forEach(function(t){r[t]=1}),Z(e,i.$params),i.$expr}function iB(t,n,e,r){return function t(n,e,r,u){var o,c,f;if(n.signal)o="datum",f=rB(n.signal,e,r,u);else if(n.group||n.parent){for(c=Math.max(1,n.level||1),o="item";c-- >0;)o+=".mark.group";n.parent?(f=n.parent,o+=".datum"):f=n.group}else n.datum?(o="datum",f=n.datum):i("Invalid field reference: "+l(n));n.signal||(s(f)?(u[f]=1,f=a(f).map(l).join("][")):f=t(f,e,r,u));return o+"["+f+"]"}(o(t)?t:{datum:t},n,e,r)}function aB(t,n,e,r,i){var a,u,o,l=uB(t.scale,e,r,i);return null!=t.range?(u=l+".range()",n=0===(a=+t.range)?u+"[0]":"($="+u+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==n&&(n=l+"("+n+")"),t.band&&(o=function(t,n){if(!s(t))return-1;var e=n.scaleType(t);return"band"===e||"point"===e?1:0}(t.scale,e))&&(a=(u=l+".bandwidth")+"()"+(1===(a=+t.band)?"":"*"+a),o<0&&(a="("+u+"?"+a+":0)"),n=(n?n+"+":"")+a,t.extra&&(n="(datum.extra?"+l+"(datum.extra.value):"+n+")")),null==n&&(n="0")),n}function uB(t,n,e,r){var i;if(s(t))i=cD+t,e.hasOwnProperty(i)||(e[i]=n.scaleRef(t)),i=l(i);else{for(i in n.scales)e[cD+i]=n.scaleRef(i);i=l(cD)+"+"+(t.signal?"("+rB(t.signal,n,e,r)+")":iB(t,n,e,r))}return"_["+i+"]"}function oB(t,n,e,r){return o(t)?"("+sB(null,t,n,e,r)+")":t}function sB(t,n,e,r,i){if(null!=n.gradient)return function(t,n,e,r){return"this.gradient("+uB(t.gradient,n,e,r)+","+l(t.start)+","+l(t.stop)+","+l(t.count)+")"}(n,e,r,i);var a=n.signal?rB(n.signal,e,r,i):n.color?function(t,n,e,r){function i(t,i,a,u){return"this."+t+"("+[sB(null,i,n,e,r),sB(null,a,n,e,r),sB(null,u,n,e,r)].join(",")+").toString()"}return t.c?i("hcl",t.h,t.c,t.l):t.h||t.s?i("hsl",t.h,t.s,t.l):t.l||t.a?i("lab",t.l,t.a,t.b):t.r||t.g||t.b?i("rgb",t.r,t.g,t.b):null}(n.color,e,r,i):null!=n.field?iB(n.field,e,r,i):void 0!==n.value?l(n.value):void 0;return null!=n.scale&&(a=aB(n,a,e,r,i)),void 0===a&&(a=null),null!=n.exponent&&(a="Math.pow("+a+","+oB(n.exponent,e,r,i)+")"),null!=n.mult&&(a+="*"+oB(n.mult,e,r,i)),null!=n.offset&&(a+="+"+oB(n.offset,e,r,i)),n.round&&(a="Math.round("+a+")"),a}function lB(t,n,e){const r=t+"["+l(n)+"]";return`$=${e};if(${r}!==$)${r}=$,m=1;`}function cB(t,n,e,r,i){var a="";return n.forEach(function(t){var n=sB(0,t,e,r,i);a+=t.test?rB(t.test,e,r,i)+"?"+n+":":n}),":"===k(a)&&(a+="null"),lB("o",t,a)}function fB(t,n,e,r){var i,a,o={},s="var o=item,datum=o.datum,m=0,$;";for(i in t)a=t[i],u(a)?s+=cB(i,a,r,e,o):s+=lB("o",i,sB(0,a,r,e,o));return s+=function(t,n){var e="";return nB[n]?e:(t.x2&&(t.x?(eB[n]&&(e+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),e+="o.width=o.x2-o.x;"):e+="o.x=o.x2-(o.width||0);"),t.xc&&(e+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(eB[n]&&(e+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),e+="o.height=o.y2-o.y;"):e+="o.y=o.y2-(o.height||0);"),t.yc&&(e+="o.y=o.yc-(o.height||0)/2;"),e)}(t,n),{$expr:s+="return m;",$fields:Object.keys(o),$output:Object.keys(t)}}var hB="mark",dB="frame",pB="scope",gB="axis",mB="axis-domain",vB="axis-grid",yB="axis-label",xB="axis-tick",_B="axis-title",bB="legend",wB="legend-band",AB="legend-entry",MB="legend-gradient",kB="legend-label",EB="legend-symbol",CB="legend-title",DB="title";function FB(t){return o(t)?Z({},t):{value:t}}function SB(t,n,e,r){return null!=e?(o(e)&&!u(e)?t.update[n]=e:t[r||"enter"][n]={value:e},1):0}function BB(t,n,e){for(let e in n)SB(t,e,n[e]);for(let n in e)SB(t,n,e[n],"update")}function OB(t,n,e){for(var r in n)e&&e.hasOwnProperty(r)||(t[r]=Z(t[r]||{},n[r]));return t}function zB(t,n,e,r,i,a){var u,o;for(o in(a=a||{}).encoders={$encode:u={}},t=function(t,n,e,r,i){var a,u,o={};"legend"!=e&&0!==String(e).indexOf("axis")||(e=null);for(a in u=e===dB?i.group:e===hB?Z({},i.mark,i[n]):null)TB(a,t)||("fill"===a||"stroke"===a)&&(TB("fill",t)||TB("stroke",t))||(o[a]=NB(u[a]));return W(r).forEach(function(n){var e=i.style&&i.style[n];for(var r in e)TB(r,t)||(o[r]=NB(e[r]))}),(t=Z({},t)).enter=Z(o,t.enter),t}(t,n,e,r,i.config))u[o]=fB(t[o],n,a,i);return a}function NB(t){return t&&t.signal?{signal:t.signal}:{value:t}}function TB(t,n){return n&&(n.enter&&n.enter[t]||n.update&&n.update[t])}function RB(t,n,e,r,i,a,u){return{type:t,name:u?u.name:void 0,role:n,style:u&&u.style||e,key:r,from:i,interactive:!(!u||!u.interactive),encode:OB(a,u,QS)}}function PB(t,n){const e=e=>_F(t[e],n[e]);return e.isVertical=(e=>TS===_F(t.direction,n.direction||(e?n.symbolDirection:n.gradientDirection))),e.gradientLength=(()=>_F(t.gradientLength,n.gradientLength||n.gradientWidth)),e.gradientThickness=(()=>_F(t.gradientThickness,n.gradientThickness||n.gradientHeight)),e.entryColumns=(()=>_F(t.columns,_F(n.columns,+e.isVertical(!0)))),e}function LB(t,n){var e=n&&(n.update&&n.update[t]||n.enter&&n.enter[t]);return e&&e.signal?e:e?e.value:null}function qB(t,n,e){return`item.anchor === "${RS}" ? ${t} : item.anchor === "${PS}" ? ${n} : ${e}`}const UB=qB(l(OS),l(zS),l("center"));var jB="group",$B="rect",IB="rule",WB="symbol",HB="text";function YB(t,n,e,r){var i,a,u,o,s,l,c=PB(t,e),f=c.isVertical(),h=c.gradientThickness(),d=c.gradientLength();return f?(u=[0,1],o=[0,0],s=h,l=d):(u=[0,0],o=[1,0],s=d,l=h),BB(i={enter:a={opacity:KS,x:KS,y:KS,width:FB(s),height:FB(l)},update:Z({},a,{opacity:tB,fill:{gradient:n,start:u,stop:o}}),exit:{opacity:KS}},{stroke:c("gradientStrokeColor"),strokeWidth:c("gradientStrokeWidth")},{opacity:c("gradientOpacity")}),RB($B,MB,null,void 0,void 0,i,r)}function GB(t,n,e,r,i){var a,u,o,s,l,c,f=PB(t,e),h=f.isVertical(),d=f.gradientThickness(),p=f.gradientLength(),g="";return h?(o="y",l="y2",s="x",c="width",g="1-"):(o="x",l="x2",s="y",c="height"),(u={opacity:KS,fill:{scale:n,field:WS}})[o]={signal:g+"datum."+jS,mult:p},u[s]=KS,u[l]={signal:g+"datum."+$S,mult:p},u[c]=FB(d),BB(a={enter:u,update:Z({},u,{opacity:tB}),exit:{opacity:KS}},{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),RB($B,wB,null,WS,i,a,r)}const VB=`datum.${jS}<=0?"${OS}":datum.${jS}>=1?"${zS}":"center"`,XB=`datum.${jS}<=0?"${NS}":datum.${jS}>=1?"${BS}":"middle"`;function ZB(t,n,e,r){var i,a,u,o,s,l=PB(t,n),c=l.isVertical(),f=FB(l.gradientThickness()),h=l.gradientLength(),d=l("labelOverlap"),p=l("labelSeparation"),g="";return BB(i={enter:a={opacity:KS},update:u={opacity:tB,text:{field:qS}},exit:{opacity:KS}},{fill:l("labelColor"),fillOpacity:l("labelOpacity"),font:l("labelFont"),fontSize:l("labelFontSize"),fontStyle:l("labelFontStyle"),fontWeight:l("labelFontWeight"),limit:_F(t.labelLimit,n.gradientLabelLimit)}),c?(a.align={value:"left"},a.baseline=u.baseline={signal:XB},o="y",s="x",g="1-"):(a.align=u.align={signal:VB},a.baseline={value:"top"},o="x",s="y"),a[o]=u[o]={signal:g+"datum."+jS,mult:h},a[s]=u[s]=f,f.offset=_F(t.labelOffset,n.gradientLabelOffset)||0,t=RB(HB,kB,HS,WS,r,i,e),d&&(t.overlap={separation:p,method:d,order:"datum."+LS}),t}function JB(t,n,e,r,i,a,u,o){return{type:jB,name:e,role:t,style:n,from:r,interactive:i||!1,encode:a,marks:u,layout:o}}function QB(t,n,e,r,i){var a,u,o,s,l,c,f,h=PB(t,n),d=e.entries,p=!(!d||!d.interactive),g=d?d.name:void 0,m=h("clipHeight"),v=h("symbolOffset"),y={data:"value"},x={},_=`${i} ? datum.${US} : datum.${IS}`,b=m?FB(m):{field:IS},w=`datum.${LS}`,A=`max(1, ${i})`;return b.mult=.5,x={enter:a={opacity:KS,x:{signal:_,mult:.5,offset:v},y:b},update:u={opacity:tB,x:a.x,y:a.y},exit:{opacity:KS}},t.fill||BB(x,{fill:n.symbolBaseFillColor,stroke:n.symbolBaseStrokeColor}),BB(x,{fill:h("symbolFillColor"),shape:h("symbolType"),size:h("symbolSize"),stroke:h("symbolStrokeColor"),strokeDash:h("symbolDash"),strokeDashOffset:h("symbolDashOffset"),strokeWidth:h("symbolStrokeWidth")},{opacity:h("symbolOpacity")}),JS.forEach(function(n){t[n]&&(u[n]=a[n]={scale:t[n],field:WS})}),s=RB(WB,EB,null,WS,y,x,e.symbols),m&&(s.clip=!0),(o=FB(v)).offset=h("labelOffset"),BB(x={enter:a={opacity:KS,x:{signal:_,offset:o},y:b},update:u={opacity:tB,text:{field:qS},x:a.x,y:a.y},exit:{opacity:KS}},{align:h("labelAlign"),baseline:h("labelBaseline"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontStyle:h("labelFontStyle"),fontWeight:h("labelFontWeight"),limit:h("labelLimit")}),l=RB(HB,kB,HS,WS,y,x,e.labels),x={enter:{noBound:{value:!m},width:KS,height:m?FB(m):KS,opacity:KS},exit:{opacity:KS},update:u={opacity:tB,row:{signal:null},column:{signal:null}}},h.isVertical(!0)?(c=`ceil(item.mark.items.length / ${A})`,u.row.signal=`${w}%${c}`,u.column.signal=`floor(${w} / ${c})`,f={field:["row",w]}):(u.row.signal=`floor(${w} / ${A})`,u.column.signal=`${w} % ${A}`,f={field:w}),u.column.signal=`${i}?${u.column.signal}:${w}`,(t=JB(pB,null,g,r={facet:{data:r,name:"value",groupby:LS}},p,OB(x,d,QS),[s,l])).sort=f,t}const KB='item.orient === "left"',tO='item.orient === "right"',nO=`(${KB} || ${tO})`,eO=`datum.vgrad && ${nO}`,rO=qB('"top"','"bottom"','"middle"'),iO=`datum.vgrad && ${tO} ? (${qB('"right"','"left"','"center"')}) : (${nO} && !(datum.vgrad && ${KB})) ? "left" : ${UB}`,aO=`item._anchor || (${nO} ? "middle" : "start")`,uO=`${eO} ? (${KB} ? -90 : 90) : 0`,oO=`${nO} ? (datum.vgrad ? (${tO} ? "bottom" : "top") : ${rO}) : "top"`;function sO(t,n){var e;return o(t)&&(t.signal?e=t.signal:t.path?e="pathShape("+lO(t.path)+")":t.sphere&&(e="geoShape("+lO(t.sphere)+', {type: "Sphere"})')),e?n.signalRef(e):!!t}function lO(t){return o(t)&&t.signal?t.signal:l(t)}function cO(t){var n=t.role||"";return n.indexOf("axis")&&n.indexOf("legend")?t.type===jB?pB:n||hB:n}function fO(t){return{marktype:t.type,name:t.name||void 0,role:t.role||cO(t),zindex:+t.zindex||void 0}}function hO(t,n){return t&&t.signal?n.signalRef(t.signal):!1!==t}function dO(t,n){var e=Hr(t.type);e||i("Unrecognized transform type: "+l(t.type));var r=oF(e.type.toLowerCase(),null,pO(e,t,n));return t.signal&&n.addSignal(t.signal,n.proxy(r)),r.metadata=e.metadata||{},r}function pO(t,n,e){var r,i,a,u={};for(i=0,a=t.params.length;i<a;++i)u[(r=t.params[i]).name]=gO(r,n,e);return u}function gO(t,n,e){var r=t.type,a=n[t.name];return"index"===r?function(t,n,e){s(n.from)||i('Lookup "from" parameter must be a string literal.');return e.getData(n.from).lookupRef(e,n.key)}(0,n,e):void 0!==a?"param"===r?function(t,n,e){var r=n[t.name];return t.array?(u(r)||i("Expected an array of sub-parameters. Instead: "+l(r)),r.map(function(n){return vO(t,n,e)})):vO(t,r,e)}(t,n,e):"projection"===r?e.projectionRef(n[t.name]):t.array&&!yF(a)?a.map(function(n){return mO(t,n,e)}):mO(t,a,e):void(t.required&&i("Missing required "+l(n.type)+" parameter: "+l(t.name)))}function mO(t,n,e){var r=t.type;if(yF(n))return yO(r)?i("Expression references can not be signals."):xO(r)?e.fieldRef(n):_O(r)?e.compareRef(n):e.signalRef(n.signal);var a,u=t.expr||xO(r);return u&&((a=n)&&a.expr)?e.exprRef(n.expr,n.as):u&&function(t){return t&&t.field}(n)?fF(n.field,n.as):yO(r)?aF(n,e):function(t){return"data"===t}(r)?lF(e.getData(n).values):xO(r)?fF(n):_O(r)?e.compareRef(n):n}function vO(t,n,e){var r,a,u,o,s;for(o=0,s=t.params.length;o<s;++o){for(u in(a=t.params[o]).key)if(a.key[u]!==n[u]){a=null;break}if(a)break}return a||i("Unsupported parameter: "+l(n)),r=Z(pO(a,n,e),a.key),lF(e.add(fS(r)))}function yO(t){return"expr"===t}function xO(t){return"field"===t}function _O(t){return"compare"===t}function bO(t,n){return t.$ref?t:t.data&&t.data.$ref?t.data:lF(n.getData(t.data).output)}function wO(t,n,e,r,i){this.scope=t,this.input=n,this.output=e,this.values=r,this.aggregate=i,this.index={}}wO.fromEntries=function(t,n){var e=n.length,r=1,i=n[0],a=n[e-1],u=n[e-2],o=null;for(i&&"load"===i.type&&(i=n[1]),t.add(n[0]);r<e;++r)n[r].params.pulse=lF(n[r-1]),t.add(n[r]),"aggregate"===n[r].type&&(o=n[r]);return new wO(t,i,u,a,o)};var AO=wO.prototype;function MO(t){return s(t)?t:null}function kO(t,n,e){var r,i=gF(e.op,e.field);if(n.ops){for(var a=0,u=n.as.length;a<u;++a)if(n.as[a]===i)return}else n.ops=["count"],n.fields=[null],n.as=["count"];e.op&&(n.ops.push((r=e.op.signal)?t.signalRef(r):e.op),n.fields.push(t.fieldRef(e.field)),n.as.push(i))}function EO(t,n,e,r,i,a,u){var s,l,c=n[e]||(n[e]={}),f=function(t){return o(t)?(t.order===pF?"-":"+")+gF(t.op,t.field):""}(a),h=MO(i);if(null!=h&&(t=n.scope,s=c[h+=f?"|"+f:""]),!s){var d=a?{field:hF,pulse:n.countsRef(t,i,a)}:{field:t.fieldRef(i),pulse:lF(n.output)};f&&(d.sort=t.sortRef(a)),l=t.add(oF(r,void 0,d)),u&&(n.index[i]=l),s=lF(l),null!=h&&(c[h]=s)}return s}function CO(t,n,e){var r,i=t.remove,a=t.insert,u=t.toggle,o=t.modify,s=t.values,l=n.add(sF());r=aF("if("+t.trigger+',modify("'+e+'",'+[a,i,u,o,s].map(function(t){return null==t?"null":t}).join(",")+"),0)",n),l.update=r.$expr,l.params=r.$params}function DO(t,n){var e,r,a,u,o,s,c,f,h,d,p,g,m,v,y=cO(t),x=t.type===jB,_=t.from&&t.from.facet,b=t.layout||y===pB||y===dB,w=y===hB||b||_,A=t.overlap;a=function(t,n,e){var r,a,u,o,s;return t?(r=t.facet)&&(n||i("Only group marks can be faceted."),null!=r.field?o=s=bO(r,e):(t.data?s=lF(e.getData(t.data).aggregate):((u=dO(Z({type:"aggregate",groupby:W(r.groupby)},r.aggregate),e)).params.key=e.keyRef(r.groupby),u.params.pulse=bO(r,e),o=s=lF(e.add(u))),a=e.keyRef(r.groupby,!0))):o=lF(e.add(JF(null,[{}]))),o||(o=bO(t,e)),{key:a,pulse:o,parent:s}}(t.from,x,n),d=lF(r=n.add(KF({key:a.key||(t.key?fF(t.key):void 0),pulse:a.pulse,clean:!x}))),r=u=n.add(JF({pulse:d})),r=n.add(oS({markdef:fO(t),interactive:hO(t.interactive,n),clip:sO(t.clip,n),context:{$context:!0},groups:n.lookup(),parent:n.signals.parent?n.signalRef("parent"):null,index:n.markpath(),pulse:lF(r)})),p=lF(r),(r=o=n.add(tS(zB(t.encode,t.type,y,t.style,n,{mod:!1,pulse:p})))).params.parent=n.encode(),t.transform&&t.transform.forEach(function(t){const e=dO(t,n),a=e.metadata;(a.generates||a.changes)&&i("Mark transforms should not generate new data."),a.nomod||(o.params.mod=!0),e.params.pulse=lF(r),n.add(r=e)}),t.sort&&(r=n.add(xS({sort:n.compareRef(t.sort,!0),pulse:lF(r)}))),g=lF(r),(_||b)&&(m=lF(b=n.add(_S({layout:n.objectProperty(t.layout),legends:n.legends,mark:p,pulse:g})))),v=lF(s=n.add(ZF({mark:p,pulse:m||g}))),x&&(w&&((e=n.operators).pop(),b&&e.pop()),n.pushState(g,m||v,d),_?function(t,n,e){var r,a,u,o,s=t.from.facet,c=s.name,f=bO(s,n);s.name||i("Facet must have a name: "+l(s)),s.data||i("Facet must reference a data set: "+l(s)),s.field?o=n.add(hS({field:n.fieldRef(s.field),pulse:f})):s.groupby?o=n.add(eS({key:n.keyRef(s.groupby),group:lF(n.proxy(e.parent)),pulse:f})):i("Facet must specify groupby or field: "+l(s)),a=(r=n.fork()).add(JF()),u=r.add(yS({pulse:lF(a)})),r.addData(c,new wO(r,a,a,u)),r.addSignal("parent",null),o.params.subflow={$subflow:jO(t,r).toRuntime()}}(t,n,a):w?function(t,n,e){var r=n.add(hS({pulse:e.pulse})),i=n.fork();i.add(yS()),i.addSignal("parent",null),r.params.subflow={$subflow:jO(t,i).toRuntime()}}(t,n,a):jO(t,n),n.popState(),w&&(b&&e.push(b),e.push(s))),A&&(v=function(t,n,e){var r,i=t.method,a=t.bound,u=t.separation,o={separation:yF(u)?e.signalRef(u.signal):u,method:yF(i)?e.signalRef(i.signal):i,pulse:n};t.order&&(o.sort=e.compareRef({field:t.order}));a&&(r=a.tolerance,o.boundTolerance=yF(r)?e.signalRef(r.signal):+r,o.boundScale=e.scaleRef(a.scale),o.boundOrient=a.orient);return lF(e.add(cS(o)))}(A,v,n)),c=n.add(mS({pulse:v})),f=n.add(yS({pulse:lF(c)},void 0,n.parent())),null!=t.name&&(h=t.name,n.addData(h,new wO(n,u,c,f)),t.on&&t.on.forEach(function(t){(t.insert||t.remove||t.toggle)&&i("Marks only support modify triggers."),CO(t,n,h)}))}function FO(t,n){var e,r,a,u,o,s,l,c,f,h=n.config.legend,d=t.encode||{},p=d.legend||{},g=p.name||void 0,m=p.interactive,v=p.style,y=PB(t,h),x=JS.reduce(function(n,e){return n||t[e]},0);return x||i("Missing valid scale for legend."),o=function(t,n){var e=t.type||VS;t.type||1!==function(t){return JS.reduce(function(n,e){return n+(t[e]?1:0)},0)}(t)||!t.fill&&!t.stroke||(e=qh(n)?XS:jh(n)?ZS:VS);return e!==XS?e:jh(n)?ZS:XS}(t,n.scaleType(x)),s={title:null!=t.title,type:o,vgrad:"symbol"!==o&&y.isVertical()},l=lF(n.add(JF(null,[s]))),p=OB(function(t,n){var e={enter:{},update:{}};return BB(e,{orient:t("orient"),offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:t("legendX"),y:t("legendY")}),e}(y,h),p,QS),e={enter:{x:{value:0},y:{value:0}}},c=lF(n.add(aS(a={type:o,scale:n.scaleRef(x),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatType:n.property(t.formatType),formatSpecifier:n.property(t.format)}))),o===XS?(u=[YB(t,x,h,d.gradient),ZB(t,h,d.labels,c)],a.count=a.count||n.signalRef(`max(2,2*floor((${bF(y.gradientLength())})/100))`)):o===ZS?u=[GB(t,x,h,d.gradient,c),ZB(t,h,d.labels,c)]:(r=function(t,n){const e=PB(t,n);return{align:e("gridAlign"),columns:e.entryColumns(),center:{row:!0,column:!1},padding:{row:e("rowPadding"),column:e("columnPadding")}}}(t,h),u=[QB(t,h,d,c,bF(r.columns))],a.size=function(t,n,e){var r=bF(SO("size",t,e)),i=bF(SO("strokeWidth",t,e)),a=bF(function(t,n,e){return LB("fontSize",t)||function(t,n,e){var r=n.config.style[e];return r&&r[t]}("fontSize",n,e)}(e[1].encode,n,HS));return aF(`max(ceil(sqrt(${r})+${i}),${a})`,n)}(t,n,u[0].marks)),u=[JB(AB,null,null,l,m,e,u,r)],s.title&&u.push(function(t,n,e,r){var i,a=PB(t,n);return BB(i={enter:{opacity:KS},update:{opacity:tB,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:KS}},{orient:a("titleOrient"),_anchor:a("titleAnchor"),anchor:{signal:aO},angle:{signal:uO},align:{signal:iO},baseline:{signal:oO},text:t.title,fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit")},{align:a("titleAlign"),baseline:a("titleBaseline")}),RB(HB,CB,YS,null,r,i,e)}(t,h,d.title,l)),f=JB(bB,v,g,l,m,p,u),t.zindex&&(f.zindex=t.zindex),DO(f,n)}function SO(t,n,e){return n[t]?`scale("${n[t]}",datum)`:LB(t,e[0].encode)}AO.countsRef=function(t,n,e){var r,i,a,u=this.counts||(this.counts={}),o=MO(n);return null!=o&&(t=this.scope,r=u[o]),r?e&&e.field&&kO(t,r.agg.params,e):(a={groupby:t.fieldRef(n,"key"),pulse:lF(this.output)},e&&e.field&&kO(t,a,e),i=t.add(VF(a)),r=t.add(JF({pulse:lF(i)})),r={agg:i,ref:lF(r)},null!=o&&(u[o]=r)),r.ref},AO.tuplesRef=function(){return lF(this.values)},AO.extentRef=function(t,n){return EO(t,this,"extent","extent",n,!1)},AO.domainRef=function(t,n){return EO(t,this,"domain","values",n,!1)},AO.valuesRef=function(t,n,e){return EO(t,this,"vals","values",n,e||!0)},AO.lookupRef=function(t,n){return EO(t,this,"lookup","tupleindex",n,!1)},AO.indataRef=function(t,n){return EO(t,this,"indata","tupleindex",n,!0,!0)};const BO=`item.orient==="${OS}"?-90:item.orient==="${zS}"?90:0`,OO=`item.orient==="${NS}"?"${BS}":"${NS}"`;function zO(t,n){t=s(t)?{text:t}:t;var e,r,i=n.config.title,a=Z({},t.encode);return e=lF(n.add(JF(null,[{}]))),a.name=t.name,a.interactive=t.interactive,r=function(t,n,e,r){var i,a=PB(t,n),u={value:0},o=t.text;return BB(i={enter:{opacity:u},update:{opacity:{value:1}},exit:{opacity:u}},{text:o,orient:a("orient"),anchor:a("anchor"),align:{signal:UB},angle:{signal:BO},baseline:{signal:OO},dx:a("dx"),dy:a("dy"),fill:a("color"),font:a("font"),fontSize:a("fontSize"),fontStyle:a("fontStyle"),fontWeight:a("fontWeight"),frame:a("frame"),limit:a("limit"),offset:a("offset")||0},{align:a("align"),angle:a("angle"),baseline:a("baseline")}),RB(HB,DB,t.style||GS,null,r,i,e)}(t,i,a,e),t.zindex&&(r.zindex=t.zindex),DO(r,n)}function NO(t,n){var e=[];t.transform&&t.transform.forEach(function(t){e.push(dO(t,n))}),t.on&&t.on.forEach(function(e){CO(e,n,t.name)}),n.addDataPipeline(t.name,function(t,n,e){var r,i,a,u,o,s=[],l=null,c=!1,f=!1;t.values?xF(t.values)||xF(t.format)?(s.push(RO(n,t)),s.push(l=TO())):s.push(l=TO({$ingest:t.values,$format:t.format})):t.url?xF(t.url)||xF(t.format)?(s.push(RO(n,t)),s.push(l=TO())):s.push(l=TO({$request:t.url,$format:t.format})):t.source&&(l=r=W(t.source).map(function(t){return lF(n.getData(t).output)}),s.push(null));for(i=0,a=e.length;i<a;++i)u=e[i],o=u.metadata,l||o.source||s.push(l=TO()),s.push(u),o.generates&&(f=!0),o.modifies&&!f&&(c=!0),o.source?l=u:o.changes&&(l=null);r&&(a=r.length-1,s[0]=gS({derive:c,pulse:a?r:r[0]}),(c||a)&&s.splice(1,0,TO()));l||s.push(TO());return s.push(yS({})),s}(t,n,e))}function TO(t){var n=JF({},t);return n.metadata={source:!0},n}function RO(t,n){return uS({url:n.url?t.property(n.url):void 0,values:n.values?t.property(n.values):void 0,format:t.objectProperty(n.format)})}function PO(t,n){return{scale:t.scale,range:n}}function LO(t,n,e,r){var i,a,u,s,l,c,f,h,d,p=PB(t,n),g=t.orient,m=t.gridScale,v=g===OS||g===BS?1:-1,y=function(t,n){if(1===n);else if(o(t)){for(var e=t=Z({},t);null!=e.mult;){if(!o(e.mult))return e.mult*=n,t;e=e.mult=Z({},e.mult)}e.mult=n}else t=n*(t||0);return t}(t.offset,v);return BB(i={enter:a={opacity:KS},update:s={opacity:tB},exit:u={opacity:KS}},{stroke:p("gridColor"),strokeDash:p("gridDash"),strokeDashOffset:p("gridDashOffset"),strokeOpacity:p("gridOpacity"),strokeWidth:p("gridWidth")}),l={scale:t.scale,field:WS,band:p("bandPosition"),round:p("tickRound"),extra:p("tickExtra"),offset:p("tickOffset")},g===BS||g===NS?(c="x",f="y",d="height"):(c="y",f="x",d="width"),h=f+"2",s[c]=a[c]=u[c]=l,m?(s[f]=a[f]={scale:m,range:0,mult:v,offset:y},s[h]=a[h]={scale:m,range:1,mult:v,offset:y}):(s[f]=a[f]={value:0,offset:y},s[h]=a[h]={signal:d,mult:v,offset:y}),RB(IB,vB,null,WS,r,i,e)}function qO(t,n,e,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+n+","+e+","+r+","+i+")"}}function UO(t,n){var e,r,i,a,u,o,s=function(t,n){var e=n.config,r=t.orient,i=r===BS||r===NS?e.axisX:e.axisY,a=e["axis"+r[0].toUpperCase()+r.slice(1)],u="band"===n.scaleType(t.scale)&&e.axisBand;return i||a||u?Z({},e.axis,i,a,u):e.axis}(t,n),l=t.encode||{},c=l.axis||{},f=c.name||void 0,h=c.interactive,d=c.style,p=PB(t,s);return e={orient:t.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:null!=t.title},r=lF(n.add(JF({},[e]))),c=OB({update:{offset:FB(p("offset")||0),position:FB(_F(t.position,0)),titlePadding:FB(p("titlePadding")),minExtent:FB(p("minExtent")),maxExtent:FB(p("maxExtent")),range:{signal:`abs(span(range("${t.scale}")))`}}},l.axis,QS),i=lF(n.add(XF({scale:n.scaleRef(t.scale),extra:n.property(p("tickExtra")),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatType:n.property(t.formatType),formatSpecifier:n.property(t.format)}))),o=[],e.grid&&o.push(LO(t,s,l.grid,i)),e.ticks&&(a=p("tickSize"),o.push(function(t,n,e,r,i){var a,u,o,s,l,c,f=PB(t,n),h=t.orient,d=h===OS||h===BS?-1:1;return BB(a={enter:u={opacity:KS},update:s={opacity:tB},exit:o={opacity:KS}},{stroke:f("tickColor"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),(l=FB(i)).mult=d,c={scale:t.scale,field:WS,band:f("bandPosition"),round:f("tickRound"),extra:f("tickExtra"),offset:f("tickOffset")},h===BS||h===NS?(s.y=u.y=KS,s.y2=u.y2=l,s.x=u.x=o.x=c):(s.x=u.x=KS,s.x2=u.x2=l,s.y=u.y=o.y=c),RB(IB,xB,null,WS,r,a,e)}(t,s,l.ticks,i,a))),e.labels&&(a=e.ticks?a:0,o.push(function(t,n,e,r,i){var a,u,o,s,l,c,f,h,d,p,g=PB(t,n),m=t.orient,v=m===OS||m===BS?-1:1,y=m===BS||m===NS,x=t.scale,_=bF(g("labelFlush")),b=bF(g("labelFlushOffset")),w=0===_||!!_,A=g("labelAlign"),M=g("labelBaseline");return(o=FB(i)).mult=v,o.offset=FB(g("labelPadding")||0),o.offset.mult=v,s={scale:x,field:WS,band:.5,offset:g("tickOffset")},y?(l=A||(w?qO(x,_,'"left"','"right"','"center"'):"center"),c=M||(m===BS?"bottom":"top"),f=!A):(l=A||(m===zS?"left":"right"),c=M||(w?qO(x,_,'"top"','"bottom"','"middle"'):"middle"),f=!M),f=f&&w&&b?qO(x,_,"-"+b,b,0):null,BB(a={enter:u={opacity:KS,x:y?s:o,y:y?o:s},update:{opacity:tB,text:{field:qS},x:u.x,y:u.y},exit:{opacity:KS,x:u.x,y:u.y}},{[y?"dx":"dy"]:f,align:l,baseline:c,angle:g("labelAngle"),fill:g("labelColor"),fillOpacity:g("labelOpacity"),font:g("labelFont"),fontSize:g("labelFontSize"),fontWeight:g("labelFontWeight"),fontStyle:g("labelFontStyle"),limit:g("labelLimit")}),h=g("labelBound"),d=g("labelOverlap"),p=g("labelSeparation"),t=RB(HB,yB,HS,WS,r,a,e),(d||h)&&(t.overlap={separation:p,method:d,order:"datum.index",bound:h?{scale:x,orient:m,tolerance:h}:null}),t}(t,s,l.labels,i,a))),e.domain&&o.push(function(t,n,e,r){var i,a,u,o,s,l,c=PB(t,n),f=t.orient;return BB(i={enter:a={opacity:KS},update:u={opacity:tB},exit:{opacity:KS}},{stroke:c("domainColor"),strokeDash:c("domainDash"),strokeDashOffset:c("domainDashOffset"),strokeWidth:c("domainWidth"),strokeOpacity:c("domainOpacity")}),f===BS||f===NS?(o="x",l="y"):(o="y",l="x"),s=o+"2",a[l]=KS,u[o]=a[o]=PO(t,0),u[s]=a[s]=PO(t,1),RB(IB,mB,null,null,r,i,e)}(t,s,l.domain,r)),e.title&&o.push(function(t,n,e,r){var i,a,u,o,s=PB(t,n),l=t.orient,c=l===OS||l===BS?-1:1,f=l===BS||l===NS;return i={enter:a={opacity:KS,anchor:FB(s("titleAnchor")),align:{signal:UB}},update:u=Z({},a,{opacity:tB,text:FB(t.title)}),exit:{opacity:KS}},o={signal:`lerp(range("${t.scale}"), ${qB(0,1,.5)})`},f?(u.x=o,a.angle={value:0},a.baseline={value:l===BS?"bottom":"top"}):(u.y=o,a.angle={value:90*c},a.baseline={value:"bottom"}),BB(i,{angle:s("titleAngle"),baseline:s("titleBaseline"),fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit")},{align:s("titleAlign")}),!SB(i,"x",s("titleX"),"update")&&!f&&!TB("x",e)&&(i.enter.auto={value:!0}),!SB(i,"y",s("titleY"),"update")&&f&&!TB("y",e)&&(i.enter.auto={value:!0}),RB(HB,_B,YS,null,r,i,e)}(t,s,l.title,r)),u=JB(gB,d,f,r,h,c,o),t.zindex&&(u.zindex=t.zindex),DO(u,n)}function jO(t,n,e){var r=W(t.signals),a=W(t.scales);return e||r.forEach(function(t){iF(t,n)}),W(t.projections).forEach(function(t){!function(t,n){var e={};for(var r in t)"name"!==r&&(e[r]=SS(t[r],r,n));n.addProjection(t.name,e)}(t,n)}),a.forEach(function(t){AS(t,n)}),W(t.data).forEach(function(t){NO(t,n)}),a.forEach(function(t){MS(t,n)}),r.forEach(function(t){!function(t,n){var e=n.getSignal(t.name),r=t.update;t.init&&(r?i("Signals can not include both init and update expressions."):(r=t.init,e.initonly=!0)),r&&(r=aF(r,n),e.update=r.$expr,e.params=r.$params),t.on&&t.on.forEach(function(t){HF(t,n,e.id)})}(t,n)}),W(t.axes).forEach(function(t){UO(t,n)}),W(t.marks).forEach(function(t){DO(t,n)}),W(t.legends).forEach(function(t){FO(t,n)}),t.title&&zO(t.title,n),n.parseLambdas(),n}var $O=yt(["width","height","padding","autosize"]);function IO(t,n){var e,r,i,a,u,s=n.config;return n.background=t.background||s.background,n.eventConfig=s.events,u=lF(n.root=n.add(sF())),n.addSignal("width",t.width||0),n.addSignal("height",t.height||0),n.addSignal("padding",function(t,n){return o(t=t||n.padding)?{top:tF(t.top),bottom:tF(t.bottom),left:tF(t.left),right:tF(t.right)}:{top:e=tF(t),bottom:e,left:e,right:e};var e}(t.padding,s)),n.addSignal("autosize",function(t,n){return o(t=t||n.autosize)?t:{type:t||"pad"}}(t.autosize,s)),n.legends=n.objectProperty(s.legend&&s.legend.layout),W(t.signals).forEach(function(t){$O[t.name]||iF(t,n)}),r=n.add(JF()),i=OB({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t.encode),i=n.add(tS(zB(i,jB,dB,t.style,n,{pulse:lF(r)}))),a=n.add(_S({layout:n.objectProperty(t.layout),legends:n.legends,autosize:n.signalRef("autosize"),mark:u,pulse:lF(i)})),n.operators.pop(),n.pushState(lF(i),lF(a),null),jO(t,n,!0),n.operators.push(a),e=n.add(ZF({mark:u,pulse:lF(a)})),e=n.add(mS({pulse:lF(e)})),e=n.add(yS({pulse:lF(e)})),n.addData("root",new wO(n,r,r,e)),n}function WO(t){this.config=t,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function HO(t){this.config=t.config,this.legends=t.legends,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}var YO=WO.prototype=HO.prototype;function GO(t){return(u(t)?function(t){for(var n,e="[",r=0,i=t.length;r<i;++r)n=t[r],e+=(r>0?",":"")+(o(n)?n.signal||GO(n):l(n));return e+"]"}:function(t){var n,e,r="{",i=0;for(n in t)e=t[n],r+=(++i>1?",":"")+l(n)+":"+(o(e)?e.signal||GO(e):l(e));return r+"}"})(t)}function VO(t){return(t||[]).reduce((t,n)=>{for(var e in n){var r="legend"===e?{layout:1}:"style"===e||null;XO(t,e,n[e],r)}return t},{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:KO},area:{fill:KO},image:null,line:{stroke:KO,strokeWidth:QO},path:{stroke:KO},rect:{fill:KO},rule:{stroke:tz},shape:{stroke:KO},symbol:{fill:KO,size:64},text:{fill:tz,font:ZO,fontSize:11},style:{"guide-label":{fill:tz,font:ZO,fontSize:10},"guide-title":{fill:tz,font:ZO,fontSize:11,fontWeight:"bold"},"group-title":{fill:tz,font:ZO,fontSize:13,fontWeight:"bold"},point:{size:JO,strokeWidth:QO,shape:"circle"},circle:{size:JO,strokeWidth:QO},square:{size:JO,strokeWidth:QO,shape:"square"},cell:{fill:"transparent",stroke:ez}},title:{orient:"top",anchor:"middle",offset:4},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:nz,grid:!1,gridWidth:1,gridColor:ez,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:nz,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:ez,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:nz,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}})}function XO(t,n,e,r){var i,a;if(o(e)&&!u(e))for(i in a=o(t[n])?t[n]:t[n]={},e)r&&(!0===r||r[i])?XO(a,i,e[i]):a[i]=e[i];else t[n]=e}YO.fork=function(){return new HO(this)},YO.isSubscope=function(){return this._subid>0},YO.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},YO.id=function(){return(this._subid?this._subid+":":0)+this._id++},YO.add=function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(function(n){n.$ref=t.id}),t.refs=null),t},YO.proxy=function(t){var n=t instanceof uF?lF(t):t;return this.add(pS({value:n}))},YO.addStream=function(t){return this.streams.push(t),t.id=this.id(),t},YO.addUpdate=function(t){return this.updates.push(t),t},YO.finish=function(){var t,n;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function e(t,n,e){var r;t&&((r=t.data||(t.data={}))[n]||(r[n]=[])).push(e)}for(t in this.data)for(var r in e((n=this.data[t]).input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values"),n.index)e(n.index[r],t,"index:"+r);return this},YO.pushState=function(t,n,e){this._encode.push(lF(this.add(yS({pulse:t})))),this._parent.push(n),this._lookup.push(e?lF(this.proxy(e)):null),this._markpath.push(-1)},YO.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},YO.parent=function(){return k(this._parent)},YO.encode=function(){return k(this._encode)},YO.lookup=function(){return k(this._lookup)},YO.markpath=function(){var t=this._markpath;return++t[t.length-1]},YO.fieldRef=function(t,n){if(s(t))return fF(t,n);t.signal||i("Unsupported field reference: "+l(t));var e,r=t.signal,a=this.field[r];return a||(e={name:this.signalRef(r)},n&&(e.as=n),this.field[r]=a=lF(this.add(rS(e)))),a},YO.compareRef=function(t,n){function e(t){return yF(t)?(i=!0,r.signalRef(t.signal)):function(t){return t&&t.expr}(t)?(i=!0,r.exprRef(t.expr)):t}var r=this,i=!1,a=W(t.field).map(e),u=W(t.order).map(e);return n&&a.push(cF),i?lF(this.add(QF({fields:a,orders:u}))):dF(a,u)},YO.keyRef=function(t,n){var e=this.signals,r=!1;return t=W(t).map(function(t){return yF(t)?(r=!0,lF(e[t.signal])):t}),r?lF(this.add(iS({fields:t,flat:n}))):function(t,n){var e={$key:t};return n&&(e.$flat=!0),e}(t,n)},YO.sortRef=function(t){if(!t)return t;var n=[gF(t.op,t.field),cF],e=t.order||"ascending";return e.signal?lF(this.add(QF({fields:n,orders:[e=this.signalRef(e.signal),e]}))):dF(n,[e,e])},YO.event=function(t,n){var e=t+":"+n;if(!this.events[e]){var r=this.id();this.streams.push({id:r,source:t,type:n}),this.events[e]=r}return this.events[e]},YO.addSignal=function(t,n){this.signals.hasOwnProperty(t)&&i("Duplicate signal name: "+l(t));var e=n instanceof uF?n:this.add(sF(n));return this.signals[t]=e},YO.getSignal=function(t){return this.signals[t]||i("Unrecognized signal name: "+l(t)),this.signals[t]},YO.signalRef=function(t){return this.signals[t]?lF(this.signals[t]):(this.lambdas.hasOwnProperty(t)||(this.lambdas[t]=this.add(sF(null))),lF(this.lambdas[t]))},YO.parseLambdas=function(){for(var t=Object.keys(this.lambdas),n=0,e=t.length;n<e;++n){var r=t[n],i=aF(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},YO.property=function(t){return t&&t.signal?this.signalRef(t.signal):t},YO.objectProperty=function(t){return t&&o(t)?this.signalRef(t.signal||GO(t)):t},YO.exprRef=function(t,n){var e={expr:aF(t,this)};return n&&(e.expr.$name=n),lF(this.add(nS(e)))},YO.addBinding=function(t,n){this.bindings||i("Nested signals do not support binding: "+l(t)),this.bindings.push(Z({signal:t},n))},YO.addScaleProj=function(t,n){this.scales.hasOwnProperty(t)&&i("Duplicate scale or projection name: "+l(t)),this.scales[t]=this.add(n)},YO.addScale=function(t,n){this.addScaleProj(t,vS(n))},YO.addProjection=function(t,n){this.addScaleProj(t,dS(n))},YO.getScale=function(t){return this.scales[t]||i("Unrecognized scale name: "+l(t)),this.scales[t]},YO.projectionRef=YO.scaleRef=function(t){return lF(this.getScale(t))},YO.projectionType=YO.scaleType=function(t){return this.getScale(t).params.type},YO.addData=function(t,n){return this.data.hasOwnProperty(t)&&i("Duplicate data set name: "+l(t)),this.data[t]=n},YO.getData=function(t){return this.data[t]||i("Undefined data set name: "+l(t)),this.data[t]},YO.addDataPipeline=function(t,n){return this.data.hasOwnProperty(t)&&i("Duplicate data set name: "+l(t)),this.addData(t,wO.fromEntries(this,n))};var ZO="sans-serif",JO=30,QO=2,KO="#4c78a8",tz="#000",nz="#888",ez="#ddd";Z(Wr,ou,vh,Xm,zb,Ow,XA,tM,jM,nk,lk),t.Bounds=Hu,t.CanvasHandler=Lc,t.CanvasRenderer=Ic,t.Dataflow=qr,t.Debug=A,t.Error=_,t.EventStream=It,t.Gradient=Qu,t.GroupItem=to,t.Handler=Oc,t.Info=w,t.Item=Ku,t.Marks=mc,t.MultiPulse=zr,t.None=x,t.Operator=qt,t.Parameters=Tt,t.Pulse=Dr,t.RenderType=wf,t.Renderer=Tc,t.ResourceLoader=ro,t.SVGHandler=Gc,t.SVGRenderer=ef,t.SVGStringRenderer=mf,t.Scenegraph=Ac,t.Transform=$r,t.View=VD,t.Warn=b,t.accessor=n,t.accessorFields=r,t.accessorName=e,t.array=W,t.bin=ni,t.bootstrapCI=_i,t.boundClip=Sf,t.boundContext=al,t.boundItem=vc,t.boundMark=xc,t.boundStroke=el,t.changeset=zt,t.clampRange=H,t.closeTag=Jc,t.compare=G,t.constant=V,t.debounce=X,t.definition=Hr,t.domChild=Dc,t.domClear=Fc,t.domCreate=Ec,t.domFind=Cc,t.error=i,t.expressionFunction=_D,t.extend=Z,t.extent=J,t.extentIndex=Q,t.falsy=v,t.fastmap=tt,t.field=c,t.flush=nt,t.font=cc,t.fontFamily=lc,t.fontSize=uc,t.format=Dn,t.formatLocale=hg,t.formats=Fn,t.id=h,t.identity=d,t.inferType=rn,t.inferTypes=an,t.ingest=Dt,t.inherits=et,t.inrange=rt,t.interpolate=im,t.interpolateColors=nm,t.interpolateRange=tm,t.intersect=kf,t.intersectBoxLine=pl,t.intersectPath=cl,t.intersectPoint=fl,t.intersectRule=dl,t.isArray=u,t.isBoolean=it,t.isDate=at,t.isFunction=Y,t.isNumber=ut,t.isObject=o,t.isRegExp=ot,t.isString=s,t.isTuple=kt,t.key=st,t.lerp=lt,t.loader=wr,t.logger=M,t.merge=ct,t.one=g,t.openTag=Zc,t.pad=ht,t.panLinear=z,t.panLog=N,t.panPow=T,t.panSymlog=R,t.parse=function(t,n){return o(t)||i("Input Vega specification must be an object."),IO(t,new WO(VO([n,t.config]))).toRuntime()},t.pathCurves=ys,t.pathEqual=zf,t.pathParse=bs,t.pathRectangle=$s,t.pathRender=Os,t.pathSymbols=Ts,t.pathTrail=Is,t.peek=k,t.point=Bc,t.projection=Ab,t.quantizeInterpolator=em,t.quarter=$,t.quartiles=bi,t.randomInteger=function(n,e){null==e&&(e=n,n=0);var r,i,a,u={};return u.min=function(t){return arguments.length?(a=i-(r=t||0),u):r},u.max=function(t){return arguments.length?(a=(i=t||0)-r,u):i},u.sample=function(){return r+Math.floor(a*t.random())},u.pdf=function(t){return t===Math.floor(t)&&t>=r&&t<i?1/a:0},u.cdf=function(t){var n=Math.floor(t);return n<r?0:n>=i?1:(n-r+1)/a},u.icdf=function(t){return t>=0&&t<=1?r-1+Math.floor(t*a):NaN},u.min(n).max(e)},t.randomKDE=Ai,t.randomLCG=function(t){return function(){return(t=(1103515245*t+12345)%2147483647)/2147483647}},t.randomMixture=Mi,t.randomNormal=wi,t.randomUniform=ki,t.read=br,t.regressionExp=Oi,t.regressionLinear=Si,t.regressionLoess=Li,t.regressionLog=Bi,t.regressionPoly=Ti,t.regressionPow=zi,t.regressionQuad=Ni,t.renderModule=Mf,t.repeat=ft,t.resetSVGClipId=function(){Tl=1},t.responseType=Sn,t.runtime=OD,t.runtimeContext=ND,t.sampleCurve=$i,t.scale=Zg,t.sceneEqual=Of,t.sceneFromJSON=wc,t.scenePickVisit=wl,t.sceneToJSON=bc,t.sceneVisit=bl,t.sceneZOrder=_l,t.scheme=sm,t.setRandom=function(n){t.random=n},t.span=dt,t.splitAccessPath=a,t.stringValue=l,t.textMetrics=nc,t.timeFormatLocale=_r,t.timeInterval=Wh,t.toBoolean=pt,t.toDate=mt,t.toNumber=E,t.toSet=yt,t.toString=vt,t.transform=Yr,t.transforms=Wr,t.truncate=xt,t.truthy=m,t.tupleid=Et,t.typeParsers=tn,t.utcquarter=I,t.version="5.4.0",t.visitArray=_t,t.zero=p,t.zoomLinear=L,t.zoomLog=q,t.zoomPow=U,t.zoomSymlog=j,Object.defineProperty(t,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).vl={})}(this,function(e){"use strict";var t="3.4.0";function n(e,t,n){return e.fields=t||[],e.fname=n,e}function i(e){throw Error(e)}function r(e){var t,n,r,o=[],a=null,s=0,u=e.length,c="";function l(){o.push(c+e.substring(t,n)),c="",t=n+1}for(e+="",t=n=0;n<u;++n)if("\\"===(r=e[n]))c+=e.substring(t,n),t=++n;else if(r===a)l(),a=null,s=-1;else{if(a)continue;t===s&&'"'===r?(t=n+1,a=r):t===s&&"'"===r?(t=n+1,a=r):"."!==r||s?"["===r?(n>t&&l(),s=t=n+1):"]"===r&&(s||i("Access path missing open bracket: "+e),s>0&&l(),s=0,t=n+1):n>t?l():t=n+1}return s&&i("Access path missing closing bracket: "+e),a&&i("Access path missing closing quote: "+e),n>t&&(n++,l()),o}var o=Array.isArray;function a(e){return e===Object(e)}function s(e){return"string"==typeof e}function u(e){return o(e)?"["+e.map(u)+"]":a(e)||s(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var c=[],l=(function(e,t){var i=r(e),o="return _["+i.map(u).join("][")+"];";n(Function("_",o),[e=1===i.length?i[0]:e],t||e)}("id"),n(function(e){return e},c,"identity"));n(function(){return 0},c,"zero"),n(function(){return 1},c,"one"),n(function(){return!0},c,"true"),n(function(){return!1},c,"false");function f(e,t,n){var i=[t].concat([].slice.call(n));console[e](...i)}var d=0,p=1,h=2,m=3,g=4;function y(e){return null!=e?o(e)?e:[e]:[]}function b(e){return"boolean"==typeof e}function v(e){return"number"==typeof e}function x(e){for(var t={},n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}var A=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(o,s,u,c,l){"object"==typeof s&&(u=s.depth,c=s.prototype,l=s.includeNonEnumerable,s=s.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===u&&(u=1/0),function o(u,h){if(null===u)return null;if(0===h)return u;var m,g;if("object"!=typeof u)return u;if(e(u,t))m=new t;else if(e(u,n))m=new n;else if(e(u,i))m=new i(function(e,t){u.then(function(t){e(o(t,h-1))},function(e){t(o(e,h-1))})});else if(r.__isArray(u))m=[];else if(r.__isRegExp(u))m=new RegExp(u.source,a(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(r.__isDate(u))m=new Date(u.getTime());else{if(p&&Buffer.isBuffer(u))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(m),m;e(u,Error)?m=Object.create(u):void 0===c?(g=Object.getPrototypeOf(u),m=Object.create(g)):(m=Object.create(c),g=c)}if(s){var y=f.indexOf(u);if(-1!=y)return d[y];f.push(u),d.push(m)}for(var b in e(u,t)&&u.forEach(function(e,t){var n=o(t,h-1),i=o(e,h-1);m.set(n,i)}),e(u,n)&&u.forEach(function(e){var t=o(e,h-1);m.add(t)}),u){var v;g&&(v=Object.getOwnPropertyDescriptor(g,b)),v&&null==v.set||(m[b]=o(u[b],h-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(u);for(b=0;b<x.length;b++){var A=x[b];(!(C=Object.getOwnPropertyDescriptor(u,A))||C.enumerable||l)&&(m[A]=o(u[A],h-1),C.enumerable||Object.defineProperty(m,A,{enumerable:!1}))}}if(l){var w=Object.getOwnPropertyNames(u);for(b=0;b<w.length;b++){var C,F=w[b];(C=Object.getOwnPropertyDescriptor(u,F))&&C.enumerable||(m[F]=o(u[F],h-1),Object.defineProperty(m,F,{enumerable:!1}))}}return m}(o,u)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},r.__getRegExpFlags=a,r}();e.exports&&(e.exports=t)}),w=Array.isArray,C=Object.keys,F=Object.prototype.hasOwnProperty,E=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,u=Object.keys(t).sort(r&&r(t));for(a="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)};function D(e){return!!e.or}function S(e){return!!e.and}function k(e){return!!e.not}function O(e,t){return k(e)?{not:O(e.not,t)}:S(e)?{and:e.and.map(e=>O(e,t))}:D(e)?{or:e.or.map(e=>O(e,t))}:t(e)}const $=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i,r,o,a=w(t),s=w(n);if(a&&s){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(a!=s)return!1;var u=t instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return t.getTime()==n.getTime();var l=t instanceof RegExp,f=n instanceof RegExp;if(l!=f)return!1;if(l&&f)return t.toString()==n.toString();var d=C(t);if((r=d.length)!==C(n).length)return!1;for(i=r;0!=i--;)if(!F.call(n,d[i]))return!1;for(i=r;0!=i--;)if(!e(t[o=d[i]],n[o]))return!1;return!0}return t!=t&&n!=n},B=A;function j(e,t){const n={};for(const i of t)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function N(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>E(e)).join(",")})`};const _=E;function T(e){if(v(e))return e;const t=s(e)?e:E(e);if(t.length<250)return t;let n=0;for(let e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n}function z(e){return!1===e||null===e}function R(e,t){return e.indexOf(t)>-1}function P(e,t){let n=0;for(const[i,r]of e.entries())if(t(r,i,n++))return!0;return!1}function U(e,t){let n=0;for(const[i,r]of e.entries())if(!t(r,i,n++))return!1;return!0}function M(e){return[].concat(...e)}function L(e,...t){for(const n of t)e=I(e,n);return e}function I(e,t){if("object"!=typeof t||null===t)return e;for(const n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||o(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=L(o(t[n].constructor)?[]:{},t[n]):L(e[n],t[n]));return e}function q(e,t){const n=[],i={};let r;for(const o of e)(r=t(o))in i||(i[r]=1,n.push(o));return n}function W(e,t){for(const n of e)if(t.has(n))return!0;return!1}function H(e){const t=new Set;for(const n of e){const e=r(n).map((e,t)=>0===t?e:`[${e}]`);e.map((t,n)=>e.slice(0,n+1).join("")).forEach(e=>t.add(e))}return t}function G(e,t){return W(H(e),H(t))}const Y=Object.keys;function V(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function J(e){return!0===e||!1===e}function Q(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function X(e,t){return k(e)?"!("+X(e.not,t)+")":S(e)?"("+e.and.map(e=>X(e,t)).join(") && (")+")":D(e)?"("+e.or.map(e=>X(e,t)).join(") || (")+")":t(e)}function Z(e,t){if(0===t.length)return!0;const n=t.shift();return Z(e[n],t)&&delete e[n],0===Y(e).length}function K(e){return e.charAt(0).toUpperCase()+e.substr(1)}function ee(e,t="datum"){const n=r(e),i=[];for(let e=1;e<=n.length;e++){const r=`[${n.slice(0,e).map(u).join("][")}]`;i.push(`${t}${r}`)}return i.join(" && ")}function te(e){return`${r(e).map(e=>e.replace(".","\\.")).join("\\.")}`}function ne(e){return`${r(e).join(".")}`}function ie(e){return e?r(e).length:0}function re(...e){for(const t of e)if(void 0!==t)return t}let oe=42;function ae(e){return(e%360+360)%360}const se="area",ue="bar",ce="line",le="point",fe="rect",de="rule",pe="text",he="tick",me="trail",ge="circle",ye="square",be="geoshape";function ve(e){return R(["line","area","trail"],e)}const xe=Y({area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1});function Ae(e){return e.type}x(xe);const we=[].concat(["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],["fill","fillOpacity"]),Ce=["filled","color","tooltip"],Fe={binSpacing:1,continuousBandSize:5},Ee={binSpacing:0,continuousBandSize:5};function De(e){return!!e.mark}class Se{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!De(e)&&(Ae(t=e.mark)?t.type:t)===this.name;var t}}function ke(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}const Oe={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};function $e(e){return!!e&&!!e.argmin}function Be(e){return!!e&&!!e.argmax}function je(e){return s(e)&&!!Oe[e]}const Ne=["count","valid","missing","distinct"];function _e(e){return e&&s(e)&&R(Ne,e)}const Te=["count","sum","distinct","valid","missing"],ze=x(["mean","average","median","q1","q3","min","max"]),Re="row",Pe="column",Ue="facet",Me="x",Le="y",Ie="x2",qe="y2",We="latitude",He="longitude",Ge="latitude2",Ye="longitude2",Ve="color",Je="fill",Qe="stroke",Xe="shape",Ze="size",Ke="opacity",et="fillOpacity",tt="strokeOpacity",nt="strokeWidth",it="text",rt="order",ot="detail",at="key",st="tooltip",ut="href";const ct={longitude:1,longitude2:1,latitude:1,latitude2:1};const lt=Y(ct),ft=Object.assign({},{x:1,y:1,x2:1,y2:1},ct,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function dt(e){return"color"===e||"fill"===e||"stroke"===e}const pt={row:1,column:1,facet:1},ht=Y(pt),mt=Object.assign({},ft,pt),gt=Y(mt),yt=(ke(mt,["order","detail"]),ke(mt,["order","detail","row","column","facet"]));function bt(e){return!!yt[e]}function vt(e){return!!mt[e]}const xt=["x2","y2","latitude2","longitude2"];function At(e){return wt(e)!==e}function wt(e){switch(e){case"x2":return"x";case"y2":return"y";case"latitude2":return"latitude";case"longitude2":return"longitude"}return e}const Ct=ke(ft,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),Ft=Y(Ct),Et={x:1,y:1},Dt=Y(Et),St=ke(Ct,["text","tooltip","href","detail","key","order"]),kt=Y(St);const Ot=Object.assign({},Et,St),$t=Y(Ot);function Bt(e){return!!Ot[e]}function jt(e,t){return function(e){switch(e){case Ve:case Je:case Qe:case ot:case at:case st:case ut:case rt:case Ke:case et:case tt:case nt:case Ue:case Re:case Pe:return Nt;case Me:case Le:case We:case He:return _t;case Ie:case qe:case Ge:case Ye:return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Ze:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Xe:return{point:"always",geoshape:"always"};case it:return{text:"always"}}}(e)[t]}const Nt={area:"always",bar:"always",circle:"always",geoshape:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},_t=ke(Nt,["geoshape"]);function Tt(e){switch(e){case Me:case Le:case Ze:case nt:case Ke:case et:case tt:case Ie:case qe:return;case Ue:case Re:case Pe:case Xe:case it:case st:case ut:return"discrete";case Ve:case Je:case Qe:return"flexible";case We:case He:case Ge:case Ye:case ot:case at:case rt:return}throw new Error("rangeType not implemented for "+e)}const zt=Object.freeze({INVALID_SPEC:"Invalid spec",FIT_NON_SINGLE:'Autosize "fit" only works for single views and layered views.',CANNOT_FIX_RANGE_STEP_WITH_FIT:'Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',cannotProjectOnChannelWithoutField:function(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`},nearestNotSupportForContinuous:function(e){return`The "nearest" transform is not supported for ${e} marks.`},selectionNotSupported:function(e){return`Selection not supported for ${e} yet`},selectionNotFound:function(e){return`Cannot find a selection named "${e}"`},SCALE_BINDINGS_CONTINUOUS:"Scale bindings are currently only supported for scales with unbinned, continuous domains.",NO_INIT_SCALE_BINDINGS:"Selections bound to scales cannot be separately initialized.",noSuchRepeatedValue:function(e){return`Unknown repeated value "${e}".`},columnsNotSupportByRowCol:function(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`},CONCAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",REPEAT_CANNOT_SHARE_AXIS:"Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).",unrecognizedParse:function(e){return`Unrecognized parse "${e}".`},differentParse:function(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`},invalidTransformIgnored:function(e){return`Ignoring an invalid transform: ${_(e)}.`},NO_FIELDS_NEEDS_AS:'If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.',encodingOverridden:function(e){return`Layer's shared ${e.join(",")} channel ${1===e.length?"is":"are"} overriden`},projectionOverridden:function(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${_(t)} is overridden by a child projection ${_(n)}.`},primitiveChannelDef:function(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${_(n)}}.`},invalidFieldType:function(e){return`Invalid field type "${e}"`},nonZeroScaleUsedWithLengthMark:function(e,t,n){return`A ${n.scaleType?`${n.scaleType} scale`:n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero"} is used to encode ${e}'s ${t}. This can be misleading as the ${"x"===t?"width":"height"} of the ${e} can be arbitrary based on the scale domain. You may want to use point mark instead.`},invalidFieldTypeForCountAggregate:function(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`},invalidAggregate:function(e){return`Invalid aggregation operator "${e}"`},missingFieldType:function(e,t){return`Missing type for channel "${e}", using "${t}" instead.`},droppingColor:function(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has `+(n&&i?"fill and stroke":n?"fill":"stroke")},emptyFieldDef:function(e,t){return`Dropping ${_(e)} from channel "${t}" since it does not contain data field or value.`},latLongDeprecated:function(e,t,n){return`${e}-encoding with type ${t} is deprecated. Replacing with ${n}-encoding.`},LINE_WITH_VARYING_SIZE:"Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.",incompatibleChannel:function(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`},invalidEncodingChannel:function(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`},facetChannelShouldBeDiscrete:function(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`},facetChannelDropped:function(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`},discreteChannelCannotEncode:function(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${"ordinal"===t?"order":"magnitude"}.`},BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL:"Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",lineWithRange:function(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`},orientOverridden:function(e,t){return`Specified orient "${e}" overridden with "${t}"`},CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:"custom domain scale cannot be unioned with default field-based domain",cannotUseScalePropertyWithNonColor:function(e){return`Cannot use the scale property "${e}" with non-color channel.`},unaggregateDomainHasNoEffectForRawField:function(e){return`Using unaggregated domain with raw field has no effect (${_(e)}).`},unaggregateDomainWithNonSharedDomainOp:function(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`},unaggregatedDomainWithLogScale:function(e){return`Unaggregated domain is currently unsupported for log scale (${_(e)}).`},cannotApplySizeToNonOrientedMark:function(e){return`Cannot apply size to non-oriented mark "${e}".`},rangeStepDropped:function(e){return`rangeStep for "${e}" is dropped as top-level ${"x"===e?"width":"height"} is provided.`},scaleTypeNotWorkWithChannel:function(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`},scaleTypeNotWorkWithFieldDef:function(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`},scalePropertyNotWorkWithScaleType:function(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`},scaleTypeNotWorkWithMark:function(e,t){return`Scale type "${t}" does not work with mark "${e}".`},mergeConflictingProperty:function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${_(n)} and ${_(i)}).  Using ${_(n)}.`},mergeConflictingDomainProperty:function(e,t,n,i){return`Conflicting ${t.toString()} property "${e.toString()}" (${_(n)} and ${_(i)}).  Using the union of the two domains.`},independentScaleMeansIndependentGuide:function(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`},domainSortDropped:function(e){return`Dropping sort property ${_(e)} as unioned domains only support boolean or op 'count'.`},UNABLE_TO_MERGE_DOMAINS:"Unable to merge domains",MORE_THAN_ONE_SORT:"Domains that should be unioned has conflicting sort properties. Sort will be set to true.",INVALID_CHANNEL_FOR_AXIS:"Invalid channel for axis.",cannotStackRangedMark:function(e){return`Cannot stack "${e}" if there is already "${e}2"`},cannotStackNonLinearScale:function(e){return`Cannot stack non-linear scale (${e})`},stackNonSummativeAggregate:function(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}")`},invalidTimeUnit:function(e,t){return`Invalid ${e}: ${_(t)}`},dayReplacedWithDate:function(e){return`Time unit "${e}" is not supported. We are replacing it with ${e.replace("day","date")}.`},droppedDay:function(e){return`Dropping day from datetime ${_(e)} as day cannot be combined with other units.`},errorBarCenterAndExtentAreNotNeeded:function(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`},errorBarCenterIsUsedWithWrongExtent:function(e,t,n){return`${e} is not usually used with ${t} for ${n}.`},errorBarContinuousAxisHasCustomizedAggregate:function(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`},errorBarCenterIsNotNeeded:function(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`},errorBand1DNotSupport:function(e){return`1D error band does not support ${e}`},channelRequiredForBinned:function(e){return`Channel ${e} is required for "binned" bin`},domainRequiredForThresholdScale:function(e){return`Domain for ${e} is required for threshold scale`}}),Rt=(Ut=h||d,{level:function(e){return arguments.length?(Ut=+e,this):Ut},error:function(){return Ut>=p&&f(Pt||"error","ERROR",arguments),this},warn:function(){return Ut>=h&&f(Pt||"warn","WARN",arguments),this},info:function(){return Ut>=m&&f(Pt||"log","INFO",arguments),this},debug:function(){return Ut>=g&&f(Pt||"log","DEBUG",arguments),this}});var Pt,Ut;let Mt=Rt;function Lt(...e){Mt.warn.apply(Mt,arguments)}const It=2006;function qt(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}const Wt=["january","february","march","april","may","june","july","august","september","october","november","december"],Ht=Wt.map(e=>e.substr(0,3)),Gt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Yt=Gt.map(e=>e.substr(0,3));function Vt(e,t=!1,n=!1){const i=[];if(t&&void 0!==e.day&&Y(e).length>1&&(Lt(zt.droppedDay(e)),delete(e=B(e)).day),void 0!==e.year?i.push(e.year):void 0!==e.day?i.push(It):i.push(0),void 0!==e.month){const n=t?function(e){if(v(e))return(e-1).toString();{const t=e.toLowerCase(),n=Wt.indexOf(t);if(-1!==n)return n+"";const i=t.substr(0,3),r=Ht.indexOf(i);if(-1!==r)return r+"";throw new Error(zt.invalidTimeUnit("month",e))}}(e.month):e.month;i.push(n)}else if(void 0!==e.quarter){const n=t?function(e){if(v(e))return e>4&&Lt(zt.invalidTimeUnit("quarter",e)),(e-1).toString();throw new Error(zt.invalidTimeUnit("quarter",e))}(e.quarter):e.quarter;i.push(n+"*3")}else i.push(0);if(void 0!==e.date)i.push(e.date);else if(void 0!==e.day){const n=t?function(e){if(v(e))return e%7+"";{const t=e.toLowerCase(),n=Gt.indexOf(t);if(-1!==n)return n+"";const i=t.substr(0,3),r=Yt.indexOf(i);if(-1!==r)return r+"";throw new Error(zt.invalidTimeUnit("day",e))}}(e.day):e.day;i.push(n+"+1")}else i.push(1);for(const t of["hours","minutes","seconds","milliseconds"])void 0!==e[t]?i.push(e[t]):i.push(0);const r=i.join(", ");return n?e.utc?new Function(`return new Date(Date.UTC(${r}))`)().toJSON():new Function(`return new Date(${r})`)().toJSON():e.utc?`utc(${r})`:`datetime(${r})`}function Jt(e){return!!e.row||!!e.column}function Qt(e){return void 0!==e.facet}var Xt;!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.MONTHDATEHOURS="monthdatehours",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCMONTHDATEHOURS="utcmonthdatehours",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(Xt||(Xt={}));const Zt={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Kt=Y(Zt);const en={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};const tn={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},nn=Object.assign({},en,tn);Object.assign({},Zt,en,{yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},tn);function rn(e,t){const n=e.indexOf(t);return n>-1&&(t!==Xt.SECONDS||0===n||"i"!==e.charAt(n-1))}function on(e,t){const n=ee(t),i=nn[e]?"utc":"";return Vt(Kt.reduce((t,r)=>(rn(e,r)&&(t[r]=function(e){return e===Xt.QUARTER?`(${i}quarter(${n})-1)`:`${i}${e}(${n})`}(r)),t),{}))}function an(e,t){if(!e)return;const n=[],i=rn(e,Xt.YEAR);rn(e,Xt.MONTH)&&n.push(!1!==t?"%b":"%B"),rn(e,Xt.DAY)?n.push(t?"%a":"%A"):rn(e,Xt.DATE)&&n.push("%d"+(i?",":"")),i&&n.push(t?"%y":"%Y");const r=[];rn(e,Xt.HOURS)&&r.push("%H"),rn(e,Xt.MINUTES)&&r.push("%M"),rn(e,Xt.SECONDS)&&r.push("%S"),rn(e,Xt.MILLISECONDS)&&r.push("%L");const o=[];return n.length>0&&o.push(n.join(" ")),r.length>0&&o.push(r.join(":")),o}function sn(e){return"day"!==e&&e.indexOf("day")>=0?(Lt(zt.dayReplacedWithDate(e)),e.replace("day","date")):e}const un={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},cn="quantitative",ln="ordinal",fn="temporal",dn="nominal",pn="geojson";function hn(e){const{field:t,timeUnit:n,bin:i,aggregate:r}=e;return Object.assign({},n?{timeUnit:n}:{},i?{bin:i}:{},r?{aggregate:r}:{},{field:t})}function mn(e){return!!e&&!!e.condition}function gn(e){return!!e&&!!e.condition&&!o(e.condition)&&yn(e.condition)}function yn(e){return!(!e||!e.field&&"count"!==e.aggregate)}function bn(e){return!!e&&(!!e.field&&!!e.type||"count"===e.aggregate)}function vn(e){return yn(e)&&s(e.field)}function xn(e){return e&&"value"in e&&void 0!==e.value}function An(e){return!(!e||!e.scale&&!e.sort)}function wn(e){return!!e&&!!e.format}function Cn(e,t={}){let n=e.field;const i=t.prefix;let o=t.suffix,a="";if(function(e){return"count"===e.aggregate}(e))n=function(e){return function(e){return 0===e.indexOf("__")}(e)?e:`__${e}`}("count");else{let i;if(!t.nofn)if(function(e){return!!e.op}(e))i=e.op;else{const{bin:r,aggregate:s,timeUnit:u}=e;Wn(r)?(i=qn(r),o=(t.binSuffix||"")+(t.suffix||"")):s?Be(s)?(a=`.${n}`,n=`argmax_${s.argmax}`):$e(s)?(a=`.${n}`,n=`argmin_${s.argmin}`):i=String(s):u&&(i=String(u))}i&&(n=n?`${i}_${n}`:i)}return o&&(n=`${n}_${o}`),i&&(n=`${i}_${n}`),t.forAs?n:t.expr?function(e,t="datum"){return`${t}[${u(r(e).join("."))}]`}(n,t.expr)+a:te(n)+a}function Fn(e){return!function(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(zt.invalidFieldType(e.type))}(e)}function En(e,t){const{field:n,bin:i,timeUnit:r,aggregate:o}=e;if("count"===o)return t.countTitle;if(Wn(i))return`${n} (binned)`;if(r){return`${n} (${function(e){return Kt.reduce((t,n)=>rn(e,n)?[...t,n]:t,[])}(r).join("-")})`}return o?Be(o)?`${n} for max ${o.argmax}`:$e(o)?`${n} for min ${o.argmin}`:`${K(o)} of ${n}`:n}const Dn=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return function(e){const{aggregate:t,bin:n,timeUnit:i,field:r}=e;if(Be(t))return`${r} for argmax(${t.argmax})`;if($e(t))return`${r} for argmin(${t.argmin})`;const o=t||i||Wn(n)&&"bin";return o?o.toUpperCase()+"("+r+")":r}(e);default:return En(e,t)}};let Sn=Dn;function kn(e){Sn=e}function On(e,t,{allowDisabling:n,includeDefault:i=!0}){const r=($n(e)||{}).title,o=i?Bn(e,t):void 0;return n?re(r,e.title,o):r||e.title||o}function $n(e){return(t=e)&&(t.axis||t.stack||t.impute)&&e.axis?e.axis:function(e){return!!e&&!!e.legend}(e)&&e.legend?e.legend:function(e){return!!e&&!!e.header}(e)&&e.header?e.header:void 0;var t}function Bn(e,t){return Sn(e,t)}function jn(e){if(wn(e)&&e.format)return e.format;return($n(e)||{}).format}function Nn(e){return yn(e)?e:gn(e)?e.condition:void 0}function _n(e){return yn(e)?e:gn(e)?e.condition:void 0}function Tn(e,t){if(s(e)||v(e)||b(e)){const n=s(e)?"string":v(e)?"number":"boolean";return Lt(zt.primitiveChannelDef(t,n,e)),{value:e}}return yn(e)?zn(e,t):gn(e)?Object.assign({},e,{condition:zn(e.condition,t)}):e}function zn(e,t){const{aggregate:n,timeUnit:i,bin:r}=e;if(n&&!je(n)&&!Be(n)&&!$e(n)){const t=ke(e,["aggregate"]);Lt(zt.invalidAggregate(n)),e=t}if(i&&(e=Object.assign({},e,{timeUnit:sn(i)})),Wn(r)&&(e=Object.assign({},e,{bin:Rn(r,t)})),Hn(r)&&!R(Dt,t)&&Lt(`Channel ${t} should not be used with "binned" bin`),bn(e)){const{type:t}=e,i=function(e){if(e)switch(e=e.toLowerCase()){case"q":case cn:return"quantitative";case"t":case fn:return"temporal";case"o":case ln:return"ordinal";case"n":case dn:return"nominal";case pn:return"geojson"}}(t);t!==i&&(e=Object.assign({},e,{type:i})),"quantitative"!==t&&_e(n)&&(Lt(zt.invalidFieldTypeForCountAggregate(t,n)),e=Object.assign({},e,{type:"quantitative"}))}else if(!At(t)){const n=function(e,t){if(e.timeUnit)return"temporal";if(Wn(e.bin))return"quantitative";switch(Tt(t)){case"continuous":return"quantitative";case"discrete":case"flexible":return"nominal";default:return"quantitative"}}(e,t);Lt(zt.missingFieldType(t,n)),e=Object.assign({},e,{type:n})}if(bn(e)){const{compatible:n,warning:i}=function(e,t){const n=e.type;if("geojson"===n&&"shape"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case"row":case"column":case"facet":return Fn(e)?{compatible:!1,warning:zt.facetChannelShouldBeDiscrete(t)}:Pn;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return Pn;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==cn?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Pn;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return"nominal"!==n||e.sort?Pn:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case"shape":return R(["ordinal","nominal","geojson"],e.type)?Pn:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return"nominal"!==e.type||"sort"in e?Pn:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}throw new Error("channelCompatability not implemented for channel "+t)}(e,t);n||Lt(i)}return Object.assign({},e,void 0!==e.field?{field:`${e.field}`}:{})}function Rn(e,t){return b(e)?{maxbins:Yn(t)}:"binned"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign({},e,{maxbins:Yn(t)})}const Pn={compatible:!0};function Un(e){const t=$n(e),n=t&&t.formatType||wn(e)&&e.formatType;return"time"===n||!n&&function(e){return"temporal"===e.type||!!e.timeUnit}(e)}function Mn(e,{timeUnit:t,type:n,time:i,undefinedIfExprNotRequired:r}){let o;var a;return qt(e)?o=Vt(e,!0):(s(e)||v(e))&&(t||"temporal"===n)&&(o=function(e){return!!Zt[e]}(t)?Vt({[t]:e},!0):function(e){return!!en[e]}(t)?Mn(e,{timeUnit:(a=t,a.substr(3))}):`datetime(${JSON.stringify(e)})`),o?i?`time(${o})`:o:r?void 0:JSON.stringify(e)}function Ln(e,t){const{timeUnit:n,type:i}=e;return t.map(e=>{const t=Mn(e,{timeUnit:n,type:i,undefinedIfExprNotRequired:!0});return void 0!==t?{signal:t}:e})}function In(e,t){return Wn(e.bin)?Bt(t)&&R(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}function qn(e){return b(e)&&(e=Rn(e,void 0)),"bin"+Y(e).map(t=>Q(`_${t}_${e[t]}`)).join("")}function Wn(e){return!0===e||Gn(e)&&!e.binned}function Hn(e){return"binned"===e||Gn(e)&&e.binned}function Gn(e){return a(e)}function Yn(e){switch(e){case Re:case Pe:case Ze:case Ve:case Je:case Qe:case nt:case Ke:case et:case tt:case Xe:return 6;default:return 10}}function Vn(e,t){const n=e&&e[t];return!!n&&(o(n)?P(n,e=>!!e.field):yn(n)||gn(n))}function Jn(e){return P(gt,t=>{if(Vn(e,t)){const n=e[t];if(o(n))return P(n,e=>!!e.aggregate);{const e=Nn(n);return e&&!!e.aggregate}}return!1})}function Qn(e,t){const n=[],i=[],r=[],o=[],a={};return Kn(e,(s,u)=>{if(yn(s)){const{field:c,aggregate:l,timeUnit:f,bin:d}=s,p=ke(s,["field","aggregate","timeUnit","bin"]);if(l||f||d){const e=$n(s),h=e&&e.title;let m=Cn(s,{forAs:!0});const g=Object.assign({},h?[]:{title:On(s,t,{allowDisabling:!0})},p,{field:m}),y="x"===u||"y"===u;if(l){let e;if(Be(l)?(e="argmax",m=Cn({aggregate:"argmax",field:l.argmax},{forAs:!0}),g.field=`${m}.${c}`):$e(l)?(e="argmin",m=Cn({aggregate:"argmin",field:l.argmin},{forAs:!0}),g.field=`${m}.${c}`):"boxplot"!==l&&"errorbar"!==l&&"errorband"!==l&&(e=l),e){const t={op:e,as:m};c&&(t.field=c),o.push(t)}}else if(n.push(m),bn(s)&&Wn(d)){if(i.push({bin:d,field:c,as:m}),n.push(Cn(s,{binSuffix:"end"})),In(s,u)&&n.push(Cn(s,{binSuffix:"range"})),y){const e={field:m+"_end"};a[u+"2"]=e}g.bin="binned",At(u)||(g.type="quantitative")}else if(f){r.push({timeUnit:f,field:c,as:m});const e=an(f,t.axis.shortTimeLabels).join(" "),n=bn(s)&&s.type!==fn&&"time";"text"===u||"tooltip"===u?(g.format=g.format||e,n&&(g.formatType=n)):!function(e){return!!Ct[e]}(u)?y&&(g.axis=Object.assign({format:e},n?{formatType:n}:{},g.axis)):g.legend=Object.assign({format:e},n?{formatType:n}:{},g.legend)}a[u]=g}else n.push(c),a[u]=e[u]}else a[u]=e[u]}),{bins:i,timeUnits:r,aggregate:o,groupby:n,encoding:a}}function Xn(e,t){return Y(e).reduce((n,i)=>{if(!vt(i))return Lt(zt.invalidEncodingChannel(i)),n;if(!function(e,t,n){const i=jt(t,n);if(!i)return!1;if("binned"===i){const n=e["x2"===t?"x":"y"];return!!(yn(n)&&yn(e[t])&&Hn(n.bin))}return!0}(e,i,t))return Lt(zt.incompatibleChannel(i,t)),n;if("size"===i&&"line"===t){const t=_n(e[i]);if(t&&t.aggregate)return Lt(zt.LINE_WITH_VARYING_SIZE),n}if("color"===i&&("fill"in e||"stroke"in e))return Lt(zt.droppingColor("encoding",{fill:"fill"in e,stroke:"stroke"in e})),n;const r=e[i];if("detail"===i||"order"===i&&!o(r)&&!xn(r)||"tooltip"===i&&o(r))r&&(n[i]=(o(r)?r:[r]).reduce((e,t)=>(yn(t)?e.push(zn(t,i)):Lt(zt.emptyFieldDef(t,i)),e),[]));else{if("tooltip"===i&&null===r)n[i]=null;else if(!yn(r)&&!xn(r)&&!mn(r))return Lt(zt.emptyFieldDef(r,i)),n;n[i]=Tn(r,i)}return n},{})}function Zn(e){const t=[];for(const n of Y(e))if(Vn(e,n)){const i=e[n];(o(i)?i:[i]).forEach(e=>{yn(e)?t.push(e):gn(e)&&t.push(e.condition)})}return t}function Kn(e,t,n){if(e)for(const i of Y(e)){const r=e[i];o(r)?r.forEach(e=>{t.call(n,e,i)}):t.call(n,r,i)}}function ei(e,t,n,i){return e?Y(e).reduce((n,r)=>{const a=e[r];return o(a)?a.reduce((e,n)=>t.call(i,e,n,r),n):t.call(i,n,a,r)},n):n}function ti(e,t){return Y(t).reduce((n,i)=>{switch(i){case"x":case"y":case"href":case"x2":case"y2":case"latitude":case"longitude":case"latitude2":case"longitude2":case"text":case"shape":case"tooltip":return n;case"order":if("line"===e||"trail"===e)return n;case"detail":case"key":{const e=t[i];return(o(e)||yn(e))&&(o(e)?e:[e]).forEach(e=>{e.aggregate||n.push(Cn(e,{}))}),n}case"size":if("trail"===e)return n;case"color":case"fill":case"stroke":case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":{const e=_n(t[i]);return e&&!e.aggregate&&n.push(Cn(e,{})),n}}},[])}function ni(e,t,n,i=!0){if("tooltip"in n)return{tooltip:n.tooltip};return{tooltip:[...e.map(({fieldPrefix:e,titlePrefix:n})=>({field:e+t.field,type:t.type,title:n+(i?" of "+t.field:"")})),...Zn(n)]}}function ii(e,t,n,i,r){const{scale:o,axis:a}=n;return({partName:u,mark:c,positionPrefix:l,endPositionPrefix:f,extraEncoding:d={}})=>{const p=a&&void 0!==a.title?void 0:void 0!==n.title?n.title:n.field;return ri(e,u,r,{mark:c,encoding:Object.assign({[t]:Object.assign({field:l+"_"+n.field,type:n.type},p?{title:p}:{},o?{scale:o}:{},a?{axis:a}:{})},s(f)?{[t+"2"]:{field:f+"_"+n.field,type:n.type}}:{},i,d)})}}function ri(e,t,n,i){const{clip:r,color:o,opacity:a}=e,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign({},i,{mark:Object.assign({},n[t],r?{clip:r}:{},o?{color:o}:{},a?{opacity:a}:{},Ae(i.mark)?i.mark:{type:i.mark},{style:`${s}-${t}`},b(e[t])?{}:e[t])})]:[]}function oi(e,t,n){const{encoding:i}=e,r="vertical"===t?"y":"x",o=i[r],a=i[r+"2"],s=i[r+"Error"],u=i[r+"Error2"];return{continuousAxisChannelDef:ai(o,n),continuousAxisChannelDef2:ai(a,n),continuousAxisChannelDefError:ai(s,n),continuousAxisChannelDefError2:ai(u,n),continuousAxis:r}}function ai(e,t){if(e&&e.aggregate){const{aggregate:n}=e,i=ke(e,["aggregate"]);return n!==t&&Lt(zt.errorBarContinuousAxisHasCustomizedAggregate(n,t)),i}return e}function si(e,t){const{mark:n,encoding:i}=e;if(yn(i.x)&&Fn(i.x)){if(yn(i.y)&&Fn(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t)return"horizontal";if(i.x.aggregate===t&&i.y.aggregate===t)throw new Error("Both x and y cannot have aggregate");return Ae(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(yn(i.y)&&Fn(i.y))return"vertical";throw new Error("Need a valid continuous axis for "+t+"s")}const ui="boxplot",ci=Y({box:1,median:1,outliers:1,rule:1,ticks:1}),li=new Se(ui,di);function fi(e){return v(e)?"tukey":e}function di(e,{config:t}){const{mark:n,encoding:i,selection:r,projection:s}=e,u=ke(e,["mark","encoding","selection","projection"]),c=Ae(n)?n:{type:n};r&&Lt(zt.selectionNotSupported("boxplot"));const l=c.extent||t.boxplot.extent,f=re(c.size,t.boxplot.size),d=fi(l),{transform:p,continuousAxisChannelDef:h,continuousAxis:m,groupby:g,aggregate:y,encodingWithoutContinuousAxis:b,ticksOrient:v,customTooltipWithoutAggregatedField:x}=function(e,t,n){const i=si(e,ui),{continuousAxisChannelDef:r,continuousAxis:a}=oi(e,i,ui),s=r.field,u=fi(t),c=[...pi(s),{op:"median",field:s,as:"mid_box_"+s},{op:"min",field:s,as:("min-max"===u?"lower_whisker_":"min_")+s},{op:"max",field:s,as:("min-max"===u?"upper_whisker_":"max_")+s}],l="min-max"===u||"tukey"===u?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:"iqr_"+s},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:"upper_whisker_"+s},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:"lower_whisker_"+s}],f=e.encoding,d=a,p=(f[d],ke(f,["symbol"==typeof d?d:d+""])),{customTooltipWithoutAggregatedField:h,filteredEncoding:m}=function(e){const{tooltip:t}=e,n=ke(e,["tooltip"]);if(!t)return{filteredEncoding:e};let i,r;return o(t)?(t.forEach(e=>{e.aggregate?(i||(i=[]),i.push(e)):(r||(r=[]),r.push(e))}),i&&(n.tooltip=i)):t.aggregate?n.tooltip=t:r=t,o(r)&&1===r.length&&(r=r[0]),{customTooltipWithoutAggregatedField:r,filteredEncoding:n}}(p),{bins:g,timeUnits:y,aggregate:b,groupby:v,encoding:x}=Qn(m,n),A="vertical"===i?"horizontal":"vertical";return{transform:[...g,...y,{aggregate:[...b,...c],groupby:v},...l],groupby:v,aggregate:b,continuousAxisChannelDef:r,continuousAxis:a,encodingWithoutContinuousAxis:x,ticksOrient:A,customTooltipWithoutAggregatedField:h}}(e,l,t),{color:A,size:w}=b,C=ke(b,["color","size"]),F=e=>ii(c,m,h,e,t.boxplot),E=F(C),D=F(b),S=F(Object.assign({},C,w?{size:w}:{})),k=ni([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],h,b),O={type:"tick",color:"black",opacity:1,orient:v},$="min-max"===d?k:ni([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],h,b),B=[...E({partName:"rule",mark:"rule",positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:$}),...E({partName:"rule",mark:"rule",positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:$}),...E({partName:"ticks",mark:O,positionPrefix:"lower_whisker",extraEncoding:$}),...E({partName:"ticks",mark:O,positionPrefix:"upper_whisker",extraEncoding:$})],j=[..."tukey"!==d?B:[],...D({partName:"box",mark:Object.assign({type:"bar"},f?{size:f}:{}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:k}),...S({partName:"median",mark:Object.assign({type:"tick"},a(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},f?{size:f}:{},{orient:v}),positionPrefix:"mid_box",extraEncoding:k})];let N;if("min-max"!==d){const e=`datum["lower_box_${h.field}"]`,n=`datum["upper_box_${h.field}"]`,i=`(${n} - ${e})`,r=`${e} - ${l} * ${i}`,o=`${n} + ${l} * ${i}`,a=`datum["${h.field}"]`,s={joinaggregate:pi(h.field),groupby:g};let u=void 0;"tukey"===d&&(u={transform:[{filter:`(${r} <= ${a}) && (${a} <= ${o})`},{aggregate:[{op:"min",field:h.field,as:"lower_whisker_"+h.field},{op:"max",field:h.field,as:"upper_whisker_"+h.field},{op:"min",field:"lower_box_"+h.field,as:"lower_box_"+h.field},{op:"max",field:"upper_box_"+h.field,as:"upper_box_"+h.field},...y],groupby:g}],layer:B});const f=ke(C,["tooltip"]),p=ri(c,"outliers",t.boxplot,{transform:[{filter:`(${a} < ${r}) || (${a} > ${o})`}],mark:"point",encoding:Object.assign({[m]:{field:h.field,type:h.type}},f,x?{tooltip:x}:{})})[0];p&&u?N={transform:[s],layer:[p,u]}:p?(N=p).transform.unshift(s):u&&(N=u).transform.unshift(s)}return N?Object.assign({},u,{layer:[...N?[N]:[],{transform:p,layer:j}]}):Object.assign({},u,{transform:(u.transform||[]).concat(p),layer:j})}function pi(e){return[{op:"q1",field:e,as:"lower_box_"+e},{op:"q3",field:e,as:"upper_box_"+e}]}const hi="errorbar",mi=Y({ticks:1,rule:1}),gi=new Se(hi,yi);function yi(e,{config:t}){const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:u,tooltipEncoding:c}=vi(e,hi,t),l=ii(s,r,i,o,t.errorbar),f={type:"tick",orient:a};return Object.assign({},u,{transform:n,layer:[...l({partName:"ticks",mark:f,positionPrefix:"lower",extraEncoding:c}),...l({partName:"ticks",mark:f,positionPrefix:"upper",extraEncoding:c}),...l({partName:"rule",mark:"rule",positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})]})}function bi(e,t){const{encoding:n}=e;if(function(e){return(yn(e.x)||yn(e.y))&&!yn(e.x2)&&!yn(e.y2)&&!yn(e.xError)&&!yn(e.xError2)&&!yn(e.yError)&&!yn(e.yError2)}(n))return{orient:si(e,t),inputType:"raw"};const i=function(e){return yn(e.x2)||yn(e.y2)}(n),r=function(e){return yn(e.xError)||yn(e.xError2)||yn(e.yError)||yn(e.yError2)}(n),o=n.x,a=n.y;if(i){if(r)throw new Error(t+" cannot be both type aggregated-upper-lower and aggregated-error");const e=n.x2,i=n.y2;if(yn(e)&&yn(i))throw new Error(t+" cannot have both x2 and y2");if(yn(e)){if(yn(o)&&Fn(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error("Both x and x2 have to be quantitative in "+t)}if(yn(i)){if(yn(a)&&Fn(a))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error("Both y and y2 have to be quantitative in "+t)}throw new Error("No ranged axis")}{const e=n.xError,i=n.xError2,r=n.yError,s=n.yError2;if(yn(i)&&!yn(e))throw new Error(t+" cannot have xError2 without xError");if(yn(s)&&!yn(r))throw new Error(t+" cannot have yError2 without yError");if(yn(e)&&yn(r))throw new Error(t+" cannot have both xError and yError with both are quantiative");if(yn(e)){if(yn(o)&&Fn(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}if(yn(r)){if(yn(a)&&Fn(a))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function vi(e,t,n){const{mark:i,encoding:r,selection:o,projection:a}=e,s=ke(e,["mark","encoding","selection","projection"]),u=Ae(i)?i:{type:i};o&&Lt(zt.selectionNotSupported(t));const{orient:c,inputType:l}=bi(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:h,continuousAxis:m}=oi(e,c,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:b,tooltipTitleWithFieldName:v}=function(e,t,n,i,r,o,a,s){let u=[],c=[];const l=t.field;let f,d=!1;if("raw"===o){const t=e.center?e.center:e.extent?"iqr"===e.extent?"median":"mean":s.errorbar.center,n=e.extent?e.extent:"mean"===t?"stderr":"iqr";if("median"===t!=("iqr"===n)&&Lt(zt.errorBarCenterIsUsedWithWrongExtent(t,n,a)),"stderr"===n||"stdev"===n)u=[{op:n,field:l,as:"extent_"+l},{op:t,field:l,as:"center_"+l}],c=[{calculate:`datum["center_${l}"] + datum["extent_${l}"]`,as:"upper_"+l},{calculate:`datum["center_${l}"] - datum["extent_${l}"]`,as:"lower_"+l}],f=[{fieldPrefix:"center_",titlePrefix:K(t)},{fieldPrefix:"upper_",titlePrefix:xi(t,n,"+")},{fieldPrefix:"lower_",titlePrefix:xi(t,n,"-")}],d=!0;else{let t,i,r;e.center&&e.extent&&Lt(zt.errorBarCenterIsNotNeeded(e.extent,a)),"ci"===n?(t="mean",i="ci0",r="ci1"):(t="median",i="q1",r="q3"),u=[{op:i,field:l,as:"lower_"+l},{op:r,field:l,as:"upper_"+l},{op:t,field:l,as:"center_"+l}],f=[{fieldPrefix:"upper_",titlePrefix:On({field:l,aggregate:r,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:On({field:l,aggregate:i,type:"quantitative"},s,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:On({field:l,aggregate:t,type:"quantitative"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&Lt(zt.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),"aggregated-upper-lower"===o?(f=[],c=[{calculate:`datum["${n.field}"]`,as:"upper_"+l},{calculate:`datum["${l}"]`,as:"lower_"+l}]):"aggregated-error"===o&&(f=[{fieldPrefix:"",titlePrefix:l}],c=[{calculate:`datum["${l}"] + datum["${i.field}"]`,as:"upper_"+l}],r?c.push({calculate:`datum["${l}"] + datum["${r.field}"]`,as:"lower_"+l}):c.push({calculate:`datum["${l}"] - datum["${i.field}"]`,as:"lower_"+l}));for(const e of c)f.push({fieldPrefix:e.as.substring(0,6),titlePrefix:e.calculate.replace(new RegExp('datum\\[\\"',"g"),"").replace(new RegExp('\\"\\]',"g"),"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}(u,f,d,p,h,l,t,n),x=m,A=(r[x],"x"===m?"x2":"y2"),w=(r[A],"x"===m?"xError":"yError"),C=(r[w],"x"===m?"xError2":"yError2"),F=(r[C],ke(r,["symbol"==typeof x?x:x+"","symbol"==typeof A?A:A+"","symbol"==typeof w?w:w+"","symbol"==typeof C?C:C+""])),{bins:E,timeUnits:D,aggregate:S,groupby:k,encoding:O}=Qn(F,n),$=[...S,...g],B="raw"!==l?[]:k,j=ni(b,f,O,v);return{transform:[...s.transform||[],...E,...D,...$.length?[{aggregate:$,groupby:B}]:[],...y],groupby:B,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:O,ticksOrient:"vertical"===c?"horizontal":"vertical",markDef:u,outerSpec:s,tooltipEncoding:j}}function xi(e,t,n){return K(e)+" "+n+" "+t}const Ai="errorband",wi=Y({band:1,borders:1}),Ci=new Se(Ai,Fi);function Fi(e,{config:t}){const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:u}=vi(e,Ai,t),c=a,l=ii(c,r,i,o,t.errorband),f=void 0!==e.encoding.x&&void 0!==e.encoding.y;let d={type:f?"area":"rect"},p={type:f?"line":"rule"};const h=Object.assign({},c.interpolate?{interpolate:c.interpolate}:{},c.tension&&c.interpolate?{interpolate:c.tension}:{});return f?(d=Object.assign({},d,h),p=Object.assign({},p,h)):c.interpolate?Lt(zt.errorBand1DNotSupport("interpolate")):c.tension&&Lt(zt.errorBand1DNotSupport("tension")),Object.assign({},s,{transform:n,layer:[...l({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...l({partName:"borders",mark:p,positionPrefix:"lower",extraEncoding:u}),...l({partName:"borders",mark:p,positionPrefix:"upper",extraEncoding:u})]})}const Ei={};function Di(e,t,n){const i=new Se(e,t);Ei[e]={normalizer:i,parts:n}}Di(ui,di,ci),Di(hi,yi,mi),Di(Ai,Fi,wi);const Si=["shortTimeLabels"],ki=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength"],Oi={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},$i=Object.assign({},Oi,{opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,encode:1}),Bi=Y(Oi),ji=Y($i);var Ni;!function(e){e.LINEAR="linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.SYMLOG="symlog",e.TIME="time",e.UTC="utc",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.BIN_ORDINAL="bin-ordinal",e.ORDINAL="ordinal",e.POINT="point",e.BAND="band"}(Ni||(Ni={}));const _i={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Ti=Y(_i);function zi(e,t){const n=_i[e],i=_i[t];return n===i||"ordinal-position"===n&&"time"===i||"ordinal-position"===i&&"time"===n}const Ri={linear:0,log:1,pow:1,sqrt:1,symlog:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function Pi(e){return Ri[e]}const Ui=["linear","log","pow","sqrt","symlog","time","utc"],Mi=x(Ui),Li=x(["quantile","quantize","threshold"]),Ii=x(Ui.concat(["quantile","quantize","threshold"])),qi=x(["ordinal","bin-ordinal","point","band"]);function Wi(e){return e in qi}function Hi(e){return e in Ii}function Gi(e){return e in Mi}function Yi(e){return e in Li}const Vi={textXRangeStep:90,rangeStep:20,pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4};function Ji(e){return e&&e.selection}const Qi=ke({type:1,domain:1,align:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","rangeStep","scheme"]),Xi=Y(Qi);!function(){const e={};for(const t of gt)for(const n of Y(un))for(const i of Ti){const r=nr(t,n);tr(t,i)&&er(i,n)&&(e[r]=e[r]||[],e[r].push(i))}}();function Zi(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!R(["point","band","identity"],e);case"bins":return!R(["point","band","identity","ordinal"],e);case"round":return Gi(e)||"band"===e||"point"===e;case"padding":return Gi(e)||R(["point","band"],e);case"paddingOuter":case"rangeStep":case"align":return R(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return Gi(e);case"nice":return Gi(e)||"quantize"===e||"threshold"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"constant":return"symlog"===e;case"zero":return Hi(e)&&!R(["log","time","utc","threshold","quantile"],e)}}function Ki(e,t){switch(t){case"interpolate":case"scheme":return dt(e)?void 0:zt.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}}function er(e,t){return R([ln,dn],t)?void 0===e||Wi(e):t===fn?R([Ni.TIME,Ni.UTC,void 0],e):t!==cn||R([Ni.LOG,Ni.POW,Ni.SQRT,Ni.SYMLOG,Ni.QUANTILE,Ni.QUANTIZE,Ni.THRESHOLD,Ni.LINEAR,void 0],e)}function tr(e,t){switch(e){case Me:case Le:return Gi(t)||R(["band","point"],t);case Ze:case nt:case Ke:case et:case tt:return Gi(t)||Yi(t)||R(["band","point"],t);case Ve:case Je:case Qe:return"band"!==t;case Xe:return"ordinal"===t}return!1}function nr(e,t){return e+"_"+t}const ir="_vgsid_";function rr(e){return"interval"===e.type}const or={single:{on:"click",fields:[ir],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:[ir],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function ar(e){return void 0!==e.concat}function sr(e){return void 0!==e.vconcat}function ur(e){return void 0!==e.hconcat}function cr(e){return void 0!==e.repeat}const lr=Y({align:1,bounds:1,center:1,columns:1,spacing:1});function fr(e){const{anchor:t,frame:n,offset:i,orient:r,color:o}=e,a=ke(e,["anchor","frame","offset","orient","color"]);return{mark:Object.assign({},a,o?{fill:o}:{}),nonMark:Object.assign({},t?{anchor:t}:{},n?{frame:n}:{},i?{offset:i}:{},r?{orient:r}:{})}}const dr={padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",invalidValues:"filter",view:{width:200,height:200},mark:{color:"#4c78a8",tooltip:{content:"encoding"}},area:{},bar:Fe,circle:{},geoshape:{},line:{},point:{},rect:Ee,rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:Vi,projection:{},axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:or,style:{},title:{},facet:{spacing:20},repeat:{spacing:20},concat:{spacing:20}};function pr(e){return L(B(dr),e)}const hr=["view",...xe],mr=["padding","facet","concat","repeat","numberFormat","timeFormat","countTitle","header","stack","scale","selection","invalidValues","overlay"],gr=Object.assign({view:["width","height"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],text:["shortTimeLabels"],tick:["bandSize","thickness"]});function yr(e){e=B(e);for(const t of mr)delete e[t];if(e.axis)for(const t of Si)delete e.axis[t];if(e.legend){for(const t of Si)delete e.legend[t];for(const t of ki)delete e.legend[t]}if(e.mark)for(const t of Ce)delete e.mark[t];for(const t of hr){for(const n of Ce)delete e[t][n];const n=gr[t];if(n)for(const i of n)delete e[t][i];br(e,t)}for(const t of Y(Ei))delete e[t];br(e,"title","group-title");for(const t in e)a(e[t])&&0===Y(e[t]).length&&delete e[t];return Y(e).length>0?e:void 0}function br(e,t,n,i){const r="title"===t?fr(e.title).mark:i?e[t][i]:e[t];"view"===t&&(n="cell");const o=Object.assign({},r,e.style[t]);Y(o).length>0&&(e.style[n||t]=o),i||delete e[t]}function vr(e){return void 0!==e.layer}class xr{map(e,t){return Qt(e)?this.mapFacet(e,t):cr(e)?this.mapRepeat(e,t):ur(e)?this.mapHConcat(e,t):sr(e)?this.mapVConcat(e,t):ar(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(vr(e))return this.mapLayer(e,t);if(De(e))return this.mapUnit(e,t);throw new Error(zt.INVALID_SPEC)}mapLayer(e,t){return Object.assign({},e,{layer:e.layer.map(e=>this.mapLayerOrUnit(e,t))})}mapHConcat(e,t){return Object.assign({},e,{hconcat:e.hconcat.map(e=>this.map(e,t))})}mapVConcat(e,t){return Object.assign({},e,{vconcat:e.vconcat.map(e=>this.map(e,t))})}mapConcat(e,t){const{concat:n}=e,i=ke(e,["concat"]);return Object.assign({},i,{concat:n.map(e=>this.map(e,t))})}mapFacet(e,t){return Object.assign({},e,{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign({},e,{spec:this.map(e.spec,t)})}}const Ar={zero:1,center:1,normalize:1};const wr=[ue,se,de,le,ge,ye,ce,pe,he],Cr=[ue,se];function Fr(e,t,n,i={}){const r=Ae(e)?e.type:e;if(!R(wr,r))return null;const a=function(e){const t=e.x,n=e.y;if(yn(t)&&yn(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if(yn(t)&&"quantitative"===t.type)return"x";if(yn(n)&&"quantitative"===n.type)return"y"}}(t);if(!a)return null;const s=t[a],u=vn(s)?Cn(s,{}):void 0,c="x"===a?"y":"x",l=t[c],f=vn(l)?Cn(l,{}):void 0,d=Ft.reduce((e,n)=>{if("tooltip"!==n&&Vn(t,n)){const i=t[n];(o(i)?i:[i]).forEach(t=>{const i=_n(t);if(i.aggregate)return;const r=vn(i)?Cn(i,{}):void 0;(!r||r!==f&&r!==u)&&e.push({channel:n,fieldDef:i})})}return e},[]);let p;if(void 0!==s.stack?p=b(s.stack)?s.stack?"zero":null:s.stack:d.length>0&&(p=R(Cr,r)?re(n,"zero"):n),!p||!Ar[p])return null;if(s.scale&&s.scale.type&&s.scale.type!==Ni.LINEAR){if(i.disallowNonLinearStack)return null;Lt(zt.cannotStackNonLinearScale(s.scale.type))}return Vn(t,a===Me?Ie:qe)?(void 0!==s.stack&&Lt(zt.cannotStackRangedMark(a)),null):(s.aggregate&&!R(Te,s.aggregate)&&Lt(zt.stackNonSummativeAggregate(s.aggregate)),{groupbyChannel:l?c:void 0,fieldChannel:a,impute:ve(r),stackBy:d,offset:p})}function Er(e){const t=ke(e,["point","line"]);return Y(t).length>1?t:t.type}function Dr(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign({},e,{[t]:N(e[t],["point","line"])}));return e}function Sr(e,t={},n){return"transparent"===e.point?{opacity:0}:e.point?a(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?a(t.point)?t.point:{}:void 0}function kr(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class Or{constructor(){this.name="path-overlay"}hasMatchingType(e,t){if(De(e)){const{mark:n,encoding:i}=e,r=Ae(n)?n:{type:n};switch(r.type){case"line":case"rule":case"trail":return!!Sr(r,t[r.type],i);case"area":return!!Sr(r,t[r.type],i)||!!kr(r,t[r.type])}}return!1}run(e,t,n){const{config:i}=t,{selection:r,projection:o,encoding:a,mark:s}=e,u=ke(e,["selection","projection","encoding","mark"]),c=Ae(s)?s:{type:s},l=Sr(c,i[c.type],a),f="area"===c.type&&kr(c,i[c.type]),d=[Object.assign({},r?{selection:r}:{},{mark:Er(Object.assign({},c,"area"===c.type?{opacity:.7}:{})),encoding:N(a,["shape"])})],p=Fr(c,a,i?i.stack:void 0);let h=a;if(p){const{fieldChannel:e,offset:t}=p;h=Object.assign({},a,{[e]:Object.assign({},a[e],t?{stack:t}:{})})}return f&&d.push(Object.assign({},o?{projection:o}:{},{mark:Object.assign({type:"line"},j(c,["clip","interpolate","tension","tooltip"]),f),encoding:h})),l&&d.push(Object.assign({},o?{projection:o}:{},{mark:Object.assign({type:"point",opacity:1,filled:!0},j(c,["clip","tooltip"]),l),encoding:h})),n(Object.assign({},u,{layer:d}),Object.assign({},t,{config:Dr(i)}))}}class $r{constructor(){this.name="RuleForRangedLine"}hasMatchingType(e){if(De(e)){const{encoding:t,mark:n}=e;if("line"===n)for(const e of xt){const n=t[wt(e)];if(t[e]&&yn(n)&&!Hn(n.bin))return!0}}return!1}run(e,t,n){const{encoding:i}=e;return Lt(zt.lineWithRange(!!i.x2,!!i.y2)),n(Object.assign({},e,{mark:"rule"}),t)}}function Br(e){const{parentEncoding:t,encoding:n}=e;if(t&&n){const e=Y(t).reduce((e,t)=>(n[t]&&e.push(t),e),[]);e.length>0&&Lt(zt.encodingOverridden(e))}const i=Object.assign({},t||{},n||{});return Y(i).length>0?i:void 0}function jr(e){const{parentProjection:t,projection:n}=e;return t&&n&&Lt(zt.projectionOverridden({parentProjection:t,projection:n})),n||t}function Nr(e,t){return void 0===t&&(t=pr(e.config)),function(e,t={}){return _r.map(e,{config:t})}(e,t)}const _r=new class extends xr{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[li,gi,Ci,new Or,new $r]}map(e,t){if(De(e)){const n=Vn(e.encoding,Re),i=Vn(e.encoding,Pe),r=Vn(e.encoding,Ue);if(n||i||r)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:i}=t;if(n||i)return this.mapUnitWithParentEncodingOrProjection(e,t);const r=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(e,t.config))return n.run(e,t,r);return e}mapRepeat(e,t){const{repeat:n}=e;return!o(n)&&e.columns&&(e=N(e,["columns"]),Lt(zt.columnsNotSupportByRowCol("repeat"))),Object.assign({},e,{spec:this.map(e.spec,t)})}mapFacet(e,t){const{facet:n}=e;return Jt(n)&&e.columns&&(e=N(e,["columns"]),Lt(zt.columnsNotSupportByRowCol("facet"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:i}=e,{parentEncoding:r,parentProjection:o,config:a}=t,s=jr({parentProjection:o,projection:i}),u=Br({parentEncoding:r,encoding:n});return this.mapUnit(Object.assign({},e,s?{projection:s}:{},u?{encoding:u}:{}),{config:a})}mapFacetedUnit(e,t){const n=e.encoding,{row:i,column:r,facet:o}=n,a=ke(n,["row","column","facet"]),{mark:s,width:u,projection:c,height:l,selection:f,encoding:d}=e,p=ke(e,["mark","width","projection","height","selection","encoding"]);return o&&(i||r)&&Lt(zt.facetChannelDropped([...i?[Re]:[],...r?[Pe]:[]])),this.mapFacet(Object.assign({},p,{facet:i||r?Object.assign({},i?{row:i}:{},r?{column:r}:{}):o,spec:Object.assign({},c?{projection:c}:{},{mark:s},u?{width:u}:{},l?{height:l}:{},{encoding:a},f?{selection:f}:{})}),t)}mapLayer(e,t){var{parentEncoding:n,parentProjection:i}=t,r=ke(t,["parentEncoding","parentProjection"]);const{encoding:o,projection:a}=e,s=ke(e,["encoding","projection"]),u=Object.assign({},r,{parentEncoding:Br({parentEncoding:n,encoding:o}),parentProjection:jr({parentProjection:i,projection:a})});return super.mapLayer(s,u)}};function Tr(e){return s(e)?{type:e}:e||{}}const zr=["background","padding"];function Rr(e){return zr.reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}function Pr(e){return!!e.url}function Ur(e){return!!e.values}function Mr(e){return!(!e.name||Pr(e)||Ur(e)||Lr(e))}function Lr(e){return e&&(Ir(e)||qr(e)||Wr(e))}function Ir(e){return!!e.sequence}function qr(e){return!!e.sphere}function Wr(e){return!!e.graticule}const Hr="main",Gr="raw";function Yr(e){return e&&!!e.field&&void 0!==e.equal}function Vr(e){return e&&!!e.field&&void 0!==e.lt}function Jr(e){return e&&!!e.field&&void 0!==e.lte}function Qr(e){return e&&!!e.field&&void 0!==e.gt}function Xr(e){return e&&!!e.field&&void 0!==e.gte}function Zr(e){return!!(e&&e.field&&o(e.range)&&2===e.range.length)}function Kr(e){return e&&!!e.field&&(o(e.oneOf)||o(e.in))}function eo(e){return Kr(e)||Yr(e)||Zr(e)||Vr(e)||Qr(e)||Jr(e)||Xr(e)}function to(e,t){return Mn(e,{timeUnit:t,time:!0})}function no(e,t=!0){const{field:n,timeUnit:i}=e,r=i?"time("+on(i,n)+")":Cn(e,{expr:"datum"});if(Yr(e))return r+"==="+to(e.equal,i);if(Vr(e)){return`${r}<${to(e.lt,i)}`}if(Qr(e)){return`${r}>${to(e.gt,i)}`}if(Jr(e)){return`${r}<=${to(e.lte,i)}`}if(Xr(e)){return`${r}>=${to(e.gte,i)}`}if(Kr(e))return`indexof([${function(e,t){return e.map(e=>to(e,t))}(e.oneOf,i).join(",")}], ${r}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return e.valid?`${r}!==null&&!isNaN(${r})`:`${r}===null||isNaN(${r})`;if(Zr(e)){const n=e.range[0],o=e.range[1];if(null!==n&&null!==o&&t)return"inrange("+r+", ["+to(n,i)+", "+to(o,i)+"])";const a=[];return null!==n&&a.push(`${r} >= ${to(n,i)}`),null!==o&&a.push(`${r} <= ${to(o,i)}`),a.length>0?a.join(" && "):"true"}throw new Error(`Invalid field predicate: ${JSON.stringify(e)}`)}function io(e){return eo(e)&&e.timeUnit?Object.assign({},e,{timeUnit:sn(e.timeUnit)}):e}function ro(e){return void 0!==e.filter}function oo(e){return void 0!==e.lookup}function ao(e){return void 0!==e.sample}function so(e){return void 0!==e.window}function uo(e){return void 0!==e.joinaggregate}function co(e){return void 0!==e.flatten}function lo(e){return void 0!==e.calculate}function fo(e){return!!e.bin}function po(e){return void 0!==e.impute}function ho(e){return void 0!==e.timeUnit}function mo(e){return void 0!==e.aggregate}function go(e){return void 0!==e.stack}function yo(e){return void 0!==e.fold}function bo(e){return!!e.signal}function vo(e){return!!e.step}function xo(e){return!o(e)&&("field"in e&&"data"in e)}const Ao=Y({opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeMiterLimit:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1,tooltip:1,cornerRadius:1,x:1,y:1,x2:1,y2:1,width:1,height:1}),wo=["domain","grid","labels","ticks","title"],Co={grid:"grid",gridColor:"grid",gridDash:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",domain:"main",domainColor:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontWeight:"main",labelLimit:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",maxExtent:"main",minExtent:"main",offset:"main",position:"main",tickColor:"main",tickExtra:"main",tickOffset:"both",tickOpacity:"main",tickRound:"main",ticks:"main",tickSize:"main",title:"main",titleAlign:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontWeight:"main",titleLimit:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",tickWidth:"both",tickCount:"both",values:"both",scale:"both",zindex:"both"},Fo={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},Eo=Object.assign({},Fo,{encoding:1}),Do=Object.assign({gridScale:1,scale:1},Fo,{encode:1});const So=Y(Do);function ko(e,t,n,i={header:!1}){const r=e.combine(),{orient:a,scale:s,title:u,zindex:c}=r,l=ke(r,["orient","scale","title","zindex"]);if(Y(l).forEach(e=>{const n=Co[e];n&&n!==t&&"both"!==n&&delete l[e]}),"grid"===t){if(!l.grid)return;if(l.encode){const{grid:e}=l.encode;l.encode=Object.assign({},e?{grid:e}:{}),0===Y(l.encode).length&&delete l.encode}return Object.assign({scale:s,orient:a},l,{domain:!1,labels:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:re(c,0)})}{if(!i.header&&e.mainExtracted)return;if(l.encode){for(const t of wo)e.hasAxisPart(t)||delete l.encode[t];0===Y(l.encode).length&&delete l.encode}const t=function(e,t){return o(e)?e.map(e=>Bn(e,t)).join(", "):e}(u,n);return Object.assign({scale:s,orient:a,grid:!1},t?{title:t}:{},l,{zindex:re(c,1)})}}function Oo(e){const{axes:t}=e.component;for(const n of Dt)if(t[n])for(const i of t[n])if(!i.get("gridScale")){const t="x"===n?"height":"width";return[{name:t,update:e.getSizeSignalRef(t).signal}]}return[]}const $o={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleOrient:"orient",titlePadding:"offset"},Bo={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelLimit:"limit",labelOrient:"orient",labelPadding:"offset"},jo=Y($o),No=Y(Bo),_o="mean";function To(e){return!(!e||"count"!==e.op&&!e.field)}function zo(e){return!!e&&o(e)}function Ro(e,t,n,i,r){const o=[..."band"===r?["axisBand"]:[],"x"===n?"axisX":"axisY",...i?["axis"+i.substr(0,1).toUpperCase()+i.substr(1)]:[],"axis"];for(const n of o)if(t[n]&&void 0!==t[n][e])return t[n][e]}function Po(e,t){if(void 0!==e)return e=ae(e),"top"===t||"bottom"===t?e<=45||315<=e?"top"===t?"bottom":"top":135<=e&&e<=225?"top"===t?"top":"bottom":"middle":e<=45||315<=e||135<=e&&e<=225?"middle":45<=e&&e<=135?"left"===t?"top":"bottom":"left"===t?"bottom":"top"}function Uo(e,t){if(void 0!==e)return e=ae(e),"top"===t||"bottom"===t?e%180==0?"center":0<e&&e<180?"top"===t?"right":"left":"top"===t?"left":"right":(e+90)%180==0?"center":90<=e&&e<270?"left"===t?"left":"right":"left"===t?"right":"left"}function Mo(e){switch(e){case Me:return"bottom";case Le:return"left"}throw new Error(zt.INVALID_CHANNEL_FOR_AXIS)}function Lo(e){return[].concat(e.type,e.style||[])}function Io(e,t,n,{vgChannel:i}={}){return re(i?qo(e,t,n.style):void 0,qo(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function qo(e,t,n){const i=Lo(t);let r;for(const t of i){const i=n[t],o=e;i&&void 0!==i[o]&&(r=i[o])}return r}function Wo(e,t,n,i){if(Un(e)){const r=An(e)&&e.scale&&e.scale.type===Ni.UTC;return{signal:Jo(Cn(e,{expr:n}),e.timeUnit,t,i.text.shortTimeLabels,i.timeFormat,r,!0)}}{const r=Ho(e,t,i);if(Wn(e.bin)){return{signal:Vo(Cn(e,{expr:n}),Cn(e,{expr:n,binSuffix:"end"}),r,i)}}return"quantitative"===e.type||r?{signal:`${Go(Cn(e,{expr:n,binSuffix:"range"}),r)}`}:{signal:`''+${Cn(e,{expr:n})}`}}}function Ho(e,t,n){return t||(e.type===cn?n.numberFormat:void 0)}function Go(e,t){return`format(${e}, "${t||""}")`}function Yo(e,t,n){return Go(e,t||n.numberFormat)}function Vo(e,t,n,i){return`${e} === null || isNaN(${e}) ? "null" : ${Yo(e,n,i)} + " - " + ${Yo(t,n,i)}`}function Jo(e,t,n,i,r,o,a=!1){return!t||n?(n=n||r)||a?`${o?"utc":"time"}Format(${e}, '${n}')`:void 0:function(e,t,n,i){if(!e)return;const r=an(e,n);let o="";return rn(e,Xt.QUARTER)&&(o=`'Q' + quarter(${t})`),r.length>0&&(o&&(o+=" + ' ' + "),o+=i?`utcFormat(${t}, '${r.join(" ")}')`:`timeFormat(${t}, '${r.join(" ")}')`),o||void 0}(t,e,i,o)}function Qo(e,t){return(o(e)?e:[e]).reduce((e,n)=>(e.field.push(Cn(n,t)),e.order.push(n.sort||"ascending"),e),{field:[],order:[]})}function Xo(e,t){const n=[...e];return t.forEach(e=>{for(const t of n)if(_(t)===_(e))return;n.push(e)}),n}function Zo(e,t){return e!==t&&t?e?e+", "+t:t:e}function Ko(e,t){if(o(e.value)&&o(t.value))return{explicit:e.explicit,value:Xo(e.value,t.value)};if(!o(e.value)&&!o(t.value))return{explicit:e.explicit,value:Zo(e.value,t.value)};throw new Error("It should never reach here")}class ea{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error("Cannot clone node")}hash(){return void 0===this._hash&&(this._hash=function(e){const t=++oe;return e?String(e)+t:t}()),this._hash}producedFields(){return new Set}dependentFields(){return new Set}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.indexOf(e)>-1?console.warn("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}}class ta extends ea{constructor(e,t,n,i){super(e,t),this.type=n,this.refCounts=i,this._source=this._name=t,!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}var na,ia,ra,oa,aa,sa="RawCode",ua="Literal",ca="Property",la="Identifier",fa="ArrayExpression",da="BinaryExpression",pa="CallExpression",ha="ConditionalExpression",ma="LogicalExpression",ga="MemberExpression",ya="ObjectExpression",ba="UnaryExpression";function va(e){this.type=e}va.prototype.visit=function(e){var t,n,i;if(e(this))return 1;for(n=0,i=(t=function(e){switch(e.type){case fa:return e.elements;case da:case ma:return[e.left,e.right];case pa:var t=e.arguments.slice();return t.unshift(e.callee),t;case ha:return[e.test,e.consequent,e.alternate];case ga:return[e.object,e.property];case ya:return e.properties;case ca:return[e.key,e.value];case ba:return[e.argument];case la:case ua:case sa:default:return[]}}(this)).length;n<i;++n)if(t[n].visit(e))return 1};var xa=1,Aa=2,wa=3,Ca=4,Fa=5,Ea=6,Da=7,Sa=8;(na={})[xa]="Boolean",na[Aa]="<end>",na[wa]="Identifier",na[Ca]="Keyword",na[Fa]="Null",na[Ea]="Numeric",na[Da]="Punctuator",na[Sa]="String",na[9]="RegularExpression";var ka="ArrayExpression",Oa="BinaryExpression",$a="CallExpression",Ba="ConditionalExpression",ja="Identifier",Na="Literal",_a="LogicalExpression",Ta="MemberExpression",za="ObjectExpression",Ra="Property",Pa="UnaryExpression",Ua="Unexpected token %0",Ma="Unexpected number",La="Unexpected string",Ia="Unexpected identifier",qa="Unexpected reserved word",Wa="Unexpected end of input",Ha="Invalid regular expression",Ga="Invalid regular expression: missing /",Ya="Octal literals are not allowed in strict mode.",Va="Duplicate data property in object literal not allowed in strict mode",Ja="ILLEGAL",Qa="Disabled.",Xa=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Za=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Ka(e,t){if(!e)throw new Error("ASSERT: "+t)}function es(e){return e>=48&&e<=57}function ts(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function ns(e){return"01234567".indexOf(e)>=0}function is(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function rs(e){return 10===e||13===e||8232===e||8233===e}function os(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&Xa.test(String.fromCharCode(e))}function as(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Za.test(String.fromCharCode(e))}var ss={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function us(){for(var e;ra<oa&&(is(e=ia.charCodeAt(ra))||rs(e));)++ra}function cs(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)ra<oa&&ts(ia[ra])?(i=ia[ra++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):Es({},Ua,Ja);return String.fromCharCode(r)}function ls(){var e,t,n,i;for(t=0,"}"===(e=ia[ra])&&Es({},Ua,Ja);ra<oa&&ts(e=ia[ra++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&Es({},Ua,Ja),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function fs(){var e,t;for(e=ia.charCodeAt(ra++),t=String.fromCharCode(e),92===e&&(117!==ia.charCodeAt(ra)&&Es({},Ua,Ja),++ra,(e=cs("u"))&&"\\"!==e&&os(e.charCodeAt(0))||Es({},Ua,Ja),t=e);ra<oa&&as(e=ia.charCodeAt(ra));)++ra,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ia.charCodeAt(ra)&&Es({},Ua,Ja),++ra,(e=cs("u"))&&"\\"!==e&&as(e.charCodeAt(0))||Es({},Ua,Ja),t+=e);return t}function ds(){var e,t;return e=ra,{type:1===(t=92===ia.charCodeAt(ra)?fs():function(){var e,t;for(e=ra++;ra<oa;){if(92===(t=ia.charCodeAt(ra)))return ra=e,fs();if(!as(t))break;++ra}return ia.slice(e,ra)}()).length?wa:ss.hasOwnProperty(t)?Ca:"null"===t?Fa:"true"===t||"false"===t?xa:wa,value:t,start:e,end:ra}}function ps(){var e,t,n,i,r=ra,o=ia.charCodeAt(ra),a=ia[ra];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ra,{type:Da,value:String.fromCharCode(o),start:r,end:ra};default:if(61===(e=ia.charCodeAt(ra+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ra+=2,{type:Da,value:String.fromCharCode(o)+String.fromCharCode(e),start:r,end:ra};case 33:case 61:return ra+=2,61===ia.charCodeAt(ra)&&++ra,{type:Da,value:ia.slice(r,ra),start:r,end:ra}}}return">>>="===(i=ia.substr(ra,4))?{type:Da,value:i,start:r,end:ra+=4}:">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?{type:Da,value:n,start:r,end:ra+=3}:a===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(a)>=0||"=>"===t?{type:Da,value:t,start:r,end:ra+=2}:"<>=!+-*%&|^/".indexOf(a)>=0?{type:Da,value:a,start:r,end:++ra}:void Es({},Ua,Ja)}function hs(){var e,t,n;if(Ka(es((n=ia[ra]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=ra,e="","."!==n){if(e=ia[ra++],n=ia[ra],"0"===e){if("x"===n||"X"===n)return++ra,function(e){for(var t="";ra<oa&&ts(ia[ra]);)t+=ia[ra++];return 0===t.length&&Es({},Ua,Ja),os(ia.charCodeAt(ra))&&Es({},Ua,Ja),{type:Ea,value:parseInt("0x"+t,16),start:e,end:ra}}(t);if(ns(n))return function(e){for(var t="0"+ia[ra++];ra<oa&&ns(ia[ra]);)t+=ia[ra++];return(os(ia.charCodeAt(ra))||es(ia.charCodeAt(ra)))&&Es({},Ua,Ja),{type:Ea,value:parseInt(t,8),octal:!0,start:e,end:ra}}(t);n&&es(n.charCodeAt(0))&&Es({},Ua,Ja)}for(;es(ia.charCodeAt(ra));)e+=ia[ra++];n=ia[ra]}if("."===n){for(e+=ia[ra++];es(ia.charCodeAt(ra));)e+=ia[ra++];n=ia[ra]}if("e"===n||"E"===n)if(e+=ia[ra++],"+"!==(n=ia[ra])&&"-"!==n||(e+=ia[ra++]),es(ia.charCodeAt(ra)))for(;es(ia.charCodeAt(ra));)e+=ia[ra++];else Es({},Ua,Ja);return os(ia.charCodeAt(ra))&&Es({},Ua,Ja),{type:Ea,value:parseFloat(e),start:t,end:ra}}function ms(){var e,t,n,i;return aa=null,us(),e=ra,t=function(){var e,t,n,i;for(Ka("/"===(e=ia[ra]),"Regular expression literal must start with a slash"),t=ia[ra++],n=!1,i=!1;ra<oa;)if(t+=e=ia[ra++],"\\"===e)rs((e=ia[ra++]).charCodeAt(0))&&Es({},Ga),t+=e;else if(rs(e.charCodeAt(0)))Es({},Ga);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||Es({},Ga),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t="",n="";ra<oa&&as((e=ia[ra]).charCodeAt(0));)++ra,"\\"===e&&ra<oa?Es({},Ua,Ja):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Es({},Ha,n),{value:n,literal:t}}(),i=function(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){if(parseInt(t,16)<=1114111)return"x";Es({},Ha)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){Es({},Ha)}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:ra}}function gs(){var e;return us(),ra>=oa?{type:Aa,start:ra,end:ra}:os(e=ia.charCodeAt(ra))?ds():40===e||41===e||59===e?ps():39===e||34===e?function(){var e,t,n,i,r="",o=!1;for(Ka("'"===(e=ia[ra])||'"'===e,"String literal must starts with a quote"),t=ra,++ra;ra<oa;){if((n=ia[ra++])===e){e="";break}if("\\"===n)if((n=ia[ra++])&&rs(n.charCodeAt(0)))"\r"===n&&"\n"===ia[ra]&&++ra;else switch(n){case"u":case"x":"{"===ia[ra]?(++ra,r+=ls()):r+=cs(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:ns(n)?(0!==(i="01234567".indexOf(n))&&(o=!0),ra<oa&&ns(ia[ra])&&(o=!0,i=8*i+"01234567".indexOf(ia[ra++]),"0123".indexOf(n)>=0&&ra<oa&&ns(ia[ra])&&(i=8*i+"01234567".indexOf(ia[ra++]))),r+=String.fromCharCode(i)):r+=n}else{if(rs(n.charCodeAt(0)))break;r+=n}}return""!==e&&Es({},Ua,Ja),{type:Sa,value:r,octal:o,start:t,end:ra}}():46===e?es(ia.charCodeAt(ra+1))?hs():ps():es(e)?hs():ps()}function ys(){var e;return ra=(e=aa).end,aa=gs(),ra=e.end,e}function bs(){var e;e=ra,aa=gs(),ra=e}function vs(e,t,n){var i=new va("||"===e||"&&"===e?_a:Oa);return i.operator=e,i.left=t,i.right=n,i}function xs(e,t){var n=new va($a);return n.callee=e,n.arguments=t,n}function As(e){var t=new va(ja);return t.name=e,t}function ws(e){var t=new va(Na);return t.value=e.value,t.raw=ia.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Cs(e,t,n){var i=new va(Ta);return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function Fs(e,t,n){var i=new va(Ra);return i.key=t,i.value=n,i.kind=e,i}function Es(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,function(e,t){return Ka(t<i.length,"Message reference must be in range"),i[t]});throw(n=new Error(r)).index=ra,n.description=r,n}function Ds(e){e.type===Aa&&Es(e,Wa),e.type===Ea&&Es(e,Ma),e.type===Sa&&Es(e,La),e.type===wa&&Es(e,Ia),e.type===Ca&&Es(e,qa),Es(e,Ua,e.value)}function Ss(e){var t=ys();t.type===Da&&t.value===e||Ds(t)}function ks(e){return aa.type===Da&&aa.value===e}function Os(e){return aa.type===Ca&&aa.value===e}function $s(){var e=[];for(ra=aa.start,Ss("[");!ks("]");)ks(",")?(ys(),e.push(null)):(e.push(Is()),ks("]")||Ss(","));return ys(),function(e){var t=new va(ka);return t.elements=e,t}(e)}function Bs(){var e;return ra=aa.start,(e=ys()).type===Sa||e.type===Ea?(e.octal&&Es(e,Ya),ws(e)):As(e.value)}function js(){var e,t,n;return ra=aa.start,(e=aa).type===wa?(n=Bs(),Ss(":"),Fs("init",n,Is())):e.type!==Aa&&e.type!==Da?(t=Bs(),Ss(":"),Fs("init",t,Is())):void Ds(e)}function Ns(){var e,t,n=[],i={},r=String;for(ra=aa.start,Ss("{");!ks("}");)t="$"+((e=js()).key.type===ja?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?Es({},Va):i[t]=!0,n.push(e),ks("}")||Ss(",");return Ss("}"),function(e){var t=new va(za);return t.properties=e,t}(n)}var _s={if:1,this:1};function Ts(){var e,t,n;if(ks("("))return function(){var e;return Ss("("),e=qs(),Ss(")"),e}();if(ks("["))return $s();if(ks("{"))return Ns();if(e=aa.type,ra=aa.start,e===wa||_s[aa.value])n=As(ys().value);else if(e===Sa||e===Ea)aa.octal&&Es(aa,Ya),n=ws(ys());else{if(e===Ca)throw new Error(Qa);e===xa?((t=ys()).value="true"===t.value,n=ws(t)):e===Fa?((t=ys()).value=null,n=ws(t)):ks("/")||ks("/=")?(n=ws(ms()),bs()):Ds(ys())}return n}function zs(){var e=[];if(Ss("("),!ks(")"))for(;ra<oa&&(e.push(Is()),!ks(")"));)Ss(",");return Ss(")"),e}function Rs(){var e;return ra=aa.start,function(e){return e.type===wa||e.type===Ca||e.type===xa||e.type===Fa}(e=ys())||Ds(e),As(e.value)}function Ps(){var e;return Ss("["),e=qs(),Ss("]"),e}function Us(){var e=function(){var e;for(e=Ts();;)if(ks("."))Ss("."),e=Cs(".",e,Rs());else if(ks("("))e=xs(e,zs());else{if(!ks("["))break;e=Cs("[",e,Ps())}return e}();if(aa.type===Da&&(ks("++")||ks("--")))throw new Error(Qa);return e}function Ms(){var e,t,n,i,r;if(aa.type!==Da&&aa.type!==Ca)t=Us();else{if(ks("++")||ks("--"))throw new Error(Qa);if(ks("+")||ks("-")||ks("~")||ks("!"))e=ys(),t=Ms(),n=e.value,i=t,(r=new va(Pa)).operator=n,r.argument=i,r.prefix=!0,t=r;else{if(Os("delete")||Os("void")||Os("typeof"))throw new Error(Qa);t=Us()}}return t}function Ls(e){var t=0;if(e.type!==Da&&e.type!==Ca)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Is(){var e,t;return e=function(){var e,t,n,i,r,o,a,s,u,c;if(e=aa,u=Ms(),0===(r=Ls(i=aa)))return u;for(i.prec=r,ys(),t=[e,aa],o=[u,i,a=Ms()];(r=Ls(aa))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),t.pop(),n=vs(s,u,a),o.push(n);(i=ys()).prec=r,o.push(i),t.push(aa),n=Ms(),o.push(n)}for(n=o[c=o.length-1],t.pop();c>1;)t.pop(),n=vs(o[c-1].value,o[c-2],n),c-=2;return n}(),ks("?")&&(ys(),t=Is(),Ss(":"),e=function(e,t,n){var i=new va(Ba);return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,Is())),e}function qs(){var e=Is();if(ks(","))throw new Error(Qa);return e}function Ws(e){const t=function(e){ra=0,oa=(ia=e).length,aa=null,bs();var t=qs();if(aa.type!==Aa)throw new Error("Unexpect token after expression.");return t}(e),n=new Set;return t.visit(e=>{"MemberExpression"===e.type&&function e(t){return"MemberExpression"===t.object.type?e(t.object):"datum"===t.object.name}(e)&&n.add(function e(t){const n=[];return"Identifier"===t.type?[t.name]:"Literal"===t.type?[t.value]:("MemberExpression"===t.type&&(n.push(...e(t.object)),n.push(...e(t.property))),n)}(e).slice(1).join("."))}),n}class Hs extends ea{constructor(e,t){super(e),this.transform=t,this._dependentFields=Ws(this.transform.calculate)}clone(){return new Hs(null,B(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef((t,n)=>{if(An(t)&&zo(t.sort)){const{field:i,timeUnit:r}=t,o=t.sort,a=o.map((e,t)=>`${no({field:i,timeUnit:r,equal:e})} ? ${t} : `).join("")+o.length;e=new Hs(e,{calculate:a,as:Gs(t,n,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${T(this.transform)}`}}function Gs(e,t,n){return Cn(e,Object.assign({prefix:t,suffix:"sort_index"},n||{}))}function Ys(e,t){return R(["top","bottom"],t)?"column":R(["left","right"],t)?"row":"row"===e?"row":"column"}function Vs(e,t,n,i){const r="row"===i?n.headerRow:"column"===i?n.headerColumn:n.headerFacet;return re(t&&t.header?t.header[e]:void 0,r[e],n.header[e])}function Js(e,t,n,i){const r={};for(const o of e){const e=Vs(o,t,n,i);void 0!==e&&(r[o]=e)}return r}const Qs=["row","column"],Xs=["header","footer"];function Zs(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=Js(["titleAnchor","titleAngle","titleOrient"],r,i,t),u=Ys(t,s);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:Object.assign({text:n},"row"===t?{orient:"left"}:{},{style:"guide-title"},eu(a,u),Ks(u,a,o),su(i,r,t,jo,$o))}}function Ks(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const i=Uo(t,"row"===e?"left":"top");return i?{align:i}:{}}function eu(e,t){const n=Po(e,"row"===t?"left":"top");return n?{baseline:n}:{}}function tu(e,t){const n=e.component.layoutHeaders[t],i=[];for(const r of Xs)if(n[r])for(const o of n[r])i.push(ru(e,t,r,n,o));return i}function nu(e,t){const{sort:n}=e;return To(n)?{field:Cn(n,{expr:"datum"}),order:n.order||"ascending"}:o(n)?{field:Gs(e,t,{expr:"datum"}),order:"ascending"}:{field:Cn(e,{expr:"datum"}),order:n||"ascending"}}function iu(e,t,n){const{format:i,labelAngle:r,labelAnchor:o,labelOrient:a}=Js(["format","labelAngle","labelAnchor","labelOrient"],e,n,t),s=Ys(t,a);return Object.assign({text:Wo(e,i,"parent",n)},"row"===t?{orient:"left"}:{},{style:"guide-label",frame:"group"},eu(r,s),Ks(s,r,o),su(n,e,t,No,Bo))}function ru(e,t,n,i,r){if(r){let o=null;const{facetFieldDef:a}=i,s=e.config?e.config:void 0;if(a&&r.labels){const{labelOrient:e}=Js(["labelOrient"],a,s,t);("row"===t&&!R(["top","bottom"],e)||"column"===t&&!R(["left","right"],e))&&(o=iu(a,t,s))}const u=Of(e)&&!Jt(e.facet),c=r.axes,l=c&&c.length>0;if(o||l){const s="row"===t?"height":"width";return Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},i.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:nu(a,t)}:{},l&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},o?{title:o}:{},r.sizeSignal?{encode:{update:{[s]:r.sizeSignal}}}:{},l?{axes:c}:{})}}return null}const ou={column:{start:0,end:1},row:{start:1,end:0}};function au(e,t){return ou[t][e]}function su(e,t,n,i,r){const o={};for(const a of i){if(!r[a])continue;const i=Vs(a,t,e,n);void 0!==i&&(o[r[a]]=i)}return o}function uu(e){return[...cu(e,"width"),...cu(e,"height")]}function cu(e,t){const n="width"===t?"x":"y",i=e.component.layoutSize.get(t);if(!i||"merged"===i)return[];const r=e.getSizeSignalRef(t).signal;if("range-step"===i){const t=e.getScaleComponent(n);if(t){const i=t.get("type"),o=t.get("range");if(Wi(i)&&vo(o)){const i=e.scaleName(n);if(Of(e.parent)){if("independent"===e.parent.component.resolve.scale[n])return[lu(i,o)]}return[lu(i,o),{name:r,update:fu(i,t,`domain('${i}').length`)}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:r,value:i}]}function lu(e,t){return{name:e+"_step",value:t.step}}function fu(e,t,n){const i=t.get("type"),r=t.get("padding"),o=re(t.get("paddingOuter"),r);let a=t.get("paddingInner");return`bandspace(${n}, ${a="band"===i?void 0!==a?a:r:1}, ${o}) * ${e}_step`}function du(e,t,n){return pu=t||mu,hu=n||Eu,Su(e.trim()).map(ku)}var pu,hu,mu="view",gu="[",yu="]",bu="{",vu="}",xu=":",Au=",",wu="@",Cu=">",Fu=/[[\]{}]/,Eu={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function Du(e,t,n,i,r){for(var o,a=0,s=e.length;t<s;++t){if(o=e[t],!a&&o===n)return t;r&&r.indexOf(o)>=0?--a:i&&i.indexOf(o)>=0&&++a}return t}function Su(e){for(var t=[],n=0,i=e.length,r=0;r<i;)r=Du(e,r,Au,gu+bu,yu+vu),t.push(e.substring(n,r).trim()),n=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function ku(e){return"["===e[0]?function(e){var t,n,i=e.length,r=1;if((r=Du(e,r,yu,gu,yu))===i)throw"Empty between selector: "+e;if(2!==(t=Su(e.substring(1,r))).length)throw"Between selector must have two elements: "+e;if((e=e.slice(r+1).trim())[0]!==Cu)throw"Expected '>' after between selector: "+e;if(t=t.map(ku),(n=ku(e.slice(1).trim())).between)return{between:t,stream:n};n.between=t;return n}(e):function(e){var t,n,i={source:pu},r=[],o=[0,0],a=0,s=0,u=e.length,c=0;if(e[u-1]===vu){if(!((c=e.lastIndexOf(bu))>=0))throw"Unmatched right brace: "+e;try{o=function(e){var t=e.split(Au);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!=n)throw e;return n})}(e.substring(c+1,u-1))}catch(t){throw"Invalid throttle specification: "+e}e=e.slice(0,c).trim(),u=e.length,c=0}if(!u)throw e;e[0]===wu&&(a=++c);(t=Du(e,c,xu))<u&&(r.push(e.substring(s,t).trim()),s=c=++t);if((c=Du(e,c,gu))===u)r.push(e.substring(s,u).trim());else if(r.push(e.substring(s,c).trim()),n=[],(s=++c)===u)throw"Unmatched left bracket: "+e;for(;c<u;){if((c=Du(e,c,yu))===u)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,c).trim()),c<u-1&&e[++c]!==gu)throw"Expected left bracket: "+e;s=++c}if(!(u=r.length)||Fu.test(r[u-1]))throw"Invalid event selector: "+e;u>1?(i.type=r[1],a?i.markname=r[0].slice(1):!function(e){return hu.hasOwnProperty(e)}(r[0])?i.source=r[0]:i.marktype=r[0]):i.type=r[0];"!"===i.type.slice(-1)&&(i.consume=!0,i.type=i.type.slice(0,-1));null!=n&&(i.filter=n);o[0]&&(i.throttle=o[0]);o[1]&&(i.debounce=o[1]);return i}(e)}class Ou extends ea{constructor(e,t){super(e),this.formula=t}clone(){return new Ou(null,B(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,t)=>{const{timeUnit:n,field:i}=t;if(n){const r={as:Cn(t,{forAs:!0}),timeUnit:n,field:i};e[T(r)]=r}return e},{});return 0===Y(n).length?null:new Ou(e,n)}static makeFromTransform(e,t){const n=Object.assign({},t);return new Ou(e,{[T(n)]:n})}merge(e){this.formula=Object.assign({},this.formula,e.formula);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(V(this.formula).map(e=>e.as))}dependentFields(){return new Set(V(this.formula).map(e=>e.field))}hash(){return`TimeUnit ${T(this.formula)}`}assemble(){return V(this.formula).map(e=>({type:"formula",as:e.as,expr:on(e.timeUnit,e.field)}))}}const $u={has:e=>"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind,parse:(e,t,n)=>{const i=Q(n.name),r=n.scales=[];for(const t of n.project.items){const n=t.channel;if(!Bt(n))continue;const o=e.getScaleComponent(n),a=o?o.get("type"):void 0;if(o&&Hi(a)){if(o.set("domainRaw",{signal:ee(t.field,i)},!0),r.push(t),e.repeater&&e.repeater.row===e.repeater.column){e.getScaleComponent(n===Me?Le:Me).set("domainRaw",{signal:ee(t.field,i)},!0)}}else Lt(zt.SCALE_BINDINGS_CONTINUOUS)}},topLevelSignals:(e,t,n)=>{const i=t.scales.filter(e=>!n.filter(t=>t.name===e.signals.data).length);if(!e.parent||!i.length)return n;const r=n.filter(e=>e.name===t.name)[0],o=r.update;if(o.indexOf(Wu)>=0)r.update=`{${i.map(e=>`${u(e.field)}: ${e.signals.data}`).join(", ")}}`;else for(const e of i){const t=`, ${u(e.field)}: ${e.signals.data}`;o.indexOf(t)<0&&(r.update=o.substring(0,o.length-1)+t+"}")}return n.concat(i.map(e=>({name:e.signals.data})))},signals:(e,t,n)=>{if(e.parent)for(const e of t.scales){const t=n.filter(t=>t.name===e.signals.data)[0];t.push="outer",delete t.value,delete t.update}return n}};function Bu(e,t){return`domain(${u(e.scaleName(t))})`}const ju="_tuple_fields";class Nu{constructor(...e){this.items=e,this.has={}}}const _u="_scale_trigger",Tu={signals:(e,t)=>{const n=t.name,i=n+ju,r=$u.has(t),o=[],a=[],s=[];if(t.translate&&!r){const e=`!event.item || event.item.mark.name !== ${u(n+"_brush")}`;zu(t,(t,n)=>{const i=n.between[0].filter||(n.between[0].filter=[]);i.indexOf(e)<0&&i.push(e)})}t.project.items.forEach((n,i)=>{const r=n.channel;if(r!==Me&&r!==Le)return void Lt("Interval selections only support x and y encoding channels.");const c=t.init?t.init[i]:null,l=function(e,t,n,i){const r=n.channel,o=n.signals.visual,a=n.signals.data,s=$u.has(t),c=u(e.scaleName(r)),l=e.getScaleComponent(r),f=l?l.get("type"):void 0,d=e=>`scale(${c}, ${e})`,p=e.getSizeSignalRef(r===Me?"width":"height").signal,h=`${r}(unit)`,m=zu(t,(e,t)=>[...e,{events:t.between[0],update:`[${h}, ${h}]`},{events:t,update:`[${o}[0], clamp(${h}, 0, ${p})]`}]);return m.push({events:{signal:t.name+_u},update:Hi(f)?`[${d(`${a}[0]`)}, ${d(`${a}[1]`)}]`:"[0, 0]"}),s?[{name:a,on:[]}]:[Object.assign({name:o},i?{init:cc(i,d)}:{value:[]},{on:m}),Object.assign({name:a},i?{init:cc(i)}:{},{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${c}, ${o})`}]})]}(e,t,n,c),f=n.signals.data,d=n.signals.visual,p=u(e.scaleName(r)),h=Hi(e.getScaleComponent(r).get("type"))?"+":"";o.push(...l),a.push(f),s.push({scaleName:e.scaleName(r),expr:`(!isArray(${f}) || `+`(${h}invert(${p}, ${d})[0] === ${h}${f}[0] && `+`${h}invert(${p}, ${d})[1] === ${h}${f}[1]))`})}),r||o.push({name:n+_u,value:{},on:[{events:s.map(e=>({scale:e.scaleName})),update:s.map(e=>e.expr).join(" && ")+` ? ${n+_u} : {}`}]});const c=t.init,l=`unit: ${Yu(e)}, fields: ${i}, values`;return o.concat(Object.assign({name:n+Lu},c?{init:`{${l}: ${cc(c)}}`}:{},{on:[{events:[{signal:a.join(" || ")}],update:a.join(" && ")+` ? {${l}: [${a}]} : null`}]}))},modifyExpr:(e,t)=>{return t.name+Lu+", "+("global"===t.resolve?"true":`{unit: ${Yu(e)}}`)},marks:(e,t,n)=>{const i=t.name,{x:r,y:o}=t.project.has,a=r&&r.signals.visual,s=o&&o.signals.visual,c=`data(${u(t.name+Mu)})`;if($u.has(t))return n;const l={x:void 0!==r?{signal:`${a}[0]`}:{value:0},y:void 0!==o?{signal:`${s}[0]`}:{value:0},x2:void 0!==r?{signal:`${a}[1]`}:{field:{group:"width"}},y2:void 0!==o?{signal:`${s}[1]`}:{field:{group:"height"}}};if("global"===t.resolve)for(const t of Y(l))l[t]=[Object.assign({test:`${c}.length && ${c}[0].unit === ${Yu(e)}`},l[t]),{value:0}];const f=t.mark,{fill:d,fillOpacity:p}=f,h=ke(f,["fill","fillOpacity"]),m=Y(h).reduce((e,t)=>(e[t]=[{test:[void 0!==r&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${s}[0] !== ${s}[1]`].filter(e=>e).join(" && "),value:h[t]},{value:null}],e),{});return[{name:i+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:p}},update:l}},...n,{name:i+"_brush",type:"rect",clip:!0,encode:{enter:{fill:{value:"transparent"}},update:Object.assign({},l,m)}}]}};function zu(e,t){return e.events.reduce((e,n)=>n.between?t(e,n):(Lt(`${n} is not an ordered event stream for interval selections`),e),[])}function Ru(e,t){const n=t.name,i=n+ju,r=t.project,o="(item().isVoronoi ? datum.datum : datum)",a=r.items.map(t=>{const n=e.fieldDef(t.channel);return n&&n.bin?`[${ee(e.vgField(t.channel,{}),o)}, `+`${ee(e.vgField(t.channel,{binSuffix:"end"}),o)}]`:`${ee(t.field,o)}`}).join(", "),s=`unit: ${Yu(e)}, fields: ${i}, values`;return[{name:n+Lu,on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? {${s}: [${a}]} : null`,force:!0}]}]}const Pu={signals:Ru,modifyExpr:(e,t)=>{return t.name+Lu+", "+("global"===t.resolve?"null":`{unit: ${Yu(e)}}`)}},Uu={signals:Ru,modifyExpr:(e,t)=>{return t.name+Lu+", "+("global"===t.resolve?"true":`{unit: ${Yu(e)}}`)}},Mu="_store",Lu="_tuple",Iu="_modify",qu="_selection_domain_",Wu="vlSelectionResolve",Hu={single:Uu,multi:Pu,interval:Tu};function Gu(e,t){const n=e.component.selection;for(const e in n)if(n.hasOwnProperty(e)){const i=n[e];t(i,Hu[i.type])}}function Yu(e){let t=u(e.name);const n=function(e){let t=e.parent;for(;t&&!Of(t);)t=t.parent;return t}(e);if(n){const{facet:e}=n;for(const i of ht)e[i]&&(t+=` + '__facet_${i}_' + (${ee(n.vgField(i),"facet")})`)}return t}function Vu(e){let t=!1;return Gu(e,e=>{t=t||e.project.items.some(e=>e.field===ir)}),t}const Ju={has:e=>"interval"!==e.type&&e.nearest,marks:(e,t,n)=>{const{x:i,y:r}=t.project.has,o=e.mark;if(ve(o))return Lt(zt.nearestNotSupportForContinuous(o)),n;const a={name:e.getName("voronoi"),type:"path",from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Pc(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:i||!i&&!r?"datum.datum.x || 0":"0"},y:{expr:r||!i&&!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let s=0,u=!1;return n.forEach((t,n)=>{const i=t.name||"";i===e.component.mark[0].name?s=n:i.indexOf("voronoi")>=0&&(u=!0)}),u||n.splice(s+1,0,a),n}},Qu={has:e=>"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind,topLevelSignals:(e,t,n)=>{const i=t.name,r=t.project,o=t.bind,a=t.init&&t.init[0],s=Ju.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return r.items.forEach((e,r)=>{const u=Q(`${i}_${e.field}`);n.filter(e=>e.name===u).length||n.unshift(Object.assign({name:u},a?{init:cc(a[r])}:{value:null},{on:[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${ee(e.field,s)} : null`}],bind:o[e.field]||o[e.channel]||o}))}),n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.filter(e=>e.name===i+Lu)[0],a=i+ju,s=r.items.map(e=>Q(`${i}_${e.field}`)),u=s.map(e=>`${e} !== null`).join(" && ");return s.length&&(o.update=`${u} ? {fields: ${a}, values: [${s.join(", ")}]} : null`),delete o.value,delete o.on,n}},Xu={has:e=>"multi"===e.type&&e.toggle,signals:(e,t,n)=>n.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Lu,i=t.name+"_toggle";return`${i} ? null : ${n}, `+("global"===t.resolve?`${i} ? null : true, `:`${i} ? null : {unit: ${Yu(e)}}, `)+`${i} ? ${n} : null`}},Zu={has:e=>!1!==e.clear,parse:(e,t,n)=>{t.clear&&(n.clear=du(t.clear,"scope"))},topLevelSignals:(e,t,n)=>(Qu.has(t)&&t.project.items.forEach(e=>{const i=n.findIndex(n=>n.name===Q(`${t.name}_${e.field}`));-1!==i&&n[i].on.push({events:t.clear,update:"null"})}),n),signals:(e,t,n)=>{function i(e,i){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:i})}if("interval"===t.type)t.project.items.forEach(e=>{const t=n.findIndex(t=>t.name===e.signals.visual);if(i(t,"[0, 0]"),-1===t){i(n.findIndex(t=>t.name===e.signals.data),"null")}});else{let e=n.findIndex(e=>e.name===t.name+Lu);i(e,"null"),Xu.has(t)&&i(e=n.findIndex(e=>e.name===t.name+"_toggle"),"false")}return n}},Ku="_translate_anchor",ec="_translate_delta",tc={has:e=>"interval"===e.type&&e.translate,signals:(e,t,n)=>{const i=t.name,r=$u.has(t),o=i+Ku,{x:a,y:s}=t.project.has;let u=du(t.translate,"scope");return r||(u=u.map(e=>(e.between[0].markname=i+"_brush",e))),n.push({name:o,value:{},on:[{events:u.map(e=>e.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==a?", extent_x: "+(r?Bu(e,Me):`slice(${a.signals.visual})`):"")+(void 0!==s?", extent_y: "+(r?Bu(e,Le):`slice(${s.signals.visual})`):"")+"}"}]},{name:i+ec,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&nc(e,t,a,"width",n),void 0!==s&&nc(e,t,s,"height",n),n}};function nc(e,t,n,i,r){const o=t.name,a=o+Ku,s=o+ec,u=n.channel,c=$u.has(t),l=r.filter(e=>e.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(u),p=d.get("type"),h=`${a}.extent_${u}`,m=`${c?"log"===p?"panLog":"pow"===p?"panPow":"panLinear":"panLinear"}(${h}, ${`${c&&u===Me?"-":""}${s}.${u} / `+(c?`${f}`:`span(${h})`)}`+(c&&"pow"===p?`, ${d.get("exponent")||1}`:"")+")";l.on.push({events:{signal:s},update:c?m:`clampRange(${m}, 0, ${f})`})}const ic="_zoom_anchor",rc="_zoom_delta",oc={has:e=>"interval"===e.type&&e.zoom,signals:(e,t,n)=>{const i=t.name,r=$u.has(t),o=i+rc,{x:a,y:s}=t.project.has,c=u(e.scaleName(Me)),l=u(e.scaleName(Le));let f=du(t.zoom,"scope");return r||(f=f.map(e=>(e.markname=i+"_brush",e))),n.push({name:i+ic,on:[{events:f,update:r?"{"+[c?`x: invert(${c}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(e=>!!e).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:f,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),void 0!==a&&ac(e,t,a,"width",n),void 0!==s&&ac(e,t,s,"height",n),n}};function ac(e,t,n,i,r){const o=t.name,a=n.channel,s=$u.has(t),u=r.filter(e=>e.name===n.signals[s?"data":"visual"])[0],c=e.getSizeSignalRef(i).signal,l=e.getScaleComponent(a),f=l.get("type"),d=s?Bu(e,a):u.name,p=o+rc,h=`${s?"log"===f?"zoomLog":"pow"===f?"zoomPow":"zoomLinear":"zoomLinear"}(${d}, ${`${o}${ic}.${a}`}, ${p}`+(s&&"pow"===f?`, ${l.get("exponent")||1}`:"")+")";u.on.push({events:{signal:p},update:s?h:`clampRange(${h}, 0, ${c})`})}const sc=[{has:()=>!0,parse:(e,t,n)=>{const i=n.name,r=n.project||(n.project=new Nu),a={},s={},u=new Set,c=(e,t)=>{const n="visual"===t?e.channel:e.field;let r=Q(`${i}_${n}`);for(let e=1;u.has(r);e++)r=Q(`${i}_${n}_${e}`);return u.add(r),{[t]:r}};if(!t.fields&&!t.encodings){const n=e.config.selection[t.type];if(t.init)for(const e of y(t.init))for(const i of Y(e))bt(i)?(t.encodings||(t.encodings=[])).push(i):rr(t)?(Lt('Interval selections should be initialized using "x" and/or "y" keys.'),t.encodings=n.encodings):(t.fields||(t.fields=[])).push(i);else t.encodings=n.encodings,t.fields=n.fields}for(const e of t.fields||[]){const t={type:"E",field:e};t.signals=Object.assign({},c(t,"data")),r.items.push(t)}for(const i of t.encodings||[]){const t=e.fieldDef(i);if(t){let o=t.field;if(t.timeUnit){const n={as:o=e.vgField(i),field:t.field,timeUnit:t.timeUnit};s[T(n)]=n}if(!a[o]){let s="E";if("interval"===n.type){Hi(e.getScaleComponent(i).get("type"))&&(s="R")}else t.bin&&(s="R-RE");const u={field:o,channel:i,type:s};u.signals=Object.assign({},c(u,"data"),c(u,"visual")),r.items.push(a[o]=u),r.has[i]=a[o]}}else Lt(zt.cannotProjectOnChannelWithoutField(i))}if(t.init)if($u.has(n))Lt(zt.NO_INIT_SCALE_BINDINGS);else{const e=e=>r.items.map(t=>void 0!==e[t.channel]?e[t.channel]:e[t.field]);if(rr(t))n.init=e(t.init);else{const i=o(t.init)?t.init:[t.init];n.init=i.map(e)}}Y(s).length&&(r.timeUnit=new Ou(null,s))},signals:(e,t,n)=>{const i=t.name+ju;return n.filter(e=>e.name===i).length?n:n.concat({name:i,value:t.project.items.map(e=>{return ke(e,["signals"])})})}},Xu,$u,tc,oc,Qu,Ju,Zu];function uc(e,t){for(const n of sc)n.has(e)&&t(n)}function cc(e,t=l){if(o(e)){return`[${e.map(e=>cc(e,t)).join(", ")}]`}return qt(e)?t(Vt(e)):t(JSON.stringify(e))}function lc(e,t){return Gu(e,n=>{const i={name:n.name+Mu};if(n.init){const t=n.project.items.map(e=>{return ke(e,["signals"])}),r=n.init.map(e=>(function e(t){return o(t)?t.map(t=>e(t)):qt(t)?Vt(t,!1,!0):t})(e));i.values="interval"===n.type?[{unit:Yu(e),fields:t,values:r}]:r.map(n=>({unit:Yu(e),fields:t,values:n}))}t.filter(e=>e.name===n.name+Mu).length||t.push(i)}),t}function fc(e,t){return Gu(e,(n,i)=>{t=i.marks?i.marks(e,n,t):t,uc(n,i=>{i.marks&&(t=i.marks(e,n,t))})}),t}function dc(e,t,n){const i=[];const r=X(t,function(t){const r=Q(t),o=e.getSelectionComponent(r,t),a=u(r+Mu);if(o.project.timeUnit){const t=n||e.component.data.raw,i=o.project.timeUnit.clone();t.parent?i.insertAsParentOf(t):t.parent=i}return"none"!==o.empty&&i.push(a),`vlSelectionTest(${a}, datum`+("global"===o.resolve?")":`, ${u(o.resolve)})`)});return(i.length?"!("+i.map(e=>`length(data(${e}))`).join(" || ")+") || ":"")+`(${r})`}function pc(e,t,n){return X(t,t=>s(t)?t:function(e){return e&&e.selection}(t)?dc(e,t.selection,n):no(t))}function hc(e){const{channel:t,channelDef:n,mark:i,scale:r}=e,o=Cc(e);return yn(n)&&!_e(n.aggregate)&&r&&Gi(r.get("type"))&&!1===r.get("zero")?mc({fieldDef:n,channel:t,mark:i,ref:o}):o}function mc({fieldDef:e,channel:t,mark:n,ref:i}){return ve(n)?i:[gc(e,t),i]}function gc(e,t){const n=yc(e,!0),i="x"===wt(t)?{value:0}:{field:{group:"height"}};return Object.assign({test:n},i)}function yc(e,t=!0){return`${e=s(e)?e:Cn(e,{expr:"datum"})} ${t?"===":"!=="} null ${t?"||":"&&"} ${t?"":"!"}isNaN(${e})`}function bc(e,t){const n=t[e+"Offset"];if(n)return n}function vc({channel:e,fieldDef:t,scaleName:n,mark:i,side:r,offset:o}){return mc({fieldDef:t,channel:e,mark:i,ref:xc(t,n,{binSuffix:"start"===r?void 0:"end"},o?{offset:o}:{})})}function xc(e,t,n,i){const r=Object.assign({},t?{scale:t}:{},{field:Cn(e,n)});if(i){const{offset:e,band:t}=i;return Object.assign({},r,e?{offset:e}:{},t?{band:t}:{})}return r}function Ac(e,t=!0){return{scale:e,band:t}}function wc({scaleName:e,fieldDef:t,fieldDef2:n,offset:i,band:r}){r=re(r,.5);const o=Cn(t,{expr:"datum"}),a=void 0!==n?Cn(n,{expr:"datum"}):Cn(t,{binSuffix:"end",expr:"datum"});return Object.assign({signal:`scale("${e}", ${r} * ${o} + ${1-r} * ${a})`},i?{offset:i}:{})}function Cc({channel:e,channelDef:t,channel2Def:n,scaleName:i,scale:r,stack:o,offset:a,defaultRef:s}){if(t){if(yn(t)){if(bn(t)){if(Wn(t.bin))return R([Me,Le],e)&&t.type===cn?o&&o.impute?xc(t,i,{binSuffix:"mid"},{offset:a}):wc({scaleName:i,fieldDef:t,offset:a}):xc(t,i,In(t,e)?{binSuffix:"range"}:{},{offset:a});if(Hn(t.bin)){if(yn(n))return wc({scaleName:i,fieldDef:t,fieldDef2:n,offset:a});{const t=e===Me?Ie:qe;Lt(zt.channelRequiredForBinned(t))}}}if(r){const e=r.get("type");if(Wi(e))return xc(t,i,{binSuffix:"range"},"band"===e?{band:.5,offset:a}:{offset:a})}return xc(t,i,{},{offset:a})}if(xn(t)){const n=t.value,i=a?{offset:a}:{};return Object.assign({},Fc(e,n),i)}}return function(e){return"function"==typeof e}(s)?s():s}function Fc(e,t){return R(["x","x2"],e)&&"width"===t?{field:{group:"width"}}:R(["y","y2"],e)&&"height"===t?{field:{group:"height"}}:{value:t}}function Ec(e,t,{reactiveGeom:n}={}){const i=[],r={},o={},a=n?"datum.datum":"datum",s=[];function c(n,i){const r=wt(i),u=bn(n)?n:Object.assign({},n,{type:e[r].type}),c=On(u,t,{allowDisabling:!1});let l=Dc(u,t,a).signal;if("x"===i||"y"===i){const n="x"===i?"x2":"y2",r=Nn(e[n]);if(Hn(u.bin)&&r){l=Vo(Cn(u,{expr:a}),Cn(r,{expr:a}),jn(u),t),o[n]=!0}}s.push({channel:i,key:c,value:l})}Kn(e,(e,t)=>{yn(e)?c(e,t):gn(e)&&c(e.condition,t)});for(const{channel:e,key:t,value:n}of s)o[e]||r[t]||(i.push(`${u(t)}: ${n}`),r[t]=!0);return i.length?{signal:`{${i.join(", ")}}`}:void 0}function Dc(e,t,n="datum"){if(e){if(xn(e))return{value:e.value};if(bn(e))return Wo(e,jn(e),n,t)}}function Sc(e){return Object.assign({},e,{mult:.5})}function kc({markDef:e,config:t,defaultRef:n,channel:i,scaleName:r,scale:o,mark:a,checkBarAreaWithoutZero:u}){return()=>{const c=wt(i),l=re(e[i],Io(i,e,t));if(void 0!==l)return Fc(i,l);if(s(n)){if(r){const e=o.get("type");if(R([Ni.LOG,Ni.TIME,Ni.UTC],e))!u||"bar"!==a&&"area"!==a||Lt(zt.nonZeroScaleUsedWithLengthMark(a,c,{scaleType:e}));else{if(o.domainDefinitelyIncludesZero())return{scale:r,value:0};!u||"bar"!==a&&"area"!==a||Lt(zt.nonZeroScaleUsedWithLengthMark(a,c,{zeroFalse:!1===o.explicit.zero}))}}return"zeroOrMin"===n?"x"===c?{value:0}:{field:{group:"height"}}:"x"===c?{field:{group:"width"}}:{value:0}}return n}}function Oc(e){return"transparent"!==e&&null!=e}function $c(e){const{markDef:t,encoding:n,config:i}=e,{filled:r,type:o}=t,a={fill:Io("fill",t,i),stroke:Io("stroke",t,i),color:Io("color",t,i)},s=R(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,u=re(t.fill,a.fill,s),c=re(t.stroke,a.stroke),l=r?"fill":"stroke",f=Object.assign({},u?{fill:{value:u}}:{},c?{stroke:{value:c}}:{});return n.fill||n.stroke?(t.color&&Lt(zt.droppingColor("property",{fill:"fill"in n,stroke:"stroke"in n})),Object.assign({},zc("fill",e,{defaultValue:re(u,s)}),zc("stroke",e,{defaultValue:c}))):n.color?Object.assign({},f,zc("color",e,{vgChannel:l,defaultValue:re(t[l],t.color,a[l],a.color,r?s:void 0)})):Oc(t.fill)||Oc(t.stroke)?(t.color&&Lt(zt.droppingColor("property",{fill:"fill"in t,stroke:"stroke"in t})),f):t.color?Object.assign({},f,{[l]:{value:t.color}}):Oc(a.fill)||Oc(a.stroke)?f:a.color?Object.assign({},s?{fill:{value:"transparent"}}:{},{[l]:{value:a.color}}):{}}function Bc(e,t){const{fill:n,stroke:i}=$c(e);return Object.assign({},function(e,t){return Ao.reduce((n,i)=>(void 0!==e[i]&&"ignore"!==t[i]&&(n[i]={value:e[i]}),n),{})}(e.markDef,t),jc(e,"fill",n),jc(e,"stroke",i),zc("opacity",e),zc("fillOpacity",e),zc("strokeOpacity",e),zc("strokeWidth",e),Pc(e),Uc(e,"href"))}function jc(e,t,n){const{config:i,mark:r}=e;if("hide"===i.invalidValues&&n&&!ve(r)){const i=_c(e,{invalid:!0,channels:$t});if(i)return{[t]:[{test:i,value:null},...y(n)]}}return n?{[t]:n}:{}}function Nc(e,t){if(void 0!==t)return{[e]:{value:t}}}function _c(e,{invalid:t=!1,channels:n}){const i=n.reduce((t,n)=>{const i=e.getScaleComponent(n);if(i){const r=i.get("type"),o=e.vgField(n,{expr:"datum"});o&&Hi(r)&&(t[o]=!0)}return t},{}),r=Y(i);if(r.length>0){const e=t?"||":"&&";return r.map(e=>yc(e,t)).join(` ${e} `)}}function Tc(e){if(e.config.invalidValues){const t=_c(e,{channels:["x","y"]});if(t)return{defined:{signal:t}}}return{}}function zc(e,t,n={}){const{markDef:i,encoding:r,config:o}=t,{vgChannel:a=e}=n;let{defaultRef:s,defaultValue:u}=n;void 0===s&&(u=u||(a===e?i[e]:re(i[e],i[a],Io(e,i,o,{vgChannel:a}))),s=u?{value:u}:void 0);const c=r[e];return Rc(t,c,a,n=>Cc({channel:e,channelDef:n,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function Rc(e,t,n,i){const r=t&&t.condition,a=i(t);if(r){return{[n]:[...(o(r)?r:[r]).map(t=>{const n=i(t),r=function(e){return e.selection}(t)?dc(e,t.selection):pc(e,t.test);return Object.assign({test:r},n)}),...void 0!==a?[a]:[]]}}return void 0!==a?{[n]:a}:{}}function Pc(e,t={}){const{encoding:n,markDef:i,config:r}=e,u=n.tooltip;return o(u)?{tooltip:Ec({tooltip:u},r,t)}:Rc(e,u,"tooltip",o=>{const u=Dc(o,e.config,t.reactiveGeom?"datum.datum":"datum");if(u)return u;if(null===o)return;const c=re(i.tooltip,Io("tooltip",i,r));return s(c)?{value:c}:a(c)?"encoding"===c.content?Ec(n,r,t):{signal:"datum"}:void 0})}function Uc(e,t="text"){const n=e.encoding[t];return Rc(e,n,t,t=>Dc(t,e.config))}function Mc(e,t,n,i){const{encoding:r,mark:o,markDef:a,config:s,stack:u}=t,c=r[e],l=r[e===Me?Ie:qe],f=t.scaleName(e),d=t.getScaleComponent(e),p=bc(e,t.markDef);return{[i||e]:c||!r.latitude&&!r.longitude?function(e){const{channel:t,channelDef:n,scaleName:i,stack:r,offset:o}=e;return yn(n)&&r&&t===r.fieldChannel?xc(n,i,{suffix:"end"},{offset:o}):hc(e)}({channel:e,channelDef:c,channel2Def:l,scaleName:f,scale:d,stack:u,mark:o,offset:p,defaultRef:kc({markDef:a,config:s,defaultRef:n,channel:e,scaleName:f,scale:d,mark:o,checkBarAreaWithoutZero:!l})}):{field:t.getName(e)}}}function Lc(e,t,n){const{encoding:i,mark:r,markDef:o,stack:a,config:s}=e,u="x2"===n?"x":"y",c="x2"===n?"width":"height",l=i[u],f=e.scaleName(u),d=e.getScaleComponent(u),p=bc(n,e.markDef);if(!l&&(i.latitude||i.longitude))return{[n]:{field:e.getName(n)}};const h=function({channel:e,channelDef:t,channel2Def:n,scaleName:i,scale:r,stack:o,mark:a,offset:s,defaultRef:u}){return yn(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?xc(t,i,{suffix:"start"},{offset:s}):hc({channel:e,channelDef:n,scaleName:i,scale:r,stack:o,mark:a,offset:s,defaultRef:u})}({channel:n,channelDef:l,channel2Def:i[n],scaleName:f,scale:d,stack:a,mark:r,offset:p,defaultRef:void 0});return void 0!==h?{[n]:h}:re(Ic(n,o),Ic(n,{[n]:qo(n,o,s.style),[c]:qo(c,o,s.style)}),Ic(n,s[r]),Ic(n,s.mark),{[n]:kc({markDef:o,config:s,defaultRef:t,channel:n,scaleName:f,scale:d,mark:r,checkBarAreaWithoutZero:!i[n]})()})}function Ic(e,t){const n="x2"===e?"width":"height";return t[e]?{[e]:Fc(e,t[e])}:t[n]?{[n]:{value:t[n]}}:void 0}function qc(e,t){return Y(e).reduce((n,i)=>{const r=e[i];return Object.assign({},n,Rc(t,r,i,e=>({value:e.value})))},{})}function Wc(e,t){if(jf(t)||Of(t))return"shared";if(Bf(t)||$f(t))return R(Dt,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function Hc(e,t){const n=e.scale[t],i=R(Dt,t)?"axis":"legend";return"independent"===n?("shared"===e[i][t]&&Lt(zt.independentScaleMeansIndependentGuide(t)),"independent"):e[i][t]||"shared"}class Gc{constructor(e={},t={}){this.explicit=e,this.implicit=t}clone(){return new Gc(B(this.explicit),B(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(e){return re(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}set(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this}copyKeyFromSplit(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of Y(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function Yc(e){return{explicit:!0,value:e}}function Vc(e){return{explicit:!1,value:e}}function Jc(e){return(t,n,i,r)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:Qc(t,n,i,r)}}function Qc(e,t,n,i){return e.explicit&&t.explicit&&Lt(zt.mergeConflictingProperty(n,i,e.value,t.value)),e}function Xc(e,t,n,i,r=Qc){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:_(e.value)===_(t.value)?e:r(e,t,n,i)}class Zc extends Gc{}function Kc(e){const{legend:t}=e;return re(t.type,el(e))}function el({channel:e,timeUnit:t,scaleType:n,alwaysReturn:i}){if(dt(e)){if(R(["quarter","month","day"],t))return"symbol";if(Gi(n))return i?"gradient":void 0}return i?"symbol":void 0}function tl({legend:e,legendConfig:t,timeUnit:n,channel:i,scaleType:r}){const o=re(e.orient,t.orient,"right"),a=Kc({legend:e,channel:i,timeUnit:n,scaleType:r,alwaysReturn:!0});return re(e.direction,t[a?"gradientDirection":"symbolDirection"],function(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return"gradient"===t?"horizontal":void 0}}(o,a))}function nl(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function il(e,t,n){const i=t.getScaleComponent(n).get("type");return re(e.get("type"),el({channel:n,scaleType:i,alwaysReturn:!0}))}function rl(e){return al(e,(e,t)=>Math.max(e,t.value))}function ol(e){return al(e,(e,t)=>re(e,t.value))}function al(e,t){return function(e){return!!e&&!!e.condition&&(o(e.condition)||xn(e.condition))}(e)?(o(e.condition)?e.condition:[e.condition]).reduce(t,e.value):xn(e)?e.value:void 0}var sl=Object.freeze({symbols:function(e,t,n,i,r){if("symbol"!==il(r,n,i))return;let a=Object.assign({},function(e,t,n){for(const i of n){const n=Io(i,t.markDef,t.config);void 0!==n&&(e[i]={value:n})}return e}({},n,we),$c(n));const{markDef:s,encoding:u,config:c}=n,l=s.filled,f=rl(u.opacity)||s.opacity;if(a.fill)if("fill"===i||l&&i===Ve)delete a.fill;else if(a.fill.field)r.get("symbolFillColor")?delete a.fill:(a.fill={value:c.legend.symbolBaseFillColor||"black"},a.fillOpacity={value:f||1});else if(o(a.fill)){const e=ol(u.fill||u.color)||s.fill||l&&s.color;e&&(a.fill={value:e})}if(a.stroke)if("stroke"===i||!l&&i===Ve)delete a.stroke;else if(a.stroke.field)delete a.stroke;else if(o(a.stroke)){const e=re(ol(u.stroke||u.color),s.stroke,l?s.color:void 0);e&&(a.stroke={value:e})}return i!==Ke&&f&&(a.opacity={value:f}),a=Object.assign({},a,t),Y(a).length>0?a:void 0},gradient:function(e,t,n,i,r){if("gradient"!==il(r,n,i))return;let o={};const a=rl(n.encoding.opacity)||n.markDef.opacity;return a&&(o.opacity={value:a}),o=Object.assign({},o,t),Y(o).length>0?o:void 0},labels:function(e,t,n,i){const r=n.legend(i),o=n.config;let a={};if(Un(e)){const a=n.getScaleComponent(i).get("type")===Ni.UTC,s=Jo("datum.value",e.timeUnit,r.format,o.legend.shortTimeLabels,o.timeFormat,a);t=Object.assign({},s?{text:{signal:s}}:{},t)}return a=Object.assign({},a,t),Y(a).length>0?a:void 0},getFirstConditionValue:ol});function ul(e){kf(e)?e.component.legends=function(e){const{encoding:t}=e;return[Ve,Je,Qe,nt,Ze,Xe,Ke,et,tt].reduce((n,i)=>{const r=t[i];return!e.legend(i)||!e.getScaleComponent(i)||yn(r)&&i===Xe&&r.type===pn||(n[i]=function(e,t){const n=e.fieldDef(t),i=e.legend(t),r=new Zc({},function(e,t){const n=e.scaleName(Ve);if("color"===t)return e.markDef.filled?{fill:n}:{stroke:n};return{[t]:e.scaleName(t)}}(e,t));for(const o of Bi){const a=ll(o,i,t,e);if(void 0!==a){const t=cl(a,o,i,n);(t||void 0===e.config.legend[o])&&r.set(o,a,t)}}const o=i.encoding||{},a=["labels","legend","title","symbols","gradient"].reduce((i,a)=>{const s=qc(o[a]||{},e),u=sl[a]?sl[a](n,s,e,t,r):s;return void 0!==u&&Y(u).length>0&&(i[a]={update:u}),i},{});Y(a).length>0&&r.set("encode",a,!!i.encoding);return r}(e,i)),n},{})}(e):e.component.legends=function(e){const{legends:t,resolve:n}=e.component;for(const i of e.children)ul(i),Y(i.component.legends).forEach(r=>{n.legend[r]=Hc(e.component.resolve,r),"shared"===n.legend[r]&&(t[r]=fl(t[r],i.component.legends[r]),t[r]||(n.legend[r]="independent",delete t[r]))});return Y(t).forEach(t=>{for(const i of e.children)i.component.legends[t]&&"shared"===n.legend[t]&&delete i.component.legends[t]}),t}(e)}function cl(e,t,n,i){switch(t){case"values":return!!n.values;case"title":if("title"===t&&e===i.title)return!0}return e===n[t]}function ll(e,t,n,i){const{encoding:r,mark:o}=i,a=_n(r[n]),s=i.config.legend,{timeUnit:u}=a,c=i.getScaleComponent(n).get("type");switch(e){case"direction":return tl({legend:t,legendConfig:s,timeUnit:u,channel:n,scaleType:c});case"format":if(Un(a))return;return Ho(a,t.format,i.config);case"formatType":if(Un(a))return;return t.formatType;case"gradientLength":return re(t.gradientLength,s.gradientLength,function({legend:e,legendConfig:t,model:n,channel:i,scaleType:r}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:u}=t;if("horizontal"===tl({legend:e,legendConfig:t,channel:i,scaleType:r})){const i=re(e.orient,t.orient);return"top"===i||"bottom"===i?nl(n,"width",a,o):a}return nl(n,"height",u,s)}({model:i,legend:t,legendConfig:s,channel:n,scaleType:c}));case"labelOverlap":return re(t.labelOverlap,function(e){if(R(["quantile","threshold","log"],e))return"greedy"}(c));case"symbolType":return re(t.symbolType,function(e,t,n,i){if("shape"!==t){const e=ol(n)||i;if(e)return e}switch(e){case"bar":case"rect":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}(o,n,r.shape,i.markDef.shape));case"title":return On(a,i.config,{allowDisabling:!0})||void 0;case"type":return Kc({legend:t,channel:n,timeUnit:u,scaleType:c,alwaysReturn:!1});case"values":return function(e,t){const n=e.values;if(n)return Ln(t,n)}(t,a)}return t[e]}function fl(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),i=t.getWithExplicit("orient");if(n.explicit&&i.explicit&&n.value!==i.value)return;let r=!1;for(const n of ji){const i=Xc(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",(e,t)=>{switch(n){case"symbolType":return dl(e,t);case"title":return Ko(e,t);case"type":return r=!0,Vc("symbol")}return Qc(e,t,n,"legend")});e.setWithExplicit(n,i)}return r&&(((e.implicit||{}).encode||{}).gradient&&Z(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&Z(e.explicit,["encode","gradient"])),e}function dl(e,t){return"circle"===t.value?t:e}function pl(e){const t=e.component.legends,n={};for(const i of Y(t)){const r=e.getScaleComponent(i),o=_(r.get("domains"));if(n[o])for(const e of n[o]){fl(e,t[i])||n[o].push(t[i])}else n[o]=[t[i].clone()]}return M(V(n)).map(e=>{const t=e.combine();if(t.encode&&t.encode.symbols){const e=t.encode.symbols.update;!e.fill||"transparent"===e.fill.value||e.stroke||t.stroke||(e.stroke={value:"transparent"}),t.fill&&delete e.fill}return t})}function hl(e){return jf(e)||Bf(e)||$f(e)?function(e){return e.children.reduce((e,t)=>e.concat(t.assembleProjections()),ml(e))}(e):ml(e)}function ml(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n,r=ke(n,["name"]);if(t.data){const n={signal:`[${t.size.map(e=>e.signal).join(", ")}]`},o=t.data.reduce((t,n)=>{const i=bo(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return R(t,i)||t.push(i),t},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:i,size:n,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]}},r)]}return[Object.assign({name:i},{translate:{signal:"[width / 2, height / 2]"}},r)]}const gl=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class yl extends Gc{constructor(e,t,n,i){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function bl(e){e.component.projection=kf(e)?function(e){if(e.hasProjection){const t=e.specifiedProjection,n=!(t&&(null!=t.scale||null!=t.translate)),i=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,r=n?function(e){const t=[];[[He,We],[Ye,Ge]].forEach(n=>{(e.channelHasField(n[0])||e.channelHasField(n[1]))&&t.push({signal:e.getName(`geojson_${t.length}`)})}),e.channelHasField(Xe)&&e.fieldDef(Xe).type===pn&&t.push({signal:e.getName(`geojson_${t.length}`)});0===t.length&&t.push(e.requestDataName(Hr));return t}(e):void 0;return new yl(e.projectionName(!0),Object.assign({},e.config.projection||{},t||{}),i,r)}return}(e):function(e){if(0===e.children.length)return;let t;e.children.forEach(e=>bl(e));const n=U(e.children,e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=U(gl,n=>!e.explicit.hasOwnProperty(n)&&!t.explicit.hasOwnProperty(n)||!(!e.explicit.hasOwnProperty(n)||!t.explicit.hasOwnProperty(n)||_(e.get(n))!==_(t.get(n))));if(_(e.size)===_(t.size)){if(n)return e;if(_(e.explicit)===_({}))return t;if(_(t.explicit)===_({}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0});if(t&&n){const n=e.projectionName(!0),i=new yl(n,t.specifiedProjection,t.size,B(t.data));return e.children.forEach(e=>{const t=e.component.projection;t&&(t.isFit&&i.data.push(...e.component.projection.data),e.renameProjection(t.get("name"),n),t.merged=!0)}),i}return}(e)}function vl(e,t){return`${qn(e)}_${t}`}function xl(e,t,n){const i=vl(Rn(n,void 0)||{},t);return e.getName(`${i}_bins`)}function Al(e,t,n){let i;i=function(e){return"as"in e}(e)?s(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:[Cn(e,{forAs:!0}),Cn(e,{binSuffix:"end",forAs:!0})];const r=Rn(t,void 0)||{},o=vl(r,e.field),{signal:a,extentSignal:u}=function(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}(n,o);return{key:o,binComponent:Object.assign({bin:r,field:e.field,as:[i]},a?{signal:a}:{},u?{extentSignal:u}:{})}}class wl extends ea{constructor(e,t){super(e),this.bins=t}clone(){return new wl(null,B(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,i)=>{if(bn(n)&&Wn(n.bin)){const{key:r,binComponent:o}=Al(n,n.bin,t);e[r]=Object.assign({},o,e[r],function(e,t,n,i){if(In(t,n)){const r=kf(e)&&(e.axis(n)||e.legend(n))||{},o=Cn(t,{expr:"datum"}),a=Cn(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Cn(t,{binSuffix:"range",forAs:!0}),formula:Vo(o,a,r.format,i)}}return{}}(t,n,i,t.config))}return e},{});return 0===Y(n).length?null:new wl(e,n)}static makeFromTransform(e,t,n){const{key:i,binComponent:r}=Al(t,t.bin,n);return new wl(e,{[i]:r})}merge(e,t){for(const n of Y(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=q([...this.bins[n].as,...e.bins[n].as],T)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(M(M(V(this.bins).map(e=>e.as))))}dependentFields(){return new Set(V(this.bins).map(e=>e.field))}hash(){return`Bin ${T(this.bins)}`}assemble(){return M(V(this.bins).map(e=>{const t=[],[n,...i]=e.as,r=Object.assign({type:"bin",field:te(e.field),as:n,signal:e.signal},e.bin);!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:te(e.field),signal:e.extentSignal}),r.extent={signal:e.extentSignal}),t.push(r);for(const e of i)for(let i=0;i<2;i++)t.push({type:"formula",expr:Cn({field:n[i]},{expr:"datum"}),as:e[i]});return e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))}}class Cl extends ea{constructor(e){let t;if(super(null),Lr(e=e||{name:"source"})||(t=e.format?Object.assign({},N(e.format,["parse"])):{}),Ur(e))this._data={values:e.values};else if(Pr(e)){if(this._data={url:e.url},!t.type){let n=/(?:\.([^.]+))?$/.exec(e.url)[1];R(["json","csv","tsv","dsv","topojson"],n)||(n="json"),t.type=n}}else qr(e)?this._data={values:[{type:"Sphere"}]}:(Mr(e)||Lr(e))&&(this._data={});this._generator=Lr(e),e.name&&(this._name=e.name),t&&Y(t).length>0&&(this._data.format=t)}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign({name:this._name},this._data,{transform:[]})}}function Fl(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return console.error("Dataflow graph is inconsistent.",t,e),!1;if(!Fl(t.children))return!1}return!0}class El extends ea{constructor(e,t){super(e),this.params=t}clone(){return new El(null,this.params)}assemble(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)}}class Dl extends ea{constructor(e,t){super(e),this.params=t}clone(){return new Dl(null,this.params)}producedFields(){return new Set([this.params.as||"data"])}assemble(){return Object.assign({type:"sequence"},this.params)}}function Sl(e){return e instanceof Cl||e instanceof El||e instanceof Dl}class kl{constructor(){this._mutated=!1}setMutated(){this._mutated=!0}get mutatedFlag(){return this._mutated}}class Ol extends kl{constructor(){super(),this._continue=!1}setContinue(){this._continue=!0}get continueFlag(){return this._continue}get flags(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}}set flags({continueFlag:e,mutatedFlag:t}){e&&this.setContinue(),t&&this.setMutated()}reset(){}optimizeNextFromLeaves(e){if(Sl(e))return!1;const t=e.parent,{continueFlag:n}=this.run(e);return n&&this.optimizeNextFromLeaves(t),this.mutatedFlag}}class $l extends kl{}function Bl(e,t,n,i){if(bn(n)&&Wn(n.bin))e.add(Cn(n,{})),e.add(Cn(n,{binSuffix:"end"})),In(n,t)&&e.add(Cn(n,{binSuffix:"range"}));else if(t in ct){const n=function(e){switch(e){case We:return"y";case Ge:return"y2";case He:return"x";case Ye:return"x2"}}(t);e.add(i.getName(n))}else e.add(Cn(n));return e}class jl extends ea{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new jl(null,new Set(this.dimensions),B(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef(e=>{e.aggregate&&(n=!0)});const i={},r=new Set;return n?(t.forEachFieldDef((e,n)=>{const{aggregate:o,field:a}=e;if(o)if("count"===o)i["*"]=i["*"]||{},i["*"].count=new Set([Cn(e,{forAs:!0})]);else{if($e(o)||Be(o)){const e=$e(o)?"argmin":"argmax",t=o[e];i[t]=i[t]||{},i[t][e]=new Set([Cn({op:e,field:t},{forAs:!0})])}else i[a]=i[a]||{},i[a][o]=new Set([Cn(e,{forAs:!0})]);Bt(n)&&"unaggregated"===t.scaleDomain(n)&&(i[a]=i[a]||{},i[a].min=new Set([Cn({field:a,aggregate:"min"},{forAs:!0})]),i[a].max=new Set([Cn({field:a,aggregate:"max"},{forAs:!0})]))}else Bl(r,n,e,t)}),r.size+Y(i).length===0?null:new jl(e,r,i)):null}static makeFromTransform(e,t){const n=new Set,i={};for(const e of t.aggregate){const{op:t,field:n,as:r}=e;t&&("count"===t?(i["*"]=i["*"]||{},i["*"].count=new Set([r||Cn(e,{forAs:!0})])):(i[n]=i[n]||{},i[n][t]=new Set([r||Cn(e,{forAs:!0})])))}for(const e of t.groupby||[])n.add(e);return n.size+Y(i).length===0?null:new jl(e,n,i)}merge(e){return function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(this.dimensions,e.dimensions)?(function(e,t){for(const n of Y(t)){const i=t[n];for(const t of Y(i))n in e?e[n][t]=new Set([...e[n][t]||[],...i[t]]):e[n]={[t]:i[t]}}}(this.measures,e.measures),!0):(function(...e){Mt.debug.apply(Mt,arguments)}("different dimensions, cannot merge"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Y(this.measures)])}producedFields(){const e=new Set;for(const t of Y(this.measures))for(const n of Y(this.measures[t])){const i=this.measures[t][n];0===i.size?e.add(`${n}_${t}`):i.forEach(e.add,e)}return e}hash(){return`Aggregate ${T({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const e=[],t=[],n=[];for(const i of Y(this.measures))for(const r of Y(this.measures[i]))for(const o of this.measures[i][r])n.push(o),e.push(r),t.push("*"===i?null:te(i));return{type:"aggregate",groupby:[...this.dimensions],ops:e,fields:t,as:n}}}class Nl extends ea{constructor(e,t,n,i){super(e),this.model=t,this.name=n,this.data=i;for(const e of ht){const n=t.facet[e];if(n){const{bin:i,sort:r}=n;this[e]=Object.assign({name:t.getName(`${e}_domain`),fields:[Cn(n),...Wn(i)?[Cn(n,{binSuffix:"end"})]:[]]},To(r)?{sortField:r}:o(r)?{sortIndexField:Gs(n,e)}:{})}}this.childModel=t.child}hash(){let e="Facet";for(const t of ht)this[t]&&(e+=` ${t.charAt(0)}:${T(this[t])}`);return e}get fields(){const e=[];for(const t of ht)this[t]&&this[t].fields&&e.push(...this[t].fields);return e}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of["x","y"]){const n=this.childModel.component.scales[t];if(n&&!n.merged){const i=n.get("type"),r=n.get("range");if(Wi(i)&&vo(r)){const n=lf(ff(this.childModel,t));n?e[t]=n:Lt("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e}assembleRowColumnHeaderData(e,t,n){const i={row:"y",column:"x"}[e],r=[],o=[],a=[];n&&n[i]&&(t?(r.push(`distinct_${n[i]}`),o.push("max")):(r.push(n[i]),o.push("distinct")),a.push(`distinct_${n[i]}`));const{sortField:s,sortIndexField:u}=this[e];if(s){const{op:e=_o,field:t}=s;r.push(t),o.push(e),a.push(Cn(s,{forAs:!0}))}else u&&(r.push(u),o.push("max"),a.push(u));return{name:this[e].name,source:t||this.data,transform:[Object.assign({type:"aggregate",groupby:this[e].fields},r.length?{fields:r,ops:o,as:a}:{})]}}assembleFacetHeaderData(e){const{columns:t}=this.model.layout,{layoutHeaders:n}=this.model.component,i=[],r={};for(const e of Qs){for(const t of Xs){const i=n[e]&&n[e][t]||[];for(const t of i)if(t.axes&&t.axes.length>0){r[e]=!0;break}}if(r[e]){const n=`length(data("${this.facet.name}"))`,r="row"===e?t?{signal:`ceil(${n} / ${t})`}:1:t?{signal:`min(${n}, ${t})`}:{signal:n};i.push({name:`${this.facet.name}_${e}`,transform:[{type:"sequence",start:0,stop:r}]})}}const{row:o,column:a}=r;return(o||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,e)),i}assemble(){const e=[];let t=null;const n=this.getChildIndependentFieldsWithStep(),{column:i,row:r,facet:o}=this;if(i&&r&&(n.x||n.y)){t=`cross_${this.column.name}_${this.row.name}`;const i=[].concat(n.x||[],n.y||[]),r=i.map(()=>"distinct");e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:i,ops:r}]})}for(const i of[Pe,Re])this[i]&&e.push(this.assembleRowColumnHeaderData(i,t,n));if(o){const t=this.assembleFacetHeaderData(n);t&&e.push(...t)}return e}}class _l extends ea{constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=pc(this.model,this.filter,this),this._dependentFields=Ws(this.expr)}clone(){return new _l(null,this.model,B(this.filter))}dependentFields(){return this._dependentFields}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function Tl(e){return"'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]?e.slice(1,-1):e}class zl extends ea{clone(){return new zl(null,B(this._parse))}constructor(e,t){super(e),this._parse=t}hash(){return`Parse ${T(this._parse)}`}static makeExplicit(e,t,n){let i={};const r=t.data;return!Lr(r)&&r&&r.format&&r.format.parse&&(i=r.format.parse),this.makeWithAncestors(e,i,{},n)}static makeImplicitFromFilterTransform(e,t,n){const i={};return function e(t,n){if(k(t))e(t.not,n);else if(S(t))for(const i of t.and)e(i,n);else if(D(t))for(const i of t.or)e(i,n);else n(t)}(t.filter,e=>{if(eo(e)){let t=null;Yr(e)?t=e.equal:Zr(e)?t=e.range[0]:Kr(e)&&(t=(e.oneOf||e.in)[0]),t&&(qt(t)?i[e.field]="date":v(t)?i[e.field]="number":s(t)&&(i[e.field]="string")),e.timeUnit&&(i[e.field]="date")}}),0===Y(i).length?null:this.makeWithAncestors(e,{},i,n)}static makeImplicitFromEncoding(e,t,n){const i={};function r(e){var t;Un(e)?i[e.field]="date":"quantitative"===e.type&&((t=e.aggregate)&&s(t)&&R(["min","max"],t))?i[e.field]="number":ie(e.field)>1?e.field in i||(i[e.field]="flatten"):An(e)&&To(e.sort)&&ie(e.sort.field)>1&&(e.sort.field in i||(i[e.sort.field]="flatten"))}if((kf(t)||Of(t))&&t.forEachFieldDef((e,n)=>{if(bn(e))r(e);else{const i=wt(n),o=t.fieldDef(i);r(Object.assign({},e,{type:o.type}))}}),kf(t)){const{mark:e,markDef:n,encoding:r}=t;if(ve(e)&&!t.encoding.order){const e=r["horizontal"===n.orient?"y":"x"];!yn(e)||"quantitative"!==e.type||e.field in i||(i[e.field]="number")}}return this.makeWithAncestors(e,{},i,n)}static makeWithAncestors(e,t,n,i){for(const e of Y(n)){const t=i.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||"derived"===t.value||"flatten"===n[e]?delete n[e]:Lt(zt.differentParse(e,n[e],t.value)))}for(const e of Y(t)){const n=i.get(e);void 0!==n&&(n===t[e]?delete t[e]:Lt(zt.differentParse(e,t[e],n)))}const r=new Gc(t,n);i.copyAll(r);const o={};for(const e of Y(r.combine())){const t=r.get(e);null!==t&&(o[e]=t)}return 0===Y(o).length||i.parseNothing?null:new zl(e,o)}get parse(){return this._parse}merge(e){this._parse=Object.assign({},this._parse,e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of Y(this._parse)){const n=this._parse[t];1===ie(t)&&(e[t]=n)}return e}producedFields(){return new Set(Y(this._parse))}dependentFields(){return new Set(Y(this._parse))}assembleTransforms(e=!1){return Y(this._parse).filter(t=>!e||ie(t)>1).map(e=>{const t=function(e,t){const n=ee(e);if("number"===t)return`toNumber(${n})`;if("boolean"===t)return`toBoolean(${n})`;if("string"===t)return`toString(${n})`;if("date"===t)return`toDate(${n})`;if("flatten"===t)return n;if(0===t.indexOf("date:"))return`timeParse(${n},'${Tl(t.slice(5,t.length))}')`;if(0===t.indexOf("utc:"))return`utcParse(${n},'${Tl(t.slice(4,t.length))}')`;return Lt(zt.unrecognizedParse(t)),null}(e,this._parse[e]);return t?{type:"formula",expr:t,as:ne(e)}:null}).filter(e=>null!==e)}}class Rl extends ea{constructor(e,t){super(e),this.transform=t}clone(){return new Rl(null,B(this.transform))}addDimensions(e){this.transform.groupby=q(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t=>e.add(t)),this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(t=>e.add(t)),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){return e.as||Cn(e)}hash(){return`JoinAggregateTransform ${T(this.transform)}`}assemble(){const e=[],t=[],n=[];for(const i of this.transform.joinaggregate)t.push(i.op),n.push(this.getDefaultName(i)),e.push(void 0===i.field?null:i.field);const i=this.transform.groupby;return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==i?{groupby:i}:{})}}class Pl extends ea{clone(){return new Pl(null,B(this._stack))}constructor(e,t){super(e),this._stack=t}static makeFromTransform(e,t){const{stack:n,groupby:i,as:r,offset:a="zero"}=t,u=[],c=[];if(void 0!==t.sort)for(const e of t.sort)u.push(e.field),c.push(re(e.order,"ascending"));const l={field:u,order:c};let f;return f=function(e){return o(e)&&e.every(e=>s(e))&&e.length>1}(r)?r:s(r)?[r,r+"_end"]:[t.stack+"_start",t.stack+"_end"],new Pl(e,{stackField:n,groupby:i,offset:a,sort:l,facetby:[],as:f})}static makeFromEncoding(e,t){const n=t.stack,{encoding:i}=t;if(!n)return null;let r;if(n.groupbyChannel){r=_n(i[n.groupbyChannel])}const a=function(e){return e.stack.stackBy.reduce((e,t)=>{const n=Cn(t.fieldDef);return n&&e.push(n),e},[])}(t),s=t.encoding.order;let u;return u=o(s)||yn(s)?Qo(s):a.reduce((e,t)=>(e.field.push(t),e.order.push("descending"),e),{field:[],order:[]}),new Pl(e,{dimensionFieldDef:r,stackField:t.vgField(n.fieldChannel),facetby:[],stackby:a,sort:u,offset:n.offset,impute:n.impute,as:[t.vgField(n.fieldChannel,{suffix:"start",forAs:!0}),t.vgField(n.fieldChannel,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(t=>e.add(t)),this._stack.facetby.forEach(t=>e.add(t)),this._stack.sort.field.forEach(t=>e.add(t)),e}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${T(this._stack)}`}getGroupbyFields(){const{dimensionFieldDef:e,impute:t,groupby:n}=this._stack;return e?e.bin?t?[Cn(e,{binSuffix:"mid"})]:[Cn(e,{}),Cn(e,{binSuffix:"end"})]:[Cn(e)]:n||[]}assemble(){const e=[],{facetby:t,dimensionFieldDef:n,stackField:i,stackby:r,sort:o,offset:a,impute:s,as:u}=this._stack;return s&&n&&(n.bin&&e.push({type:"formula",expr:"0.5*"+Cn(n,{expr:"datum"})+"+0.5*"+Cn(n,{expr:"datum",binSuffix:"end"}),as:Cn(n,{binSuffix:"mid",forAs:!0})}),e.push({type:"impute",field:i,groupby:[...r,...t],key:Cn(n,{binSuffix:"mid"}),method:"value",value:0})),e.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:i,sort:o,as:u,offset:a}),e}}class Ul extends ea{constructor(e,t){super(e),this.transform=t}clone(){return new Ul(null,B(this.transform))}addDimensions(e){this.transform.groupby=q(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return(this.transform.groupby||[]).forEach(t=>e.add(t)),(this.transform.sort||[]).forEach(t=>e.add(t.field)),this.transform.window.map(e=>e.field).filter(e=>void 0!==e).forEach(t=>e.add(t)),e}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){return e.as||Cn(e)}hash(){return`WindowTransform ${T(this.transform)}`}assemble(){const e=[],t=[],n=[],i=[];for(const r of this.transform.window)t.push(r.op),n.push(this.getDefaultName(r)),i.push(void 0===r.param?null:r.param),e.push(void 0===r.field?null:r.field);const r=this.transform.frame,o=this.transform.groupby;if(r&&null===r[0]&&null===r[1]&&t.every(e=>je(e)))return Object.assign({type:"joinaggregate",as:n,ops:t,fields:e},void 0!==o?{groupby:o}:{});const a=[],s=[];if(void 0!==this.transform.sort)for(const e of this.transform.sort)a.push(e.field),s.push(e.order||"ascending");const u={field:a,order:s},c=this.transform.ignorePeers;return Object.assign({type:"window",params:i,as:n,ops:t,fields:e,sort:u},void 0!==c?{ignorePeers:c}:{},void 0!==o?{groupby:o}:{},void 0!==r?{frame:r}:{})}}class Ml extends Ol{run(e){const t=e.parent;if(e instanceof zl){if(Sl(t))return this.flags;if(t.numChildren()>1)return this.setContinue(),this.flags;if(t instanceof zl)this.setMutated(),t.merge(e);else{if(G(t.producedFields(),e.dependentFields()))return this.setContinue(),this.flags;this.setMutated(),e.swapWithParent()}}return this.setContinue(),this.flags}}class Ll extends $l{mergeNodes(e,t){const n=t.shift();for(const i of t)e.removeChild(i),i.parent=n,i.remove()}run(e){const t=e.children.map(e=>e.hash()),n={};for(let i=0;i<t.length;i++)void 0===n[t[i]]?n[t[i]]=[e.children[i]]:n[t[i]].push(e.children[i]);for(const t of Y(n))n[t].length>1&&(this.setMutated(),this.mergeNodes(e,n[t]));for(const t of e.children)this.run(t);return this.mutatedFlag}}class Il extends Ol{run(e){return e instanceof ta||e.numChildren()>0||e instanceof Nl?this.flags:(this.setMutated(),e.remove(),this.flags)}}class ql extends Ol{constructor(){super(...arguments),this.fields=new Set}run(e){if(this.setContinue(),e instanceof Ou){const t=e.producedFields();W(t,this.fields)?(this.setMutated(),e.remove()):this.fields=new Set([...this.fields,...t])}return this.flags}reset(){this.fields.clear()}}class Wl extends Ol{run(e){this.setContinue();const t=e.parent.children.filter(e=>e instanceof Ou),n=t.pop();for(const e of t)this.setMutated(),n.merge(e);return this.flags}}function Hl(e){if(e instanceof Nl)if(1!==e.numChildren()||e.children[0]instanceof ta){const n=e.model.component.data.main;!function e(t){if(t instanceof ta&&t.type===Hr&&1===t.numChildren()){const n=t.children[0];n instanceof Nl||(n.swapWithParent(),e(t))}}(n);const i=(t=e,function e(n){if(!(n instanceof Nl)){const i=n.clone();if(i instanceof ta){const e=Xl+i.getSource();i.setSource(e),t.model.component.data.outputNodes[e]=i}else(i instanceof jl||i instanceof Pl||i instanceof Ul||i instanceof Rl)&&i.addDimensions(t.fields);return M(n.children.map(e)).forEach(e=>e.parent=i),[i]}return M(n.children.map(e))}),r=M(e.children.map(i));for(const e of r)e.parent=n}else{const t=e.children[0];(t instanceof jl||t instanceof Pl||t instanceof Ul||t instanceof Rl)&&t.addDimensions(e.fields),t.swapWithParent(),Hl(e)}else e.children.map(Hl);var t}class Gl extends $l{run(e){e instanceof ta&&!e.isRequired()&&(this.setMutated(),e.remove());for(const t of e.children)this.run(t);return this.mutatedFlag}}class Yl extends Ol{run(e){const t=e.parent,n=[...t.children],i=t.children.filter(e=>e instanceof zl);if(t.numChildren()>1&&i.length>=1){const e={},r=new Set;for(const t of i){const n=t.parse;for(const t of Y(n))t in e?e[t]!==n[t]&&r.add(t):e[t]=n[t]}for(const t of r)delete e[t];if(0!==Y(e).length){this.setMutated();const i=new zl(t,e);for(const r of n){if(r instanceof zl)for(const t of Y(e))delete r.parse[t];t.removeChild(r),r.parent=i,r instanceof zl&&0===Y(r.parse).length&&r.remove()}}}return this.setContinue(),this.flags}}class Vl extends Ol{run(e){const t=e.parent,n=t.children.filter(e=>e instanceof jl),i={};for(const e of n){const t=T(e.groupBy);t in i||(i[t]=[]),i[t].push(e)}for(const e of Y(i)){const n=i[e];if(n.length>1){const e=n.pop();for(const i of n)e.merge(i)&&(t.removeChild(i),i.parent=e,i.remove(),this.setMutated())}}return this.setContinue(),this.flags}}class Jl extends Ol{constructor(e){super(),this.model=e}run(e){const t=e.parent,n=!(Sl(t)||t instanceof _l||t instanceof zl),i=[],r=[];for(const e of t.children)e instanceof wl&&(n&&!G(t.producedFields(),e.dependentFields())?i.push(e):r.push(e));if(i.length>0){const e=i.pop();for(const t of i)e.merge(t,this.model.renameSignal.bind(this.model));this.setMutated(),t instanceof wl?t.merge(e,this.model.renameSignal.bind(this.model)):e.swapWithParent()}if(r.length>1){const e=r.pop();for(const t of r)e.merge(t,this.model.renameSignal.bind(this.model));this.setMutated()}return this.setContinue(),this.flags}}class Ql extends Ol{run(e){const t=e.parent,n=[...t.children];if(!P(n,e=>e instanceof ta)||t.numChildren()<=1)return this.setContinue(),this.flags;const i=[];let r;for(const e of n)if(e instanceof ta){let n=e;for(;1===n.numChildren();){const e=n.children[0];if(!(e instanceof ta))break;n=e}i.push(...n.children),r?(t.removeChild(e),e.parent=r.parent,r.parent.removeChild(r),r.parent=n,this.setMutated()):r=n}else i.push(e);if(i.length){this.setMutated();for(const e of i)e.parent.removeChild(e),e.parent=r}return this.setContinue(),this.flags}}const Xl="scale_",Zl=5;function Kl(e){const t=[];return e.forEach(function e(n){0===n.numChildren()?t.push(n):n.children.forEach(e)}),t}function ef(e){return e}function tf(e,t){return t.map(t=>{if(e instanceof Ol){const n=e.optimizeNextFromLeaves(t);return e.reset(),n}return e.run(t)}).some(ef)}function nf(e,t){let n=e.sources;const i=new Set;return i.add(tf(new Gl,n)),n=n.filter(e=>e.numChildren()>0),i.add(tf(new Il,Kl(n))),n=n.filter(e=>e.numChildren()>0),i.add(tf(new Ml,Kl(n))),i.add(tf(new Jl(t),Kl(n))),i.add(tf(new ql,Kl(n))),i.add(tf(new Yl,Kl(n))),i.add(tf(new Vl,Kl(n))),i.add(tf(new Wl,Kl(n))),i.add(tf(new Ll,n)),i.add(tf(new Ql,Kl(n))),e.sources=n,i.has(!0)}class rf{constructor(e){Object.defineProperty(this,"signal",{enumerable:!0,get:e})}static fromName(e,t){return new rf(()=>e(t))}}function of(e){kf(e)?function(e){const t=e.specifiedScales,n=e.component.scales;Y(n).forEach(i=>{const r=t[i],o=r?r.domain:void 0,a=function(e,t){const n=e.getScaleComponent(t).get("type"),i=function(e,t,n,i){if("unaggregated"===e){const{valid:e,reason:i}=uf(t,n);if(!e)return void Lt(i)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:e}=uf(t,n);if(e)return"unaggregated"}return e}(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign({},e.specifiedScales[t],{domain:i}));if("x"===t&&e.channelHasField("x2"))return e.channelHasField("x")?Xc(af(n,i,e,"x"),af(n,i,e,"x2"),"domain","scale",cf):af(n,i,e,"x2");if("y"===t&&e.channelHasField("y2"))return e.channelHasField("y")?Xc(af(n,i,e,"y"),af(n,i,e,"y2"),"domain","scale",cf):af(n,i,e,"y2");return af(n,i,e,t)}(e,i),s=n[i];if(s.setWithExplicit("domains",a),Ji(o)&&s.set("domainRaw",{signal:qu+T(o)},!0),e.component.data.isFaceted){let t=e;for(;!Of(t)&&t.parent;)t=t.parent;const n=t.component.resolve.scale[i];if("shared"===n)for(const e of a.value)xo(e)&&(e.data=Xl+e.data.replace(Xl,""))}})}(e):function(e){for(const t of e.children)of(t);const t=e.component.scales;Y(t).forEach(n=>{let i,r=null;for(const t of e.children){const e=t.component.scales[n];if(e){i=void 0===i?e.getWithExplicit("domains"):Xc(i,e.getWithExplicit("domains"),"domains","scale",cf);const t=e.get("domainRaw");r&&t&&r.signal!==t.signal&&Lt("The same selection must be used to override scale domains in a layered view."),r=t}}t[n].setWithExplicit("domains",i),r&&t[n].set("domainRaw",r,!0)})}(e)}function af(e,t,n,i){const r=n.fieldDef(i);if(t&&"unaggregated"!==t&&!Ji(t)){const{type:e,timeUnit:n}=r;return Yc("temporal"===e||n?function(e,t,n){return e.map(e=>({signal:`{data: ${Mn(e,{timeUnit:n,type:t})}}`}))}(t,e,n):[t])}const o=n.stack;if(o&&i===o.fieldChannel){if("normalize"===o.offset)return Vc([[0,1]]);const e=n.requestDataName(Hr);return Vc([{data:e,field:n.vgField(i,{suffix:"start"})},{data:e,field:n.vgField(i,{suffix:"end"})}])}const s=Bt(i)?function(e,t,n){if(!Wi(n))return;const i=e.fieldDef(t),r=i.sort;if(zo(r))return{op:"min",field:Gs(i,t),order:"ascending"};const o=null!==e.stack;if(To(r))return sf(r,o);if(function(e){return!!e&&!!e.encoding}(r)){const{encoding:t,order:n}=r,{aggregate:i,field:a}=e.fieldDef(t),s={op:i,field:a,order:n};return sf(s,o)}if("descending"===r)return{op:"min",field:e.vgField(t),order:"descending"};if(R(["ascending",void 0],r))return!0;return}(n,i,e):void 0;if("unaggregated"===t){const e=n.requestDataName(Hr),{field:t}=r;return Vc([{data:e,field:Cn({field:t,aggregate:"min"})},{data:e,field:Cn({field:t,aggregate:"max"})}])}if(Wn(r.bin)){if(Wi(e))return Vc("bin-ordinal"===e?[]:[{data:J(s)?n.requestDataName(Hr):n.requestDataName(Gr),field:n.vgField(i,In(r,i)?{binSuffix:"range"}:{}),sort:!0!==s&&a(s)?s:{field:n.vgField(i,{}),op:"min"}}]);{const{bin:e}=r;if(Wn(e)){const t=xl(n,r.field,e);return Vc([new rf(()=>{const e=n.getSignalName(t);return`[${e}.start, ${e}.stop]`})])}return Vc([{data:n.requestDataName(Hr),field:n.vgField(i,{})}])}}return Vc(s?[{data:J(s)?n.requestDataName(Hr):n.requestDataName(Gr),field:n.vgField(i),sort:s}]:[{data:n.requestDataName(Hr),field:n.vgField(i)}])}function sf(e,t){const{op:n,field:i,order:r}=e;return Object.assign({op:n||(t?"sum":_o)},i?{field:te(i)}:{},r?{order:r}:{})}function uf(e,t){const{aggregate:n,type:i}=e;return n?s(n)&&!ze[n]?{valid:!1,reason:zt.unaggregateDomainWithNonSharedDomainOp(n)}:"quantitative"===i&&"log"===t?{valid:!1,reason:zt.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:zt.unaggregateDomainHasNoEffectForRawField(e)}}function cf(e,t,n,i){return e.explicit&&t.explicit&&Lt(zt.mergeConflictingDomainProperty(n,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function lf(e){if(xo(e)&&s(e.field))return e.field;if(function(e){return!o(e)&&"fields"in e&&!("data"in e)}(e)){let t;for(const n of e.fields)if(xo(n)&&s(n.field))if(t){if(t!==n.field)return Lt("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),t}else t=n.field;return Lt("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(function(e){return!o(e)&&"fields"in e&&"data"in e}(e)){Lt("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");const t=e.fields[0];return s(t)?t:void 0}}function ff(e,t){return function(e){const t=q(e.map(e=>xo(e)?ke(e,["sort"]):e),T),n=q(e.map(e=>{if(xo(e)){const t=e.sort;return void 0===t||J(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(e=>void 0!==e),T);if(0===t.length)return;if(1===t.length){const t=e[0];if(xo(t)&&n.length>0){let e=n[0];return n.length>1&&(Lt(zt.MORE_THAN_ONE_SORT),e=!0),Object.assign({},t,{sort:e})}return t}const i=q(n.map(e=>J(e)||"count"===e.op?e:(Lt(zt.domainSortDropped(e)),!0)),T);let r;1===i.length?r=i[0]:i.length>1&&(Lt(zt.MORE_THAN_ONE_SORT),r=!0);const o=q(e.map(e=>xo(e)?e.data:null),e=>e);if(1===o.length&&null!==o[0])return Object.assign({data:o[0],fields:t.map(e=>e.field)},r?{sort:r}:{});return Object.assign({fields:t},r?{sort:r}:{})}(e.component.scales[t].get("domains").map(t=>(xo(t)&&(t.data=e.lookupDataSource(t.data)),t)))}function df(e){return Y(e.component.scales).reduce((t,n)=>{const i=e.component.scales[n];if(i.merged)return t;const r=i.combine();let{domainRaw:o}=r;const{name:a,type:s,domains:c,domainRaw:l,range:f}=r,d=ke(r,["name","type","domains","domainRaw","range"]),p=function(e,t,n){if(("x"===n||"y"===n)&&vo(e))return{step:{signal:t+"_step"}};return e}(r.range,a,n);o&&function(e){return e.signal.indexOf(qu)>=0}(o)&&(o=function(e,t){const n=JSON.parse(t.signal.replace(qu,"")),i=Q(n.selection),r=n.encoding;let o=n.field,a=e.component.selection&&e.component.selection[i];if(!a){if(a=e.getSelectionComponent(i,n.selection),r||o){if(r&&!o){const e=a.project.items.filter(e=>e.channel===r);!e.length||e.length>1?(o=a.project.items[0].field,Lt((e.length?"Multiple ":"No ")+`matching ${u(r)} encoding found for selection ${u(n.selection)}. `+`Using "field": ${u(o)}.`)):o=e[0].field}}else o=a.project.items[0].field,a.project.items.length>1&&Lt('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${u(o)}.`);return{signal:ee(o,i)}}return Lt('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}}(e,o));const h=ff(e,n);return t.push(Object.assign({name:a,type:s},h?{domain:h}:{},o?{domainRaw:o}:{},{range:p},d)),t},[])}class pf extends Gc{constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")||P(this.get("domains"),e=>o(e)&&2===e.length&&e[0]<=0&&e[1]>=0)}}const hf=["range","rangeStep","scheme"];function mf(e){return"x"===e?"width":"y"===e?"height":void 0}function gf(e){const t=e.component.scales;$t.forEach(n=>{const i=t[n];if(!i)return;const r=e.getScaleComponent(n),a=e.specifiedScales[n],s=e.fieldDef(n),u=mf(n);let c=u?!!e.component.layoutSize.get(u):void 0;const l=r.get("type"),f=R(["point","band"],l)||!!a.rangeStep;u&&e.fit&&!c&&f&&(Lt(zt.CANNOT_FIX_RANGE_STEP_WITH_FIT),c=!0);const d=function(e){const t=[];for(const n of Dt){const i=yf(e,n);void 0!==i&&t.push(i)}return t}(e),p=function(e,t,n,i,r,a,s,u,c,l,f){const d=c||null===r.rangeStep;for(const t of hf)if(void 0!==r[t]){const i=Zi(n,t),o=Ki(e,t);if(i)if(o)Lt(o);else switch(t){case"range":return Yc(r[t]);case"scheme":return Yc(bf(r[t]));case"rangeStep":{const n=r[t];if(null!==n){if(!c)return Yc({step:n});Lt(zt.rangeStepDropped(e))}}}else Lt(zt.scalePropertyNotWorkWithScaleType(n,t,e))}return Vc(function(e,t,n,i,r,a,s,u,c,l,f){switch(e){case Me:case Le:if(R(["point","band"],n)&&!l)if(e===Me&&"text"===s){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===Le&&Hi(n)?[rf.fromName(t,u),0]:[0,rf.fromName(t,u)];case Ze:{const t=function(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(zt.incompatibleChannel("size",e))}(s,a,r),i=function(e,t,n){const i=n.scale;switch(e){case"bar":case"tick":{if(void 0!==n.scale.maxBandSize)return n.scale.maxBandSize;const e=xf(t,n.scale);return v(e)?e-1:new rf(()=>`${e.signal} - 1`)}case"line":case"trail":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":{if(n.scale.maxSize)return n.scale.maxSize;const e=xf(t,i);return v(e)?Math.pow(vf*e,2):new rf(()=>`pow(${vf} * ${e.signal}, 2)`)}}throw new Error(zt.incompatibleChannel("size",e))}(s,c,r);return Yi(n)?function(e,t,n){const i=()=>{const i=bo(t)?t.signal:t,r=`(${i} - ${e}) / (${n} - 1)`;return`sequence(${e}, ${t} + ${r}, ${r})`};return bo(t)?new rf(i):{signal:i()}}(t,i,function(e,t,n,i){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return void 0!==n&&o(n)?n.length+1:(Lt(zt.domainRequiredForThresholdScale(i)),3)}}(n,r,f,e)):[t,i]}case nt:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Xe:return"symbol";case Ve:case Je:case Qe:return"ordinal"===n?"nominal"===i?"category":"ordinal":"rect"===s||"geoshape"===s?"heatmap":"ramp";case Ke:case et:case tt:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error(`Scale range undefined for channel ${e}`)}(e,t,n,i,a,s,u,l,f,d,r.domain))}(n,e.getSignalName.bind(e),l,s.type,a,e.config,i.get("zero"),e.mark,c,e.getName(u),d);i.setWithExplicit("range",p)})}function yf(e,t){const n=e.getScaleComponent(t);if(!n)return;const i=n.get("type"),r=e.fieldDef(t);if(Wi(i)){const e=n&&n.get("range");if(e&&vo(e)&&v(e.step))return e.step}else if(r&&r.bin&&Wn(r.bin)){const n=xl(e,r.field,r.bin),i=mf(t),o=e.getName(i);return new rf(()=>{const t=e.getSignalName(n),i=`(${t}.stop - ${t}.start) / ${t}.step`;return`${e.getSignalName(o)} / (${i})`})}}function bf(e){return function(e){return e&&!!e.name}(e)?Object.assign({scheme:e.name},N(e,["name"])):{scheme:e}}const vf=.95;function xf(e,t){if(e.length>0){let t=1/0;for(const n of e)bo(n)?t=void 0:void 0!==t&&n<t&&(t=n);return void 0!==t?t:new rf(()=>{return`min(${e.map(e=>bo(e)?e.signal:e).join(", ")})`})}return t.rangeStep?t.rangeStep:21}function Af(e,t){kf(e)?function(e,t){const n=e.component.scales;Y(n).forEach(i=>{const r=e.specifiedScales[i],a=n[i],s=e.getScaleComponent(i),u=e.fieldDef(i),c=e.config,l=r[t],f=s.get("type"),d=Zi(f,t),p=Ki(i,t);if(void 0!==l&&(d?p&&Lt(p):Lt(zt.scalePropertyNotWorkWithScaleType(f,t,i))),d&&void 0===p)if(void 0!==l)a.copyKeyFromObject(t,r);else{const n=function(e,t,n,i,r,a,s,u,c,l){const f=l.scale,{type:d,sort:p}=i;switch(e){case"bins":return function(e,t){const n=t.bin;if(Wn(n)){const i=xl(e,t.field,n);return new rf(()=>e.getSignalName(i))}if(Hn(n)&&Gn(n)&&void 0!==n.step)return{step:n.step};return}(t,i);case"interpolate":return function(e,t){if(R([Ve,Je,Qe],e)&&"nominal"!==t)return"hcl";return}(n,d);case"nice":return function(e,t,n){if(n.bin||R([Ni.TIME,Ni.UTC],e))return;return!!R([Me,Le],t)||void 0}(r,n,i);case"padding":return function(e,t,n,i,r,o){if(R([Me,Le],e)){if(Gi(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=r;if("bar"===t&&!i.bin&&("vertical"===a&&"x"===e||"horizontal"===a&&"y"===e))return o.continuousBandSize}if(t===Ni.POINT)return n.pointPadding}return}(n,r,f,i,c,l.bar);case"paddingInner":return function(e,t,n,i){if(void 0!==e)return;if(R([Me,Le],t)){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r}=i;return re(e,"bar"===n?t:r)}return}(a,n,c.type,f);case"paddingOuter":return function(e,t,n,i,r,o){if(void 0!==e)return;if(R([Me,Le],t)&&n===Ni.BAND){const{bandPaddingOuter:e,barBandPaddingOuter:t,rectBandPaddingOuter:n}=o;return re(e,"bar"===i?t:n,r/2)}return}(a,n,r,c.type,s,f);case"reverse":return function(e,t){if(Hi(e)&&"descending"===t)return!0;return}(r,p);case"zero":return function(e,t,n,i,r){if(n&&"unaggregated"!==n&&Hi(r)){if(o(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if("size"===e&&"quantitative"===t.type&&!Yi(r))return!0;if(!t.bin&&R([Me,Le],e)){const{orient:t,type:n}=i;return!R(["bar","area","line","trail"],n)||!("horizontal"===t&&"y"===e||"vertical"===t&&"x"===e)}return!1}(n,i,u,c,r)}return f[e]}(t,e,i,u,s.get("type"),s.get("padding"),s.get("paddingInner"),r.domain,e.markDef,c);void 0!==n&&a.set(t,n,!1)}})}(e,t):Cf(e,t)}function wf(e){kf(e)?gf(e):Cf(e,"range")}function Cf(e,t){const n=e.component.scales;for(const n of e.children)"range"===t?wf(n):Af(n,t);Y(n).forEach(i=>{let r;for(const n of e.children){const e=n.component.scales[i];if(e){r=Xc(r,e.getWithExplicit(t),t,"scale",Jc((e,n)=>{switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[i].setWithExplicit(t,r)})}function Ff(e,t,n,i){const r=function(e,t,n){switch(t.type){case"nominal":case"ordinal":if(dt(e)||"discrete"===Tt(e))return"shape"===e&&"ordinal"===t.type&&Lt(zt.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(R(["x","y"],e)){if(R(["rect","bar","rule"],n))return"band";if("bar"===n)return"band"}return"point";case"temporal":return dt(e)?"time":"discrete"===Tt(e)?(Lt(zt.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return dt(e)?Wn(t.bin)?"bin-ordinal":"linear":"discrete"===Tt(e)?(Lt(zt.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(zt.invalidFieldType(t.type))}(t,n,i),{type:o}=e;return Bt(t)?void 0!==o?tr(t,o)?er(o,n.type)?o:(Lt(zt.scaleTypeNotWorkWithFieldDef(o,r)),r):(Lt(zt.scaleTypeNotWorkWithChannel(t,o,r)),r):r:null}function Ef(e){kf(e)?e.component.scales=function(e){const{encoding:t,mark:n}=e;return $t.reduce((i,r)=>{let o,a;const s=t[r];if(yn(s)&&n===be&&r===Xe&&s.type===pn)return i;if(yn(s)?(o=s,a=s.scale):gn(s)&&(o=s.condition,a=s.condition.scale),o&&null!==a&&!1!==a){const t=Ff(a=a||{},r,o,n);i[r]=new pf(e.scaleName(r+"",!0),{value:t,explicit:a.type===t})}return i},{})}(e):e.component.scales=function(e){const t=e.component.scales={},n={},i=e.component.resolve;for(const t of e.children)Ef(t),Y(t.component.scales).forEach(r=>{if(i.scale[r]=i.scale[r]||Wc(r,e),"shared"===i.scale[r]){const e=n[r],o=t.component.scales[r].getWithExplicit("type");e?zi(e.value,o.value)?n[r]=Xc(e,o,"type","scale",Df):(i.scale[r]="independent",delete n[r]):n[r]=o}});return Y(n).forEach(i=>{const r=e.scaleName(i,!0),o=n[i];t[i]=new pf(r,o);for(const t of e.children){const e=t.component.scales[i];e&&(t.renameScale(e.get("name"),r),e.merged=!0)}}),t}(e)}const Df=Jc((e,t)=>Pi(e)-Pi(t));class Sf{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function kf(e){return e&&"unit"===e.type}function Of(e){return e&&"facet"===e.type}function $f(e){return e&&"repeat"===e.type}function Bf(e){return e&&"concat"===e.type}function jf(e){return e&&"layer"===e.type}class Nf{constructor(e,t,n,i,r,a,u,c){this.type=t,this.parent=n,this.config=r,this.repeater=a,this.view=c,this.children=[],this.correctDataNames=e=>(e.from&&e.from.data&&(e.from.data=this.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e),this.parent=n,this.config=r,this.repeater=a,this.name=e.name||i,this.title=s(e.title)?{text:e.title}:e.title,this.scaleNameMap=n?n.scaleNameMap:new Sf,this.projectionNameMap=n?n.projectionNameMap:new Sf,this.signalNameMap=n?n.signalNameMap:new Sf,this.data=e.data,this.description=e.description,this.transforms=(e.transform||[]).map(e=>ro(e)?{filter:O(e.filter,io)}:e),this.layout=De(e)||vr(e)?{}:function(e,t,n){const i=n[t],r={},{spacing:a,columns:s}=i;void 0!==a&&(r.spacing=a),void 0!==s&&(Qt(e)&&!Jt(e.facet)||cr(e)&&o(e.repeat)||ar(e))&&(r.columns=s);for(const t of lr)if(void 0!==e[t])if("spacing"===t){const n=e[t];r[t]=v(n)?n:{row:n.row||a,column:n.column||a}}else r[t]=e[t];return r}(e,t,r),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:Qt(e)||n&&n.component.data.isFaceted&&void 0===e.data},layoutSize:new Gc,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},u?B(u):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}initSize(e){const{width:t,height:n}=e;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e){Ef(e),of(e);for(const t of Xi)Af(e,t);wf(e)}(this)}parseProjection(){bl(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ul(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type)return this.view&&this.view.style||"cell"}assembleEncodeFromView(e){const t=ke(e,["style"]),n={};for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];void 0!==i&&(n[e]={value:i})}return n}assembleGroupEncodeEntry(e){let t=void 0;return this.view&&(t=this.assembleEncodeFromView(this.view)),e||"unit"!==this.type&&"layer"!==this.type?t:Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},t||{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=ke(e,["spacing"]),{component:i,config:r}=this,o=function(e,t){const n={};for(const i of ht){const r=e[i];if(r&&r.facetFieldDef){const{titleAnchor:e,titleOrient:o}=Js(["titleAnchor","titleOrient"],r.facetFieldDef,t,i),a=Ys(i,o),s=au(e,a);void 0!==s&&(n[a]=s)}}return Y(n).length>0?n:void 0}(i.layoutHeaders,r);return Object.assign({padding:t},this.assembleDefaultLayout(),n,o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of ht)e[n].title&&t.push(Zs(this,n));for(const e of Qs)t=t.concat(tu(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:i=[]}=e;return[...n.map(e=>ko(e,"main",t)),...n.map(e=>ko(e,"grid",t)),...i.map(e=>ko(e,"main",t)),...i.map(e=>ko(e,"grid",t))].filter(e=>e)}(this.component.axes,this.config)}assembleLegends(){return pl(this)}assembleProjections(){return hl(this)}assembleTitle(){const e=this.title||{},{encoding:t}=e,n=ke(e,["encoding"]),i=Object.assign({},fr(this.config.title).nonMark,n,t?{encode:{update:t}}:{});if(i.text)return R(["unit","layer"],this.type)?R(["middle",void 0],i.anchor)&&(i.frame=i.frame||"group"):i.anchor=i.anchor||"start",Y(i).length>0?i:void 0}assembleGroup(e=[]){const t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Of(this.parent)?function e(t){return jf(t)||Bf(t)||$f(t)?t.children.reduce((t,n)=>t.concat(e(n)),df(t)):df(t)}(this):[];i.length>0&&(t.scales=i);const r=this.assembleAxes();r.length>0&&(t.axes=r);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}hasDescendantWithFieldOnChannel(e){for(const t of this.children)if(kf(t)){if(t.channelHasField(e))return!0}else if(t.hasDescendantWithFieldOnChannel(e))return!0;return!1}getName(e){return Q((this.name?this.name+"_":"")+e)}requestDataName(e){const t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(Of(this.parent)){const t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){const e=n.get("type"),i=n.get("range");if(Wi(e)&&vo(i)){const e=n.get("name"),i=lf(ff(this,t));if(i){return{signal:fu(e,n,Cn({aggregate:"distinct",field:i},{expr:"datum"}))}}return Lt("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):vt(e)&&Bt(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(zt.selectionNotFound(t));return n}}class _f extends Nf{vgField(e,t={}){const n=this.fieldDef(e);if(n)return Cn(n,t)}reduceFieldDef(e,t,n){return ei(this.getMapping(),(t,n,i)=>{const r=Nn(n);return r?e(t,r,i):t},t,n)}forEachFieldDef(e,t){Kn(this.getMapping(),(t,n)=>{const i=Nn(t);i&&e(i,n)},t)}}class Tf extends ea{constructor(e,t){super(e),this.filter=t}clone(){return new Tf(null,Object.assign({},this.filter))}static make(e,t){const{config:n,mark:i}=t;if("filter"!==n.invalidValues)return null;const r=t.reduceFieldDef((e,n,r)=>{const o=Bt(r)&&t.getScaleComponent(r);if(o){!Hi(o.get("type"))||n.aggregate||ve(i)||(e[n.field]=n)}return e},{});return Y(r).length?new Tf(e,r):null}dependentFields(){return new Set(Y(this.filter))}assemble(){const e=Y(this.filter).reduce((e,t)=>{const n=this.filter[t],i=Cn(n,{expr:"datum"});return null!==n&&(e.push(`${i} !== null`),e.push(`!isNaN(${i})`)),e},[]);return e.length>0?{type:"filter",expr:e.join(" && ")}:null}}class zf extends ea{constructor(e,t){super(e),this.transform=t,this.transform=B(t);const{flatten:n,as:i=[]}=this.transform;this.transform.as=n.map((e,t)=>i[t]||e)}clone(){return new zf(this.parent,B(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${T(this.transform)}`}assemble(){const{flatten:e,as:t}=this.transform;return{type:"flatten",fields:e,as:t}}}class Rf extends ea{constructor(e,t){super(e),this.transform=t,this.transform=B(t);const n=this.transform.as||[void 0,void 0];this.transform.as=[n[0]||"key",n[1]||"value"]}clone(){return new Rf(null,B(this.transform))}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${T(this.transform)}`}assemble(){const{fold:e,as:t}=this.transform;return{type:"fold",fields:e,as:t}}}class Pf extends ea{constructor(e,t,n,i){super(e),this.fields=t,this.geojson=n,this.signal=i}clone(){return new Pf(null,B(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;if([[He,We],[Ye,Ge]].forEach(i=>{const r=i.map(e=>t.channelHasField(e)?t.fieldDef(e).field:xn(t.encoding[e])?{expr:t.encoding[e].value+""}:void 0);(r[0]||r[1])&&(e=new Pf(e,r,null,t.getName(`geojson_${n++}`)))}),t.channelHasField(Xe)){const i=t.fieldDef(Xe);i.type===pn&&(e=new Pf(e,null,i.field,t.getName(`geojson_${n++}`)))}return e}assemble(){return Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class Uf extends ea{constructor(e,t,n,i){super(e),this.projection=t,this.fields=n,this.as=i}clone(){return new Uf(null,this.projection,B(this.fields),B(this.as))}static parseAll(e,t){return t.projectionName()?([[He,We],[Ye,Ge]].forEach(n=>{const i=n.map(e=>t.channelHasField(e)?t.fieldDef(e).field:xn(t.encoding[e])?{expr:t.encoding[e].value+""}:void 0),r=n[0]===Ye?"2":"";(i[0]||i[1])&&(e=new Uf(e,t.projectionName(),i,[t.getName("x"+r),t.getName("y"+r)]))}),e):e}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Mf extends ea{clone(){return new Mf(null)}constructor(e){super(e)}producedFields(){return new Set([ir])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:ir}}}class Lf extends ea{constructor(e,t){super(e),this.transform=t}clone(){return new Lf(null,B(this.transform))}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:i}=e;return{signal:`sequence(${[t,n,...i?[i]:[]].join(",")})`}}static makeFromTransform(e,t){return new Lf(e,t)}static makeFromEncoding(e,t){const n=t.encoding,i=n.x,r=n.y;if(yn(i)&&yn(r)){const o=i.impute?i:r.impute?r:void 0;if(void 0===o)return;const a=i.impute?r:r.impute?i:void 0,{method:s,value:u,frame:c,keyvals:l}=o.impute,f=ti(t.mark,n);return new Lf(e,Object.assign({impute:o.field,key:a.field},s?{method:s}:{},void 0!==u?{value:u}:{},c?{frame:c}:{},void 0!==l?{keyvals:l}:{},f.length?{groupby:f}:{}))}return null}hash(){return`Impute ${T(this.transform)}`}assemble(){const{impute:e,key:t,keyvals:n,method:i,groupby:r,value:o,frame:a=[null,null]}=this.transform,s=Object.assign({type:"impute",field:e,key:t},n?{keyvals:(u=n,u&&void 0!==u.stop?this.processSequence(n):n)}:{},{method:"value"},r?{groupby:r}:{},{value:null});var u;let c;if(i&&"value"!==i){c=[Object.assign({type:"window",as:[`imputed_${e}_value`],ops:[i],fields:[e],frame:a,ignorePeers:!1},r?{groupby:r}:{}),{type:"formula",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}else{c=[{type:"formula",expr:`datum.${e} === null ? ${o} : datum.${e}`,as:e}]}return[s,...c]}}class If extends Gc{constructor(e={},t={},n=!1){super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}class qf extends ea{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new qf(null,B(this.transform),this.secondary)}static make(e,t,n,i){const r=t.component.data.sources;let o=ud(n.from.data,r);o||(o=new Cl(n.from.data),r.push(o));const a=t.getName(`lookup_${i}`),s=new ta(o,a,"lookup",t.component.data.outputNodeRefCounts);return t.component.data.outputNodes[a]=s,new qf(e,n,s.getSource())}producedFields(){return new Set(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))}hash(){return`Lookup ${T({transform:this.transform,secondary:this.secondary})}`}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{let t=this.transform.as;s(t)||(Lt(zt.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})}}class Wf extends ea{constructor(e,t){super(e),this.transform=t}clone(){return new Wf(null,B(this.transform))}hash(){return`SampleTransform ${T(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Hf(e){let t=0;return function n(i,r){i instanceof Cl&&!i.isGenerator&&!Pr(i.data)&&(e.push(r),r={name:null,source:r.name,transform:[]});if(i instanceof zl&&(i.parent instanceof Cl&&!r.source?(r.format=Object.assign({},r.format||{},{parse:i.assembleFormatParse()}),r.transform.push(...i.assembleTransforms(!0))):r.transform.push(...i.assembleTransforms())),i instanceof Nl)return r.name||(r.name=`data_${t++}`),!r.source||r.transform.length>0?(e.push(r),i.data=r.name):i.data=r.source,void i.assemble().forEach(t=>e.push(t));(i instanceof El||i instanceof Dl||i instanceof Tf||i instanceof _l||i instanceof Hs||i instanceof Uf||i instanceof Pf||i instanceof jl||i instanceof qf||i instanceof Ul||i instanceof Rl||i instanceof Rf||i instanceof zf||i instanceof Mf||i instanceof Wf)&&r.transform.push(i.assemble()),(i instanceof wl||i instanceof Ou||i instanceof Lf||i instanceof Pl)&&r.transform.push(...i.assemble()),i instanceof ta&&(r.source&&0===r.transform.length?i.setSource(r.source):i.parent instanceof ta?i.setSource(r.name):(r.name||(r.name=`data_${t++}`),i.setSource(r.name),1===i.numChildren()&&(e.push(r),r={name:null,source:r.name,transform:[]})));switch(i.numChildren()){case 0:i instanceof ta&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(i.children[0],r);break;default:{r.name||(r.name=`data_${t++}`);let o=r.name;!r.source||r.transform.length>0?e.push(r):o=r.source,i.children.forEach(e=>{n(e,{name:null,source:o,transform:[]})});break}}}}function Gf(e){return"top"===e||"left"===e?"header":"footer"}function Yf(e,t){if(e.channelHasField(t)){const n=e.facet[t],i=Vs("title",null,e.config,t);let r=On(n,e.config,{allowDisabling:!0,includeDefault:void 0===i||!!i});e.child.component.layoutHeaders[t].title&&(r+=" / "+e.child.component.layoutHeaders[t].title,e.child.component.layoutHeaders[t].title=null);const o=Vs("labelOrient",n,e.config,t),a=re((n.header||{}).labels,!0),s=R(["bottom","right"],o)?"footer":"header";e.component.layoutHeaders[t]={title:r,facetFieldDef:n,[s]:"facet"===t?[]:[Vf(e,t,a)]}}}function Vf(e,t,n){const i="row"===t?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function Jf(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:i,resolve:r}=e.component;if(r.axis[t]=Hc(r,t),"shared"===r.axis[t]){const r="x"===t?"column":"row",o=i[r];for(const i of n.component.axes[t]){const t=Gf(i.get("orient"));o[t]=o[t]||[Vf(e,r,!1)];const n=ko(i,"main",e.config,{header:!0});o[t][0].axes.push(n),i.mainExtracted=!0}}}}function Qf(e){Kf(e);const t=e.component.layoutSize;t.setWithExplicit("width",ed(e,"width")),t.setWithExplicit("height",ed(e,"height"))}const Xf=Qf,Zf={vconcat:"width",hconcat:"height"};function Kf(e){for(const t of e.children)t.parseLayoutSize()}function ed(e,t){const n="width"===t?"x":"y",i=e.component.resolve;let r;for(const o of e.children){const e=o.component.layoutSize.getWithExplicit(t),a=i.scale[n];if("independent"===a&&"range-step"===e.value){r=void 0;break}if(r){if("independent"===a&&r.value!==e.value){r=void 0;break}r=Xc(r,e,t,"")}else r=e}if(r){for(const n of e.children)e.renameSignal(n.getName(t),e.getName(t)),n.component.layoutSize.set(t,"merged",!1);return r}return{explicit:!1,value:void 0}}function td(e,t){const n="width"===t?"x":"y",i=e.config,r=e.getScaleComponent(n);if(r){const e=r.get("type"),n=r.get("range");return Wi(e)&&vo(n)?"range-step":i.view[t]}return e.hasProjection?i.view[t]:"width"===t&&"text"===e.mark?i.scale.textXRangeStep:i.scale.rangeStep||Vi.rangeStep}function nd(e,t){return function(e){return e&&!s(e)&&"repeat"in e}(e.field)?e.field.repeat in t?Object.assign({},e,{field:t[e.field.repeat]}):void Lt(zt.noSuchRepeatedValue(e.field.repeat)):e}function id(e,t){if(void 0!==(e=nd(e,t))){if(null===e)return null;if(function(e){return bn(e)&&!!e.sort}(e)&&To(e.sort)){const n=nd(e.sort,t);e=Object.assign({},e,n?{sort:n}:{})}return e}}function rd(e,t){if(!yn(e)){if(gn(e)){const n=id(e.condition,t);if(n)return Object.assign({},e,{condition:n});return ke(e,["condition"])}return e}{const n=id(e,t);if(n)return n;if(mn(e))return{condition:e.condition}}}function od(e,t){const n={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];if(o(r))n[i]=r.map(e=>rd(e,t)).filter(e=>e);else{const e=rd(r,t);void 0!==e&&(n[i]=e)}}return n}function ad(e,t,n){return Cn(t,Object.assign({suffix:`by_${Cn(e)}`},n||{}))}class sd extends _f{constructor(e,t,n,i,r){super(e,"facet",t,n,r,i,e.resolve),this.child=$d(e.spec,this,this.getName("child"),void 0,i,r,!1),this.children=[this.child];const o=function(e,t){return Jt(e)?od(e,t):id(e,t)}(e.facet,i);this.facet=this.initFacet(o)}initFacet(e){return Jt(e)?ei(e,(e,t,n)=>R([Re,Pe],n)?void 0===t.field?(Lt(zt.emptyFieldDef(t,n)),e):(e[n]=Tn(t,n),e):(Lt(zt.incompatibleChannel(n,"facet")),e),{}):{facet:Tn(e,"facet")}}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=cd(this),this.child.parseData()}parseLayoutSize(){Kf(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of ht)Yf(e,t);Jf(e,"x"),Jf(e,"y")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){const e={};for(const t of ht)for(const n of Xs){const i=this.component.layoutHeaders[t],r=i[n],{facetFieldDef:o}=i;if(o){const n=Vs("titleOrient",o,this.config,t);if(R(["right","bottom"],n)){const i=Ys(t,n);e.titleAnchor=e.titleAnchor||{},e.titleAnchor[i]="end"}}if(r&&r[0]){const r="row"===t?"height":"width",o="header"===n?"headerBand":"footerBand";"facet"===t||this.child.component.layoutSize.get(r)||(e[o]=e[o]||{},e[o][t]=.5),i.title&&(e.offset=e.offset||{},e.offset["row"===t?"rowTitle":"columnTitle"]=10)}}return e}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let i="all";return(t||"independent"!==this.component.resolve.scale.x)&&(e||"independent"!==this.component.resolve.scale.y)||(i="none"),Object.assign({},this.getHeaderLayoutMixins(),n?{columns:n}:{},{bounds:"full",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof sd)){return{signal:`length(data('${this.getName("column_domain")}'))`}}}assembleGroup(e){return this.parent&&this.parent instanceof sd?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Cn(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof sd){if(this.child.channelHasField("column")){const i=Cn(this.child.facet.column);e.push(i),t.push("distinct"),n.push(`distinct_${i}`)}}else for(const i of["x","y"]){const r=this.child.component.scales[i];if(r&&!r.merged){const o=r.get("type"),a=r.get("range");if(Wi(o)&&vo(a)){const r=lf(ff(this.child,i));r?(e.push(r),t.push("distinct"),n.push(`distinct_${r}`)):Lt("Unknown field for ${channel}.  Cannot calculate view size.")}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:i}=this.facet,{fields:r,ops:a,as:s}=this.getCardinalityAggregateForChild(),u=[];for(const e of ht){const t=this.facet[e];if(t){u.push(Cn(t));const{bin:c,sort:l}=t;if(Wn(c)&&u.push(Cn(t,{binSuffix:"end"})),To(l)){const{field:e,op:o=_o}=l,u=ad(t,l);n&&i?(r.push(u),a.push("max"),s.push(u)):(r.push(e),a.push(o),s.push(u))}else if(o(l)){const n=Gs(t,e);r.push(n),a.push("max"),s.push(n)}}}const c=!!n&&!!i;return Object.assign({name:e,data:t,groupby:u},c||r.length?{aggregate:Object.assign({},c?{cross:c}:{},r.length?{fields:r,ops:a,as:s}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?To(n.sort)?[ad(n,n.sort,{expr:"datum"})]:o(n.sort)?[Gs(n,e,{expr:"datum"})]:[Cn(n,{expr:"datum"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(To(e)?e.order:!o(e)&&e)||"ascending"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return iu(e.facet,"facet",t);const n={row:["top","bottom"],column:["left","right"]};for(const i of Qs)if(e[i]){const r=Vs("labelOrient",e[i],t,i);if(R(n[i],r))return iu(e[i],i,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=Hf(t);return e.children.forEach(t=>n(t,{source:e.name,name:null,transform:[]})),t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),r=e.assembleGroupStyle();return[Object.assign({name:this.getName("cell"),type:"group"},i?{title:i}:{},r?{style:r}:{},{from:{facet:this.assembleFacet()},sort:{field:M(ht.map(e=>this.facetSortFields(e))),order:M(ht.map(e=>this.facetSortOrder(e)))}},t.length>0?{data:t}:{},n?{encode:{update:n}}:{},e.assembleGroup(function(e,t){if(e.component.selection&&Y(e.component.selection).length){const n=u(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:du("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return t}(this,[])))]}getMapping(){return this.facet}}function ud(e,t){for(const n of t){const t=n.data;if((!e.name||!n.hasName()||e.name===n.dataName)&&!(e.format&&e.format.mesh&&t.format&&t.format.feature))if(Ur(e)&&Ur(t)){if($(e.values,t.values))return n}else if(Pr(e)&&Pr(t)){if(e.url===t.url)return n}else if(Mr(e)&&e.name===n.dataName)return n}return null}function cd(e){let t=function(e,t){if(void 0===e.data&&e.parent)return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main;{if(null===e.data){const e=new Cl([]);return t.push(e),e}const n=ud(e.data,t);if(n)return Lr(e.data)||(n.data.format=L({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new Cl(e.data);return t.push(n),n}}}(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:i}=e.component.data,r=e.parent?e.parent.component.data.ancestorParse.clone():new If,o=e.data;Lr(o)?(Ir(o)?t=new Dl(t,o.sequence):Wr(o)&&(t=new El(t,o.graticule)),r.parseNothing=!0):o&&o.format&&null===o.format.parse&&(r.parseNothing=!0),t=zl.makeExplicit(t,e,r)||t,!Vu(e)||!kf(e)&&!jf(e)||e.parent&&jf(e.parent)||(t=new Mf(t));const a=e.parent&&jf(e.parent);(kf(e)||Of(e))&&a&&(t=wl.makeFromEncoding(t,e)||t),e.transforms.length>0&&(t=function(e,t,n){let i=0;for(const r of t.transforms){let o,a=void 0;if(lo(r))o=e=new Hs(e,r),a="derived";else if(ro(r))o=e=zl.makeImplicitFromFilterTransform(e,r,n)||e,e=new _l(e,t,r.filter);else if(fo(r))o=e=wl.makeFromTransform(e,r,t),a="number";else if(ho(r))a="date",void 0===n.getWithExplicit(r.field).value&&(e=new zl(e,{[r.field]:a}),n.set(r.field,a,!1)),o=e=Ou.makeFromTransform(e,r);else if(mo(r))o=e=jl.makeFromTransform(e,r),a="number",Vu(t)&&(e=new Mf(e));else if(oo(r))o=e=qf.make(e,t,r,i++),a="derived";else if(so(r))o=e=new Ul(e,r),a="number";else if(uo(r))o=e=new Rl(e,r),a="number";else if(go(r))o=e=Pl.makeFromTransform(e,r),a="derived";else if(yo(r))o=e=new Rf(e,r),a="derived";else if(co(r))o=e=new zf(e,r),a="derived";else if(ao(r))e=new Wf(e,r);else{if(!po(r)){Lt(zt.invalidTransformIgnored(r));continue}o=e=Lf.makeFromTransform(e,r),a="derived"}if(o&&void 0!==a)for(const e of o.producedFields())n.set(e,a,!1)}return e}(t,e,r)),t=zl.makeImplicitFromEncoding(t,e,r)||t,kf(e)&&(t=Pf.parseAll(t,e),t=Uf.parseAll(t,e)),(kf(e)||Of(e))&&(a||(t=wl.makeFromEncoding(t,e)||t),t=Ou.makeFromEncoding(t,e)||t,t=Hs.parseAllForSortIndex(t,e));const s=e.getName(Gr),u=new ta(t,s,Gr,i);if(n[s]=u,t=u,kf(e)){const n=jl.makeFromEncoding(t,e);n&&(t=n,Vu(e)&&(t=new Mf(t))),t=Lf.makeFromEncoding(t,e)||t,t=Pl.makeFromEncoding(t,e)||t}kf(e)&&(t=Tf.make(t,e)||t);const c=e.getName(Hr),l=new ta(t,c,Hr,i);n[c]=l,t=l;let f=null;if(Of(e)){const i=e.getName("facet");t=function(e,t){const{row:n,column:i}=t;if(n&&i){let t=null;for(const r of[n,i])if(To(r.sort)){const{field:n,op:i=_o}=r.sort;e=t=new Rl(e,{joinaggregate:[{op:i,field:n,as:ad(r,r.sort,{forAs:!0})}],groupby:[Cn(r)]})}return t}return null}(t=Hs.parseAllForSortIndex(t,e),e.facet)||t,f=new Nl(t,e,i,l.getSource()),n[i]=f,t=f}return Object.assign({},e.component.data,{outputNodes:n,outputNodeRefCounts:i,raw:u,main:l,facetRoot:f,ancestorParse:r})}class ld extends Nf{constructor(e,t,n,i,r,o,a){super(e,t,n,i,r,o,a)}parseData(){this.component.data=cd(this),this.children.forEach(e=>{e.parseData()})}parseSelections(){this.component.selection={};for(const e of this.children)e.parseSelections(),Y(e.component.selection).forEach(t=>{this.component.selection[t]=e.component.selection[t]})}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){return this.children.reduce((e,t)=>[...e,...t.assembleLayoutSignals()],uu(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleMarks(){return this.children.map(e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),i=e.assembleGroupEncodeEntry(!1);return Object.assign({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},i?{encode:{update:i}}:{},e.assembleGroup())})}}class fd extends ld{constructor(e,t,n,i,r){super(e,"concat",t,n,r,i,e.resolve),e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&Lt(zt.CONCAT_CANNOT_SHARE_AXIS),this.concatType=sr(e)?"vconcat":ur(e)?"hconcat":"concat",this.children=this.getChildren(e).map((e,t)=>$d(e,this,this.getName("concat_"+t),void 0,i,r,!1))}getChildren(e){return sr(e)?e.vconcat:ur(e)?e.hconcat:e.concat}parseLayoutSize(){!function(e){Kf(e);const t=e.component.layoutSize,n=Zf[e.concatType];n&&t.setWithExplicit(n,ed(e,n))}(this)}parseAxisGroup(){return null}assembleDefaultLayout(){return Object.assign({},"vconcat"===this.concatType?{columns:1}:{},{bounds:"full",align:"each"})}}class dd extends Gc{constructor(e={},t={},n=!1){super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new dd(B(this.explicit),B(this.implicit),this.mainExtracted)}hasAxisPart(e){return"axis"===e||("grid"===e||"title"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}}const pd={bottom:"top",top:"bottom",left:"right",right:"left"};function hd(e,t){if(!e)return t.map(e=>e.clone());{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t[i];if(!!n!=!!r)return;if(n&&r){const t=n.getWithExplicit("orient"),o=r.getWithExplicit("orient");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[i]=md(n,r)}}}return e}function md(e,t){for(const n of So){const i=Xc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(e,t)=>{switch(n){case"title":return Ko(e,t);case"gridScale":return{explicit:e.explicit,value:re(e.value,t.value)}}return Qc(e,t,n,"axis")});e.setWithExplicit(n,i)}return e}function gd(e,t){const n="x"===t?"x2":"y2",i=e.fieldDef(t),r=e.fieldDef(n),o=i?i.title:void 0,a=r?r.title:void 0;return o&&a?Zo(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}function yd(e,t){const n=t.axis(e),i=new dd;So.forEach(r=>{const o=function(e,t,n,i){const r=i.fieldDef(n),o=function(e,t,n,i){if(void 0!==t.labelAngle)return ae(t.labelAngle);{const t=Ro("labelAngle",e.config,n,Mo(n),e.getScaleComponent(n).get("type"));return void 0!==t?ae(t):n===Me&&R([dn,ln],i.type)?270:void 0}}(i,t,n,r),a=re(t.orient,Mo(n));switch(e){case"scale":return i.scaleName(n);case"gridScale":return function(e,t){const n="x"===t?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}(i,n);case"format":if(Un(r))return;return Ho(r,t.format,i.config);case"formatType":if(Un(r))return;return t.formatType;case"grid":if(Hn(i.fieldDef(n).bin))return!1;{const e=i.getScaleComponent(n).get("type");return re(t.grid,function(e,t){return!Wi(e)&&!Wn(t.bin)}(e,r))}case"labelAlign":return re(t.labelAlign,Uo(o,a));case"labelAngle":return o;case"labelBaseline":return re(t.labelBaseline,Po(o,a));case"labelFlush":return re(t.labelFlush,function(e,t){if("x"===t&&R(["quantitative","temporal"],e.type))return!0}(r,n));case"labelOverlap":{const e=i.getScaleComponent(n).get("type");return re(t.labelOverlap,function(e,t){if("nominal"!==e.type)return"log"!==t||"greedy"}(r,e))}case"orient":return a;case"tickCount":{const e=i.getScaleComponent(n).get("type"),o="x"===n?"width":"y"===n?"height":void 0,a=o?i.getSizeSignalRef(o):void 0;return re(t.tickCount,function({fieldDef:e,scaleType:t,size:n}){if(!Wi(t)&&"log"!==t&&!R(["month","hours","day","quarter"],e.timeUnit))return Wn(e.bin)?{signal:`ceil(${n.signal}/10)`}:{signal:`ceil(${n.signal}/40)`}}({fieldDef:r,scaleType:e,size:a}))}case"title":{const e="x"===n?"x2":"y2",o=i.fieldDef(e);return re(t.title,gd(i,n),Xo([hn(r)],o?[hn(o)]:[]))}case"values":return function(e,t,n){const i=e.values;if(i)return Ln(n,i)}(t,0,r)}return s=e,Eo[s]?t[e]:void 0;var s}(r,n,e,t);if(void 0!==o){const a=function(e,t,n,i,r){switch(t){case"titleAngle":case"labelAngle":return e===ae(n[t]);case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===gd(i,r))return!0}return e===n[t]}(o,r,n,t,e),s=Ro(r,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));a||void 0===s?i.set(r,o,a):R(["grid","orient"],r)&&s&&i.set(r,s,!1)}});const r=n.encoding||{},o=wo.reduce((n,o)=>{if(!i.hasAxisPart(o))return n;const a=qc(r[o]||{},t),s="labels"===o?function(e,t,n){const i=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),r=e.axis(t),o=e.config;let a={};if(Un(i)){const n=e.getScaleComponent(t).get("type")===Ni.UTC,s=Jo("datum.value",i.timeUnit,r.format,o.axis.shortTimeLabels,null,n);s&&(a.text={signal:s})}return a=Object.assign({},a,n),0===Y(a).length?void 0:a}(t,e,a):a;return void 0!==s&&Y(s).length>0&&(n[o]={update:s}),n},{});return Y(o).length>0&&i.set("encode",o,!!n.encoding||void 0!==n.labelAngle),i}function bd(e,t,n){const i=Ae(e)?Object.assign({},e):{type:e},r=i.orient||Io("orient",i,n);return i.orient=function(e,t,n){switch(e){case le:case ge:case ye:case pe:case fe:return}const{x:i,y:r,x2:o,y2:a}=t;switch(e){case ue:if(yn(i)&&Hn(i.bin))return"vertical";if(yn(r)&&Hn(r.bin))return"horizontal";if(a||o){if(n)return n;if(!o&&yn(i)&&i.type===cn&&!Wn(i.bin))return"horizontal";if(!a&&yn(r)&&r.type===cn&&!Wn(r.bin))return"vertical"}case de:if(o&&a)return;case se:if(a)return yn(r)&&Hn(r.bin)?"horizontal":"vertical";if(o)return yn(i)&&Hn(i.bin)?"vertical":"horizontal";if(e===de){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case ce:case he:{const i=yn(t.x)&&Fn(t.x),r=yn(t.y)&&Fn(t.y);if(i&&!r)return"tick"!==e?"horizontal":"vertical";if(!i&&r)return"tick"!==e?"vertical":"horizontal";if(i&&r){const i=t.x,r=t.y,o=i.type===fn,a=r.type===fn;return o&&!a?"tick"!==e?"vertical":"horizontal":!o&&a?"tick"!==e?"horizontal":"vertical":!i.aggregate&&r.aggregate?"tick"!==e?"vertical":"horizontal":i.aggregate&&!r.aggregate?"tick"!==e?"horizontal":"vertical":n||"vertical"}return n||void 0}}return"vertical"}(i.type,t,r),void 0!==r&&r!==i.orient&&Lt(zt.orientOverridden(i.orient,r)),void 0===re(i.opacity,Io("opacity",i,n))&&(i.opacity=function(e,t){if(R([le,he,ge,ye],e)&&!Jn(t))return.7;return}(i.type,t)),void 0===i.filled&&(i.filled=function(e,t){const n=Io("filled",e,t),i=e.type;return re(n,i!==le&&i!==ce&&i!==de)}(i,n)),void 0===(i.cursor||Io("cursor",i,n))&&(i.cursor=function(e,t,n){if(t.href||e.href||Io("href",e,n))return"pointer";return e.cursor}(i,t,n)),i}function vd(e,t,n){const{config:i,encoding:r,markDef:o}=e,a="x"===t?"x2":"y2",s="x"===t?"width":"height",u=r[t],c=r[a],l=e.getScaleComponent(t),f=l?l.get("type"):void 0,d=e.scaleName(t),p=o.orient,h=r[s]||r.size||o[s]||o.size||Io("size",o,i,{vgChannel:s}),m="x"===t?"vertical"===p:"horizontal"===p;return!yn(u)||!Wn(u.bin)&&!Hn(u.bin)||h||Wi(f)?(yn(u)&&Wi(f)||m)&&!c?yn(u)&&f===Ni.BAND?function(e,t,n,i){const r=n.scaleName(t),o="x"===t?"width":"height";if(n.encoding.size||void 0!==n.markDef.size||i&&void 0!==i.value)if(n.markDef.orient){const a={[t+"c"]:xc(e,r,{},{band:.5})};if(_n(n.encoding.size))return Object.assign({},a,zc("size",n,{vgChannel:o}));if(xn(n.encoding.size))return Object.assign({},a,zc("size",n,{vgChannel:o}));if(void 0!==n.markDef.size)return Object.assign({},a,{[o]:{value:n.markDef.size}});if(i&&void 0!==i.value)return Object.assign({},a,{[o]:i})}else Lt(zt.cannotApplySizeToNonOrientedMark(n.markDef.type));return{[t]:xc(e,r,{binSuffix:"range"},{}),[o]:i||Ac(r)}}(u,t,e,xd(n,o,s,d,l,i)):function(e,t,n,i){const r="x"===e?"xc":"yc",o="x"===e?"width":"height";return Object.assign({},Mc(e,t,n,r),zc("size",t,{defaultRef:i,vgChannel:o}))}(t,e,Sc(e[s]),xd(n,o,s,d,l,i)):Object.assign({},Mc(t,e,"zeroOrMax"),Lc(e,"zeroOrMin",a)):function({fieldDef:e,fieldDef2:t,channel:n,scaleName:i,mark:r,spacing:o=0,reverse:a}){const s={x:a?o:0,x2:a?0:o,y:a?0:o,y2:a?o:0},u=n===Me?Ie:qe;return Wn(e.bin)?{[u]:vc({channel:n,fieldDef:e,scaleName:i,mark:r,side:"start",offset:s[`${n}2`]}),[n]:vc({channel:n,fieldDef:e,scaleName:i,mark:r,side:"end",offset:s[n]})}:Hn(e.bin)&&yn(t)?{[u]:xc(e,i,{},{offset:s[`${n}2`]}),[n]:xc(t,i,{},{offset:s[n]})}:void Lt(zt.channelRequiredForBinned(u))}({fieldDef:u,fieldDef2:c,channel:t,mark:n,scaleName:d,spacing:re(o.binSpacing,i[n].binSpacing),reverse:l.get("reverse")})}function xd(e,t,n,i,r,o){const a=re(t[n],t.size,Io("size",t,o,{vgChannel:n}));if(void 0!==a)return{value:a};if(r){const t=r.get("type");if("point"!==t&&"band"!==t)return{value:o[e].continuousBandSize};if(void 0!==o[e].discreteBandSize)return{value:o[e].discreteBandSize};if(t!==Ni.POINT)return Ac(i);{const e=r.get("range");if(vo(e)&&v(e.step))return{value:e.step-1};Lt(zt.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}}return{value:re(o[e].discreteBandSize,o.scale.rangeStep?o.scale.rangeStep-1:void 0,20)}}function Ad(e,t){const{config:n,width:i,height:r}=e;return Object.assign({},Bc(e,{size:"include",orient:"ignore"}),Mc("x",e,Sc(i)),Mc("y",e,Sc(r)),zc("size",e),function(e,t,n){if(n)return{shape:{value:n}};return zc("shape",e)}(e,0,t))}function wd(e){const{config:t,markDef:n}=e,{orient:i}=n,r="horizontal"===i?"width":"height",o=e.getScaleComponent("horizontal"===i?"x":"y"),a=re(n[r],n.size,Io("size",n,t,{vgChannel:r}),t.tick.bandSize);if(void 0!==a)return a;{const e=o?o.get("range"):void 0,n=e&&vo(e)?e.step:t.scale.rangeStep;if("number"!=typeof n)throw new Error("Function does not handle non-numeric rangeStep");return 3*n/4}}const Cd={area:{vgMark:"area",encodeEntry:e=>Object.assign({},Bc(e,{size:"ignore",orient:"include"}),Mc("x",e,"zeroOrMin"),Mc("y",e,"zeroOrMin"),Lc(e,"zeroOrMin","horizontal"===e.markDef.orient?"x2":"y2"),Tc(e))},bar:{vgMark:"rect",encodeEntry:e=>Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),vd(e,"x","bar"),vd(e,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:e=>Ad(e,"circle")},geoshape:{vgMark:"shape",encodeEntry:e=>Object.assign({},Bc(e,{size:"ignore",orient:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&yn(n)&&n.type===pn?{field:Cn(n,{expr:"datum"})}:{})]}},line:{vgMark:"line",encodeEntry:e=>{const{width:t,height:n}=e;return Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),Mc("x",e,Sc(t)),Mc("y",e,Sc(n)),zc("size",e,{vgChannel:"strokeWidth"}),Tc(e))}},point:{vgMark:"symbol",encodeEntry:e=>Ad(e)},rect:{vgMark:"rect",encodeEntry:e=>Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),vd(e,"x","rect"),vd(e,"y","rect"))},rule:{vgMark:"rule",encodeEntry:e=>{const{markDef:t,width:n,height:i}=e,r=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),Mc("x",e,"horizontal"===r?"zeroOrMin":Sc(n)),Mc("y",e,"vertical"===r?"zeroOrMin":Sc(i)),"vertical"!==r?Lc(e,"zeroOrMax","x2"):{},"horizontal"!==r?Lc(e,"zeroOrMax","y2"):{},zc("size",e,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:e=>Ad(e,"square")},text:{vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n,width:i,height:r}=e;return Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),Mc("x",e,Sc(i)),Mc("y",e,Sc(r)),Uc(e),zc("size",e,{vgChannel:"fontSize"}),Nc("align",function(e,t,n){if(void 0===(e.align||Io("align",e,n)))return"center";return}(e.markDef,0,t)),Nc("baseline",function(e,t,n){if(void 0===(e.baseline||Io("baseline",e,n)))return"middle";return}(e.markDef,0,t)))}},tick:{vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n,width:i,height:r}=e,o=n.orient,a="horizontal"===o?"width":"height",s="horizontal"===o?"height":"width";return Object.assign({},Bc(e,{size:"ignore",orient:"ignore"}),Mc("x",e,Sc(i),"xc"),Mc("y",e,Sc(r),"yc"),zc("size",e,{defaultValue:wd(e),vgChannel:a}),{[s]:{value:re(n.thickness,t.tick.thickness)}})}},trail:{vgMark:"trail",encodeEntry:e=>{const{width:t,height:n}=e;return Object.assign({},Bc(e,{size:"include",orient:"ignore"}),Mc("x",e,Sc(t)),Mc("y",e,Sc(n)),zc("size",e),Tc(e))}}};function Fd(e){return R([ce,se,me],e.mark)?function(e){const t=ti(e.mark,e.encoding),n=Dd(e,{fromPrefix:t.length>0?Ed:""});return t.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Ed+e.requestDataName(Hr),data:e.requestDataName(Hr),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:n}]:n}(e):Dd(e)}const Ed="faceted_path_";function Dd(e,t={fromPrefix:""}){const n=e.mark,i=re(e.markDef.clip,function(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),r=Lo(e.markDef),a=e.encoding.key,s=function(e){const{encoding:t,stack:n,mark:i,markDef:r,config:a}=e,s=t.order;if(!(!o(s)&&xn(s)&&z(s.value)||!s&&z(r.order)||z(Io("order",r,a)))){if((o(s)||yn(s))&&!n)return Qo(s,{expr:"datum"});if(ve(i)){const n="horizontal"===r.orient?"y":"x",i=t[n];if(yn(i)){const t=i.sort;return o(t)?{field:Cn(i,{prefix:n,suffix:"sort_index",expr:"datum"})}:To(t)?{field:Cn({aggregate:Jn(e.encoding)?t.op:void 0,field:t.field},{expr:"datum"})}:{field:Cn(i,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"})}}}}}(e),u=Cd[n].postEncodingTransform?Cd[n].postEncodingTransform(e):null;return[Object.assign({name:e.getName("marks"),type:Cd[n].vgMark},i?{clip:!0}:{},r?{style:r}:{},a?{key:{field:a.field}}:{},s?{sort:s}:{},{from:{data:t.fromPrefix+e.requestDataName(Hr)},encode:{update:Cd[n].encodeEntry(e)}},u?{transform:u}:{})]}class Sd extends _f{constructor(e,t,n,i={},r,o,a){super(e,"unit",t,n,o,r,void 0,e.view),this.fit=a,this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[],this.initSize(Object.assign({},i,e.width?{width:e.width}:{},e.height?{height:e.height}:{}));const s=Ae(e.mark)?e.mark.type:e.mark,u=this.encoding=Xn(function(e,t){return od(e,t)}(e.encoding||{},r),s);this.markDef=bd(e.mark,u,o),this.stack=Fr(s,u,this.config.stack),this.specifiedScales=this.initScales(s,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegend(u),this.specifiedProjection=e.projection,this.selection=e.selection}get hasProjection(){const{encoding:e}=this,t=this.mark===be,n=e&&lt.some(t=>yn(e[t]));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return $t.reduce((e,n)=>{let i,r;const o=t[n];return yn(o)?(i=o,r=o.scale):gn(o)&&(i=o.condition,r=o.condition.scale),i&&(e[n]=r||{}),e},{})}initAxes(e){return[Me,Le].reduce((t,n)=>{const i=e[n];if(yn(i)||n===Me&&yn(e.x2)||n===Le&&yn(e.y2)){const e=yn(i)?i.axis:null;null!==e&&(t[n]=Object.assign({},e))}return t},{})}initLegend(e){return kt.reduce((t,n)=>{const i=e[n];if(i){const e=yn(i)?i.legend:gn(i)?i.condition.legend:null;null!==e&&!1!==e&&function(e){switch(e){case Ve:case Je:case Qe:case Ze:case Xe:case Ke:case nt:return!0;case et:case tt:return!1}}(n)&&(t[n]=Object.assign({},e))}return t},{})}parseData(){this.component.data=cd(this)}parseLayoutSize(){!function(e){const t=e.component.layoutSize;if(!t.explicit.width){const n=td(e,"width");t.set("width",n,!1)}if(!t.explicit.height){const n=td(e,"height");t.set("height",n,!1)}}(this)}parseSelections(){this.component.selection=function(e,t){const n={},i=e.config.selection;t&&(t=B(t));for(let r in t){if(!t.hasOwnProperty(r))continue;const o=t[r],a=ke(i[o.type],["fields","encodings"]);for(const e in a)"encodings"===e&&o.fields||"fields"===e&&o.encodings||("mark"===e&&(o[e]=Object.assign({},a[e],o[e])),void 0!==o[e]&&!0!==o[e]||(o[e]=a[e]||o[e]));const u=n[r=Q(r)]=Object.assign({},o,{name:r,events:s(o.on)?du(o.on,"scope"):o.on});uc(u,t=>{t.parse&&t.parse(e,o,u)})}return n}(this,this.selection)}parseMarkGroup(){this.component.mark=Fd(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,Dt.reduce((t,n)=>(e.component.scales[n]&&e.axis(n)&&(t[n]=[yd(n,e)]),t),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){let n=!1;Gu(e,(i,r)=>{const o=i.name,a=u(o+Mu);t.filter(e=>e.name===o).length||t.push({name:i.name,update:`${Wu}(${a}`+("global"===i.resolve?")":`, ${u(i.resolve)})`)}),n=!0,r.topLevelSignals&&(t=r.topLevelSignals(e,i,t)),uc(i,n=>{n.topLevelSignals&&(t=n.topLevelSignals(e,i,t))})}),n&&(t.filter(e=>"unit"===e.name).length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}));return t}(this,e)}assembleSignals(){return[...Oo(this),...(e=this,t=[],Gu(e,(n,i)=>{const r=n.name;let o=i.modifyExpr(e,n);t.push(...i.signals(e,n)),uc(n,i=>{i.signals&&(t=i.signals(e,n,t)),i.modifyExpr&&(o=i.modifyExpr(e,n,o))}),t.push({name:r+Iu,update:`modify(${u(n.name+Mu)}, ${o})`})}),t)];var e,t}assembleSelectionData(e){return lc(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return uu(this)}assembleMarks(){let e=this.component.mark||[];return this.parent&&jf(this.parent)||(e=fc(this,e)),e.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return Vn(this.encoding,e)}fieldDef(e){return _n(this.encoding[e])}}class kd extends Nf{constructor(e,t,n,i,r,o,a){super(e,"layer",t,n,o,r,e.resolve,e.view);const s=Object.assign({},i,e.width?{width:e.width}:{},e.height?{height:e.height}:{});this.initSize(s),this.children=e.layer.map((e,t)=>{if(vr(e))return new kd(e,this,this.getName("layer_"+t),s,r,o,a);if(De(e))return new Sd(e,this,this.getName("layer_"+t),s,r,o,a);throw new Error(zt.INVALID_SPEC)})}parseData(){this.component.data=cd(this);for(const e of this.children)e.parseData()}parseLayoutSize(){Qf(this)}parseSelections(){this.component.selection={};for(const e of this.children)e.parseSelections(),Y(e.component.selection).forEach(t=>{this.component.selection[t]=e.component.selection[t]})}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){const{axes:t,resolve:n}=e.component,i={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const r of Y(i.component.axes))n.axis[r]=Hc(e.component.resolve,r),"shared"===n.axis[r]&&(t[r]=hd(t[r],i.component.axes[r]),t[r]||(n.axis[r]="independent",delete t[r]))}for(const r of[Me,Le]){for(const o of e.children)if(o.component.axes[r]){if("independent"===n.axis[r]){t[r]=(t[r]||[]).concat(o.component.axes[r]);for(const e of o.component.axes[r]){const{value:t,explicit:n}=e.getWithExplicit("orient");if(i[t]>0&&!n){const n=pd[t];i[t]>i[n]&&e.set("orient",n,!1)}i[t]++}}delete o.component.axes[r]}if("independent"===n.axis[r]&&t[r]&&t[r].length>1)for(const e of t[r])e.get("grid")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleSignals()),Oo(this))}assembleLayoutSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleLayoutSignals()),uu(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle())return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)kf(n)&&(t=fc(n,t));return t}(this,M(this.children.map(e=>e.assembleMarks())))}assembleLegends(){return this.children.reduce((e,t)=>e.concat(t.assembleLegends()),pl(this))}}class Od extends ld{constructor(e,t,n,i,r){super(e,"repeat",t,n,r,i,e.resolve),e.resolve&&e.resolve.axis&&("shared"===e.resolve.axis.x||"shared"===e.resolve.axis.y)&&Lt(zt.REPEAT_CANNOT_SHARE_AXIS),this.repeat=e.repeat,this.children=this._initChildren(e,this.repeat,i,r)}_initChildren(e,t,n,i){const r=[],a=!o(t)&&t.row||[n?n.row:null],s=!o(t)&&t.column||[n?n.column:null],u=o(t)&&t||[n?n.repeat:null];for(const t of u)for(const n of a)for(const o of s){const a=(t?`__repeat_repeat_${t}`:"")+(n?`__repeat_row_${n}`:"")+(o?`__repeat_column_${o}`:""),s={repeat:t,row:n,column:o};r.push($d(e.spec,this,this.getName("child"+a),void 0,s,i,!1))}return r}parseLayoutSize(){Xf(this)}assembleDefaultLayout(){const{repeat:e}=this,t=o(e)?void 0:e.column?e.column.length:1;return Object.assign({},t?{columns:t}:{},{bounds:"full",align:"all"})}}function $d(e,t,n,i,r,o,a){if(Qt(e))return new sd(e,t,n,r,o);if(vr(e))return new kd(e,t,n,i,r,o,a);if(De(e))return new Sd(e,t,n,i,r,o,a);if(cr(e))return new Od(e,t,n,r,o);if(function(e){return sr(e)||ur(e)||ar(e)}(e))return new fd(e,t,n,r,o);throw new Error(zt.INVALID_SPEC)}const Bd=new class extends xr{mapUnit(e,{config:t}){if(e.encoding){const{encoding:n,transform:i}=e,{bins:r,timeUnits:o,aggregate:a,groupby:s,encoding:u}=Qn(n,t),c=[...i||[],...r,...o,...a.length?[{aggregate:a,groupby:s}]:[]];return Object.assign({},e,c.length>0?{transform:c}:{},{encoding:u})}return e}};const jd=t;e.compile=function(e,t={}){var n;t.logger&&(n=t.logger,Mt=n),t.fieldTitle&&kn(t.fieldTitle);try{const n=pr(L({},t.config,e.config)),i=Nr(e,n),r=function(e,t,n=!0){const i=Object.assign({type:"pad"},Tr(t),Tr(e));return"fit"===i.type&&(n||(Lt(zt.FIT_NON_SINGLE),i.type="pad")),i}(e.autosize,n.autosize,vr(i)||De(i)),o=$d(i,null,"",void 0,void 0,n,"fit"===r.type);return o.parse(),function(e,t){Fl(e.sources);let n=0,i=0;for(let i=0;i<Zl&&nf(e,t);i++)n++;e.sources.map(Hl);for(let n=0;n<Zl&&nf(e,t);n++)i++;Fl(e.sources),Math.max(n,i)===Zl&&Lt(`Maximum optimization runs(${Zl}) reached.`)}(o.component.data,o),function(e,t,n={},i){const r=e.config?yr(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){const n=[],i=Hf(n);let r=0;e.sources.forEach(e=>{e.hasName()||(e.dataName=`source_${r++}`);const t=e.assemble();i(e,t)}),n.forEach(e=>{0===e.transform.length&&delete e.transform});let o=0;for(const[e,t]of n.entries())0!==(t.transform||[]).length||t.source||n.splice(o++,0,n.splice(e,1)[0]);for(const t of n)for(const n of t.transform||[])"lookup"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of n)e.name in t&&(e.values=t[e.name]);return n}(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),u=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let l=e.assembleLayoutSignals();return l=l.filter(e=>"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)),{spec:Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{},t,s?{title:s}:{},u?{style:u}:{},c?{encode:{update:c}}:{},{data:o},a.length>0?{projections:a}:{},e.assembleGroup([...l,...e.assembleSelectionTopLevelSignals([])]),r?{config:r}:{},i?{usermeta:i}:{})}}(o,function(e,t,n){return Object.assign({autosize:1===Y(n).length&&n.type?n.type:n},Rr(t),Rr(e))}(e,n,r),e.datasets,e.usermeta)}finally{t.logger&&(Mt=Rt),t.fieldTitle&&kn(Dn)}},e.extractTransforms=function(e,t){return Bd.map(e,{config:t})},e.normalize=Nr,e.version=jd,Object.defineProperty(e,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vega"),require("vega-lite")):"function"==typeof define&&define.amd?define(["vega","vega-lite"],t):(e=e||self).vegaEmbed=t(e.vega,e.vl)}(this,function(e,t){"use strict";var n="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.hasOwnProperty(t)?{space:r[t],local:e}:e}function o(e){var t=i(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===n&&t.documentElement.namespaceURI===n?t.createElement(e):t.createElementNS(r,e)}})(t)}function a(){}function s(e){return null==e?a:function(){return this.querySelector(e)}}function l(){return[]}function c(e){return new Array(e.length)}function u(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}u.prototype={constructor:u,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var f="$";function p(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new u(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function h(e,t,n,r,i,o,a){var s,l,c,p={},h=t.length,d=o.length,g=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(g[s]=c=f+a.call(l,l.__data__,s,t),c in p?i[s]=l:p[c]=l);for(s=0;s<d;++s)(l=p[c=f+a.call(e,o[s],s,o)])?(r[s]=l,l.__data__=o[s],p[c]=null):n[s]=new u(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&p[g[s]]===l&&(i[s]=l)}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function g(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function m(e){return e.trim().split(/^|\s+/)}function v(e){return e.classList||new b(e)}function b(e){this._node=e,this._names=m(e.getAttribute("class")||"")}function y(e,t){for(var n=v(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function w(e,t){for(var n=v(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function x(){this.textContent=""}function _(){this.innerHTML=""}function S(){this.nextSibling&&this.parentNode.appendChild(this)}function k(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C(){return null}function E(){var e=this.parentNode;e&&e.removeChild(this)}function A(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function j(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}b.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var O={},z=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(O={mouseenter:"mouseover",mouseleave:"mouseout"}));function N(e,t,n){return e=P(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function P(e,t,n){return function(r){var i=z;z=r;try{e.call(this,this.__data__,t,n)}finally{z=i}}}function T(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function $(e,t,n){var r=O.hasOwnProperty(e.type)?N:P;return function(i,o,a){var s,l=this.__on,c=r(t,o,a);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function F(e,t,n){var r=g(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}var I=[null];function W(e,t){this._groups=e,this._parents=t}function L(){return new W([[document.documentElement]],I)}W.prototype=L.prototype={constructor:W,select:function(e){"function"!=typeof e&&(e=s(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,l=t[i],c=l.length,u=r[i]=new Array(c),f=0;f<c;++f)(o=l[f])&&(a=e.call(o,o.__data__,f,l))&&("__data__"in o&&(a.__data__=o.__data__),u[f]=a);return new W(r,this._parents)},selectAll:function(e){var t;"function"!=typeof e&&(e=null==(t=e)?l:function(){return this.querySelectorAll(t)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,c=n[a],u=c.length,f=0;f<u;++f)(s=c[f])&&(i.push(e.call(s,s.__data__,f,c)),o.push(s));return new W(i,o)},filter:function(e){var t;"function"!=typeof e&&(t=e,e=function(){return this.matches(t)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],l=s.length,c=i[o]=[],u=0;u<l;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&c.push(a);return new W(i,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each(function(e){m[++u]=e}),m;var n,r=t?h:p,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],g=d.length,m=e.call(f,f&&f.__data__,u,i),v=m.length,b=l[u]=new Array(v),y=s[u]=new Array(v);r(f,d,b,y,c[u]=new Array(g),m,t);for(var w,x,_=0,S=0;_<v;++_)if(w=b[_]){for(_>=S&&(S=_+1);!(x=y[S])&&++S<v;);w._next=x||null}}return(s=new W(s,i))._enter=l,s._exit=c,s},enter:function(){return new W(this._enter||this._groups.map(c),this._parents)},exit:function(){return new W(this._exit||this._groups.map(c),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],f=c.length,p=a[s]=new Array(f),h=0;h<f;++h)(l=c[h]||u[h])&&(p[h]=l);for(;s<r;++s)a[s]=t[s];return new W(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=d);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new W(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=i(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):function(e,t){return e.style.getPropertyValue(t)||g(e).getComputedStyle(e,null).getPropertyValue(t)}(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=m(e+"");if(arguments.length<2){for(var r=v(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?y:w)(this,e)}}:t?function(e){return function(){y(this,e)}}:function(e){return function(){w(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?x:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?_:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(S)},lower:function(){return this.each(k)},append:function(e){var t="function"==typeof e?e:o(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:o(e),r=null==t?C:"function"==typeof t?t:s(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(E)},clone:function(e){return this.select(e?j:A)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?$:T,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return F(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return F(this,e,t)}})(e,t))}};var B="4.0.0";function D(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})}var R=/("(?:[^\\"]|\\.)*")|[:,]/g,V=function(e,t){var n,r,i;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===n?1/0:void 0===t.maxLength?80:t.maxLength,i=t.replacer,function e(t,o,a){var s,l,c,u,f,p,h,d,g,m,v,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(v=JSON.stringify(t,i)))return v;if(h=r-o.length-a,v.length<=h&&(g=v.replace(R,function(e,t){return t||e+" "})).length<=h)return g;if(null!=i&&(t=JSON.parse(v),i=void 0),"object"==typeof t&&null!==t){if(d=o+n,c=[],l=0,Array.isArray(t))for(m="[",s="]",h=t.length;l<h;l++)c.push(e(t[l],d,l===h-1?0:1)||"null");else for(m="{",s="}",h=(p=Object.keys(t)).length;l<h;l++)u=p[l],f=JSON.stringify(u)+": ",void 0!==(b=e(t[u],d,f.length+(l===h-1?0:1)))&&c.push(f+b);if(c.length>0)return[m,n+c.join(",\n"+d),s].join("\n"+o)}return v}(e,"",0)};function M(e,t){return e(t={exports:{}},t.exports),t.exports}var q,X=M(function(e,t){var n;t=e.exports=J,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],a=t.src=[],s=0,l=s++;a[l]="0|[1-9]\\d*";var c=s++;a[c]="[0-9]+";var u=s++;a[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=s++;a[f]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=s++;a[p]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var h=s++;a[h]="(?:"+a[l]+"|"+a[u]+")";var d=s++;a[d]="(?:"+a[c]+"|"+a[u]+")";var g=s++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var m=s++;a[m]="(?:-?("+a[d]+"(?:\\."+a[d]+")*))";var v=s++;a[v]="[0-9A-Za-z-]+";var b=s++;a[b]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var y=s++,w="v?"+a[f]+a[g]+"?"+a[b]+"?";a[y]="^"+w+"$";var x="[v=\\s]*"+a[p]+a[m]+"?"+a[b]+"?",_=s++;a[_]="^"+x+"$";var S=s++;a[S]="((?:<|>)?=?)";var k=s++;a[k]=a[c]+"|x|X|\\*";var C=s++;a[C]=a[l]+"|x|X|\\*";var E=s++;a[E]="[v=\\s]*("+a[C]+")(?:\\.("+a[C]+")(?:\\.("+a[C]+")(?:"+a[g]+")?"+a[b]+"?)?)?";var A=s++;a[A]="[v=\\s]*("+a[k]+")(?:\\.("+a[k]+")(?:\\.("+a[k]+")(?:"+a[m]+")?"+a[b]+"?)?)?";var j=s++;a[j]="^"+a[S]+"\\s*"+a[E]+"$";var O=s++;a[O]="^"+a[S]+"\\s*"+a[A]+"$";var z=s++;a[z]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=s++;a[N]="(?:~>?)";var P=s++;a[P]="(\\s*)"+a[N]+"\\s+",o[P]=new RegExp(a[P],"g");var T=s++;a[T]="^"+a[N]+a[E]+"$";var $=s++;a[$]="^"+a[N]+a[A]+"$";var F=s++;a[F]="(?:\\^)";var I=s++;a[I]="(\\s*)"+a[F]+"\\s+",o[I]=new RegExp(a[I],"g");var W=s++;a[W]="^"+a[F]+a[E]+"$";var L=s++;a[L]="^"+a[F]+a[A]+"$";var B=s++;a[B]="^"+a[S]+"\\s*("+x+")$|^$";var D=s++;a[D]="^"+a[S]+"\\s*("+w+")$|^$";var R=s++;a[R]="(\\s*)"+a[S]+"\\s*("+x+"|"+a[E]+")",o[R]=new RegExp(a[R],"g");var V=s++;a[V]="^\\s*("+a[E]+")\\s+-\\s+("+a[E]+")\\s*$";var M=s++;a[M]="^\\s*("+a[A]+")\\s+-\\s+("+a[A]+")\\s*$";var q=s++;a[q]="(<|>)?=?\\s*\\*";for(var X=0;X<35;X++)n(X,a[X]),o[X]||(o[X]=new RegExp(a[X]));function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[_]:o[y]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof J){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var a=e.trim().match(t.loose?o[_]:o[y]);if(!a)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var n=H(e,t);return n?n.version:null},t.clean=function(e,t){var n=H(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof J||(e=new J(e,this.options)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.options)),G(this.major,e.major)||G(this.minor,e.minor)||G(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return G(r,i)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new J(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=H(e),r=H(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=G;var U=/^[0-9]+$/;function G(e,t){var n=U.test(e),r=U.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function Y(e,t,n){return new J(e,n).compare(new J(t,n))}function Z(e,t,n){return Y(e,t,n)>0}function K(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function ee(e,t,n){return 0!==Y(e,t,n)}function te(e,t,n){return Y(e,t,n)>=0}function ne(e,t,n){return Y(e,t,n)<=0}function re(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Q(e,n,r);break;case"!=":i=ee(e,n,r);break;case">":i=Z(e,n,r);break;case">=":i=te(e,n,r);break;case"<":i=K(e,n,r);break;case"<=":i=ne(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return G(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Z,t.lt=K,t.eq=Q,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=ie;var oe={};function ae(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof ie)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function le(e,t,n,r,i,o,a,s,l,c,u,f,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(s=se(l)?"":se(c)?"<"+(+l+1)+".0.0":se(u)?"<"+l+"."+(+c+1)+".0":f?"<="+l+"."+c+"."+u+"-"+f:"<="+s)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==oe&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function fe(e,t,n,r){var i,o,a,s,l;switch(e=new J(e,r),t=new ae(t,r),n){case">":i=Z,o=ne,a=K,s=">",l=">=";break;case"<":i=K,o=te,a=Z,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],f=null,p=null;if(u.forEach(function(e){e.semver===oe&&(e=new ie(">=0.0.0")),f=f||e,p=p||e,i(e.semver,f.semver,r)?f=e:a(e.semver,p.semver,r)&&(p=e)}),f.operator===s||f.operator===l)return!1;if((!p.operator||p.operator===s)&&o(e,p.semver))return!1;if(p.operator===l&&a(e,p.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?o[B]:o[D],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new J(n[2],this.options.loose):this.semver=oe},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new J(e,this.options)),re(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&a||s||l},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[M]:o[V];e=e.replace(r,le),n("hyphen replace",e),e=e.replace(o[R],"$1$2$3"),n("comparator trim",e,o[R]),e=(e=(e=e.replace(o[P],"$1~")).replace(o[I],"$1^")).split(/\s+/).join(" ");var i=t?o[B]:o[D],a=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[L]:o[W];return e.replace(r,function(t,r,i,o,a){var s;return n("caret",e,t,r,i,o,a),se(r)?s="":se(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?s="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===i?">="+r+"."+i+"."+o+a+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",s),s})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[$]:o[T];return e.replace(r,function(t,r,i,o,a){var s;return n("tilde",e,t,r,i,o,a),se(r)?s="":se(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?s=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0"):s=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",s),s})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?o[O]:o[j];return e.replace(r,function(t,r,i,o,a,s){n("xRange",e,t,r,i,o,a,s);var l=se(i),c=l||se(o),u=c||se(a),f=u;return"="===r&&f&&(r=""),l?t=">"===r||"<"===r?"<0.0.0":"*":r&&f?(c&&(o=0),u&&(a=0),">"===r?(r=">=",c?(i=+i+1,o=0,a=0):u&&(o=+o+1,a=0)):"<="===r&&(r="<",c?i=+i+1:o=+o+1),t=r+i+"."+o+"."+a):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[q],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter(function(e){return!!e.match(i)})),a=a.map(function(e){return new ie(e,this.options)},this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new ae(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new J(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new J(r=e,n)))}),r},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return fe(e,t,"<",n)},t.gtr=function(e,t,n){return fe(e,t,">",n)},t.outside=fe,t.prerelease=function(e,t){var n=H(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof J)return e;if("string"!=typeof e)return null;var t=e.match(o[z]);return null==t?null:H((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}}),H=(X.SEMVER_SPEC_VERSION,X.re,X.src,X.parse,X.valid,X.clean,X.SemVer,X.inc,X.diff,X.compareIdentifiers,X.rcompareIdentifiers,X.major,X.minor,X.patch,X.compare,X.compareLoose,X.rcompare,X.sort,X.rsort,X.gt,X.lt,X.eq,X.neq,X.gte,X.lte,X.cmp,X.Comparator,X.Range,X.toComparators,X.satisfies),J=(X.maxSatisfying,X.minSatisfying,X.validRange,X.ltr,X.gtr,X.outside,X.prerelease,X.intersects,X.coerce,M(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}})),U=(q=J)&&q.__esModule&&Object.prototype.hasOwnProperty.call(q,"default")?q.default:q;const G={background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Y={group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Z={background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},K={background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Q={background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},ee={arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axisBand:{grid:!1},axisBottom:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},axisLeft:{domainColor:"#cbcbcb",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisRight:{domainColor:"#333",domainWidth:1,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,ticks:!0,titleFontSize:14,titlePadding:10},axisTop:{domain:!1,domainColor:"#333",domainWidth:3,grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,labelPadding:4,tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},symbol:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},style:{bar:{binSpacing:2,fill:"#30a2da",stroke:null}},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},te="Benton Gothic Bold, sans",ne={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},re={background:"#ffffff",title:{anchor:"start",font:te,fontColor:"#000000",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,labelFontWeight:"normal",titleFont:te,titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans",labelFontSize:11.5,symbolType:"square",titleFont:te,titleFontSize:13,titleFontWeight:"normal"},range:{category:ne["category-6"],diverging:ne["fireandice-6"],heatmap:ne["fire-7"],ordinal:ne["fire-7"],ramp:ne["fire-7"]}};var ie=Object.freeze({excel:G,ggplot2:Y,quartz:Z,vox:K,dark:Q,fivethirtyeight:ee,latimes:re}),oe="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const ae="vg-tooltip-element",se={offsetX:10,offsetY:10,id:ae,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};function le(e,t,n){return e.fields=t||[],e.fname=n,e}function ce(e){throw Error(e)}var ue=Array.isArray;function fe(e){return e===Object(e)}function pe(e){return"string"==typeof e}function he(e){return ue(e)?"["+e.map(he)+"]":fe(e)||pe(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}var de=[],ge=(function(e,t){var n=function(e){var t,n,r,i=[],o=null,a=0,s=e.length,l="";function c(){i.push(l+e.substring(t,n)),l="",t=n+1}for(e+="",t=n=0;n<s;++n)if("\\"===(r=e[n]))l+=e.substring(t,n),t=++n;else if(r===o)c(),o=null,a=-1;else{if(o)continue;t===a&&'"'===r?(t=n+1,o=r):t===a&&"'"===r?(t=n+1,o=r):"."!==r||a?"["===r?(n>t&&c(),a=t=n+1):"]"===r&&(a||ce("Access path missing open bracket: "+e),a>0&&c(),a=0,t=n+1):n>t?c():t=n+1}return a&&ce("Access path missing closing bracket: "+e),o&&ce("Access path missing closing quote: "+e),n>t&&(n++,c()),i}(e),r="return _["+n.map(he).join("][")+"];";le(Function("_",r),[e=1===n.length?n[0]:e],t||e)}("id"),le(function(e){return e},de,"identity"),le(function(){return 0},de,"zero"),le(function(){return 1},de,"one"),le(function(){return!0},de,"true"),le(function(){return!1},de,"false"),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n});function me(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,r){if("object"!=typeof r||null===r)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}class ve{constructor(e){this.options=Object.assign({},se,e);const t=this.options.id;if(this.call=this.tooltip_handler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return oe.toString().replace(ae,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",t),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltip_handler(e,t,n,r){if(null==r||""===r)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=function(e,t,n){if(ue(e))return`[${e.map(e=>t(pe(e)?e:me(e,n))).join(", ")}]`;if(fe(e)){let r="";const i=e,{title:o}=i,a=ge(i,["title"]);o&&(r+=`<h2>${t(o)}</h2>`);const s=Object.keys(a);if(s.length>0){r+="<table>";for(const e of s){let i=a[e];fe(i)&&(i=me(i,n)),r+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(i)}</td></tr>`}r+="</table>"}return r||"{}"}return t(e)}(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:i,y:o}=function(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${i}px`)}}var be='.vega-embed {\n  position: relative;\n  display: inline-block;\n  padding-right: 38px; }\n  .vega-embed details:not([open]) > :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    display: flex;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5); }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n';function ye(e,...t){for(const n of t)e=we(e,n);return e}function we(t,n){if("object"!=typeof n||null===n)return t;for(const r in n)n.hasOwnProperty(r)&&void 0!==n[r]&&("object"!=typeof n[r]||e.isArray(n[r])||null===n[r]?t[r]=n[r]:"object"!=typeof t[r]||null===t[r]?t[r]=ye(e.isArray(n[r].constructor)?[]:{},n[r]):ye(t[r],n[r]));return t}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const xe=e,_e=t,Se={vega:"Vega","vega-lite":"Vega-Lite"},ke={vega:xe.version,"vega-lite":_e?_e.version:"not available"},Ce={vega:(e,t)=>e,"vega-lite":(e,t)=>_e.compile(e,{config:t}).spec},Ee='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" width="14" height="14">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',Ae={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"};function je(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,a=window.open("");a.document.write(i+e+o),a.document.title=`${Se[r]} JSON Source`}function Oe(e,t,n={}){return D(this,void 0,void 0,function*(){const r=(n=n||{}).patch||n.onBeforeParse,i=!0===n.actions||!1===n.actions?n.actions:ye({},{export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},n.actions||{}),o=Object.assign({},Ae,n.i18n),a=(s=n.loader)&&"load"in s?n.loader:xe.loader(n.loader);var s;const l=n.renderer||"canvas",c=n.logLevel||xe.Warn;if(xe.isString(t)){const r=yield a.load(t);return Oe(e,JSON.parse(r),n)}let u=n.config||{};if(xe.isString(u)){const r=yield a.load(u);return Oe(e,t,Object.assign({},n,{config:JSON.parse(r)}))}if(!1!==n.defaultStyle){const e="vega-embed-style";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?be.toString():n.defaultStyle,document.head.appendChild(t)}}n.theme&&(u=ye({},ie[n.theme],u));const f=function(e,t){if(e.$schema){const n=U(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${Se[n.library]}, but mode argument sets ${Se[t]||t}.`);const r=n.library;return H(ke[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${r} ${n.version}, but the current version of ${Se[r]} is ${ke[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t||"vega"}(t,n.mode);let p=Ce[f](t,u);if("vega-lite"===f&&p.$schema){const e=U(p.$schema);H(ke.vega,`^${e.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${e.version}, but current version is ${ke.vega}.`)}const h=(d=e,"string"==typeof d?new W([[document.querySelector(d)]],[document.documentElement]):new W([[d]],I)).classed("vega-embed",!0).html("");var d;if(r)if(r instanceof Function)p=r(p);else if(xe.isString(r)){const e=yield a.load(r);p=ye(p,JSON.parse(e))}else p=ye(p,r);const g=xe.parse(p,"vega-lite"===f?{}:u),m=new xe.View(g,{loader:a,logLevel:c,renderer:l});if(!1!==n.tooltip){let e;e="function"==typeof n.tooltip?n.tooltip:new ve(!0===n.tooltip?{}:n.tooltip).call,m.tooltip(e)}let v=n.hover;if(void 0===v&&(v="vega-lite"!==f),v){const{hoverSet:e,updateSet:t}="boolean"==typeof v?{}:v;m.hover(e,t)}if(n&&(n.width&&m.width(n.width),n.height&&m.height(n.height),n.padding&&m.padding(n.padding)),yield m.initialize(e).runAsync(),!1!==i){let e=h;if(!1!==n.defaultStyle){const t=e=h.append("details").attr("title",o.CLICK_TO_VIEW_ACTIONS);t.insert("summary").html(Ee);const n=t.node();document.addEventListener("click",e=>{n.contains(e.target)||n.removeAttribute("open")})}const r=e.insert("div").attr("class","vega-actions");if(!0===i||!1!==i.export)for(const e of["svg","png"])if(!0===i||!0===i.export||i.export[e]){const t=o[`${e.toUpperCase()}_ACTION`];r.append("a").text(t).attr("href","#").attr("target","_blank").attr("download",`visualization.${e}`).on("mousedown",function(){m.toImageURL(e,n.scaleFactor).then(e=>{this.href=e}).catch(e=>{throw e}),z.preventDefault()})}if(!0!==i&&!1===i.source||r.append("a").text(o.SOURCE_ACTION).attr("href","#").on("mousedown",()=>{je(V(t),n.sourceHeader||"",n.sourceFooter||"",f),z.preventDefault()}),"vega-lite"!==f||!0!==i&&!1===i.compiled||r.append("a").text(o.COMPILED_ACTION).attr("href","#").on("mousedown",()=>{je(V(p),n.sourceHeader||"",n.sourceFooter||"","vega"),z.preventDefault()}),!0===i||!1!==i.editor){const e=n.editorUrl||"https://vega.github.io/editor/";r.append("a").text(o.EDITOR_ACTION).attr("href","#").on("mousedown",()=>{!function(e,t,n){const r=e.open(t),i=250;let o=~~(1e4/i);e.addEventListener("message",function t(n){n.source===r&&(o=0,e.removeEventListener("message",t,!1))},!1),setTimeout(function e(){o<=0||(r.postMessage(n,"*"),setTimeout(e,i),o-=1)},i)}(window,e,{config:u,mode:f,renderer:l,spec:V(t)}),z.preventDefault()})}}return{view:m,spec:t,vgSpec:p}})}function ze(e,t={}){return D(this,void 0,void 0,function*(){const n=document.createElement("div");n.classList.add("vega-embed-wrapper");const r=document.createElement("div");n.appendChild(r);const i=!0===t.actions||!1===t.actions?t.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},t.actions||{}),o=yield Oe(r,e,Object.assign({actions:i},t||{}));return n.value=o.view,n})}const Ne=(...t)=>t.length>1&&(e.isString(t[0])&&!function(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")}(t[0])||function(e){return e instanceof L||"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(t[0])||3===t.length)?Oe(t[0],t[1],t[2]):ze(t[0],t[1]);return Ne.vl=_e,Ne.container=ze,Ne.embed=Oe,Ne.vega=xe,Ne.default=Oe,Ne.version=B,Ne});

/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
            ;(function(p,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):p.React=h()})(this,function(){function p(a){for(var b=arguments.length-1,e="http://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,c=0;c<b;c++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[c+1]);O(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",
e)}function h(a){return function(){return a}}function q(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||E}function F(){}function v(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||E}function G(a,b,e){var c=void 0,f={},k=null,d=null;if(null!=b)for(c in void 0!==b.ref&&(d=b.ref),void 0!==b.key&&(k=""+b.key),b)H.call(b,c)&&!I.hasOwnProperty(c)&&(f[c]=b[c]);var g=arguments.length-2;if(1===g)f.children=e;else if(1<g){for(var m=Array(g),l=0;l<g;l++)m[l]=arguments[l+2];f.children=
m}if(a&&a.defaultProps)for(c in g=a.defaultProps,g)void 0===f[c]&&(f[c]=g[c]);return{$$typeof:r,type:a,key:k,ref:d,props:f,_owner:w.current}}function x(a){return"object"===typeof a&&null!==a&&a.$$typeof===r}function P(a){var b={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function J(a,b,e,c){if(u.length){var f=u.pop();f.result=a;f.keyPrefix=b;f.func=e;f.context=c;f.count=0;return f}return{result:a,keyPrefix:b,func:e,context:c,count:0}}function K(a){a.result=
null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>u.length&&u.push(a)}function t(a,b,e,c){var f=typeof a;if("undefined"===f||"boolean"===f)a=null;var k=!1;if(null===a)k=!0;else switch(f){case "string":case "number":k=!0;break;case "object":switch(a.$$typeof){case r:case Q:k=!0}}if(k)return e(c,a,""===b?"."+y(a,0):b),1;k=0;b=""===b?".":b+":";if(Array.isArray(a))for(var d=0;d<a.length;d++){f=a[d];var g=b+y(f,d);k+=t(f,g,e,c)}else if(null===a||"undefined"===typeof a?g=null:(g=L&&a[L]||a["@@iterator"],
g="function"===typeof g?g:null),"function"===typeof g)for(a=g.call(a),d=0;!(f=a.next()).done;)f=f.value,g=b+y(f,d++),k+=t(f,g,e,c);else"object"===f&&(e=""+a,p("31","[object Object]"===e?"object with keys {"+Object.keys(a).join(", ")+"}":e,""));return k}function y(a,b){return"object"===typeof a&&null!==a&&null!=a.key?P(a.key):b.toString(36)}function R(a,b,e){a.func.call(a.context,b,a.count++)}function S(a,b,e){var c=a.result,f=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?z(a,c,
e,A.thatReturnsArgument):null!=a&&(x(a)&&(b=f+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(M,"$\x26/")+"/")+e,a={$$typeof:r,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}),c.push(a))}function z(a,b,e,c,f){var d="";null!=e&&(d=(""+e).replace(M,"$\x26/")+"/");b=J(b,d,c,f);null==a||t(a,"",S,b);K(b)}var N=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,B=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===
Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var e={};"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},e)).join("")?!1:!0}catch(c){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var e=
Object(a);for(var c,f=1;f<arguments.length;f++){var d=Object(arguments[f]);for(var h in d)T.call(d,h)&&(e[h]=d[h]);if(N){c=N(d);for(var g=0;g<c.length;g++)U.call(d,c[g])&&(e[c[g]]=d[c[g]])}}return e},d="function"===typeof Symbol&&Symbol["for"],r=d?Symbol["for"]("react.element"):60103,Q=d?Symbol["for"]("react.portal"):60106,n=d?Symbol["for"]("react.fragment"):60107,C=d?Symbol["for"]("react.strict_mode"):60108,V=d?Symbol["for"]("react.provider"):60109,W=d?Symbol["for"]("react.context"):60110,X=d?Symbol["for"]("react.async_mode"):
60111,Y=d?Symbol["for"]("react.forward_ref"):60112,L="function"===typeof Symbol&&Symbol.iterator,O=function(a,b,e,c,f,d,h,g){if(!a){if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[e,c,f,d,h,g],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}},D={};d=function(){};d.thatReturns=h;d.thatReturnsFalse=h(!1);d.thatReturnsTrue=h(!0);
d.thatReturnsNull=h(null);d.thatReturnsThis=function(){return this};d.thatReturnsArgument=function(a){return a};var A=d,E={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,e){},enqueueReplaceState:function(a,b,e,c){},enqueueSetState:function(a,b,e,c){}};q.prototype.isReactComponent={};q.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?p("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};q.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,
a,"forceUpdate")};F.prototype=q.prototype;d=v.prototype=new F;d.constructor=v;B(d,q.prototype);d.isPureReactComponent=!0;var w={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},M=/\/+/g,u=[];n={Children:{map:function(a,b,e){if(null==a)return a;var c=[];z(a,c,null,b,e);return c},forEach:function(a,b,e){if(null==a)return a;b=J(null,null,b,e);null==a||t(a,"",R,b);K(b)},count:function(a,b){return null==a?0:t(a,"",A.thatReturnsNull,null)},toArray:function(a){var b=
[];z(a,b,null,A.thatReturnsArgument);return b},only:function(a){x(a)?void 0:p("143");return a}},createRef:function(){return{current:null}},Component:q,PureComponent:v,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:W,_calculateChangedBits:b,_defaultValue:a,_currentValue:a,_changedBits:0,Provider:null,Consumer:null};a.Provider={$$typeof:V,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:Y,render:a}},Fragment:n,StrictMode:C,unstable_AsyncMode:X,createElement:G,cloneElement:function(a,
b,e){null===a||void 0===a?p("267",a):void 0;var c=void 0,d=B({},a.props),k=a.key,h=a.ref,g=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,g=w.current);void 0!==b.key&&(k=""+b.key);var m=void 0;a.type&&a.type.defaultProps&&(m=a.type.defaultProps);for(c in b)H.call(b,c)&&!I.hasOwnProperty(c)&&(d[c]=void 0===b[c]&&void 0!==m?m[c]:b[c])}c=arguments.length-2;if(1===c)d.children=e;else if(1<c){m=Array(c);for(var l=0;l<c;l++)m[l]=arguments[l+2];d.children=m}return{$$typeof:r,type:a.type,key:k,ref:h,props:d,
_owner:g}},createFactory:function(a){var b=G.bind(null,a);b.type=a;return b},isValidElement:x,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:B}};n=(C=Object.freeze({default:n}))&&n||C;return n["default"]?n["default"]:n});

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.createReactClass=e(require("react")):t.createReactClass=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";function o(t){return t}function r(t,e,n){function r(t,e){var n=N.hasOwnProperty(e)?N[e]:null;b.hasOwnProperty(e)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",e),t&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",e)}function u(t,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!e(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=t.prototype,i=o.__reactAutoBindPairs;n.hasOwnProperty(c)&&g.mixins(t,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==c){var u=n[a],p=o.hasOwnProperty(a);if(r(p,a),g.hasOwnProperty(a))g[a](t,u);else{var l=N.hasOwnProperty(a),E="function"==typeof u,m=E&&!l&&!p&&!1!==n.autobind;if(m)i.push(a,u),o[a]=u;else if(p){var h=N[a];s(l&&("DEFINE_MANY_MERGED"===h||"DEFINE_MANY"===h),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",h,a),"DEFINE_MANY_MERGED"===h?o[a]=f(o[a],u):"DEFINE_MANY"===h&&(o[a]=d(o[a],u))}else o[a]=u}}}else;}function p(t,e){if(e)for(var n in e){var o=e[n];if(e.hasOwnProperty(n)){var r=n in g;s(!r,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in t;if(i){var a=_.hasOwnProperty(n)?_[n]:null;return s("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(t[n]=f(t[n],o))}t[n]=o}}}function l(t,e){s(t&&e&&"object"==typeof t&&"object"==typeof e,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in e)e.hasOwnProperty(n)&&(s(void 0===t[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),t[n]=e[n]);return t}function f(t,e){return function(){var n=t.apply(this,arguments),o=e.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return l(r,n),l(r,o),r}}function d(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function E(t,e){var n=e.bind(t);return n}function m(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var o=e[n],r=e[n+1];t[o]=E(t,r)}}function h(t){var e=o(function(t,o,r){this.__reactAutoBindPairs.length&&m(this),this.props=t,this.context=o,this.refs=a,this.updater=r||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;s("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",e.displayName||"ReactCompositeComponent"),this.state=i});e.prototype=new I,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],y.forEach(u.bind(null,e)),u(e,v),u(e,t),u(e,D),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),s(e.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var r in N)e.prototype[r]||(e.prototype[r]=null);return e}var y=[],N={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},g={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)u(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=i({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=i({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=f(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=i({},t.propTypes,e)},statics:function(t,e){p(t,e)},autobind:function(){}},v={componentDidMount:function(){this.__isMounted=!0}},D={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t,e)},isMounted:function(){return!!this.__isMounted}},I=function(){};return i(I.prototype,t.prototype,b),h}var i=n(5),a=n(3),s=n(4),c="mixins";t.exports=r},function(e,n){e.exports=t},function(t,e,n){"use strict";var o=n(1),r=n(0);if(void 0===o)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new o.Component).updater;t.exports=r(o.Component,o.isValidElement,i)},function(t,e,n){"use strict";var o={};t.exports=o},function(t,e,n){"use strict";function o(t,e,n,o,i,a,s,c){if(r(e),!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,o,i,a,s,c],l=0;u=new Error(e.replace(/%s/g,function(){return p[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var r=function(t){};t.exports=o},function(t,e,n){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,c=o(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var p in n)i.call(n,p)&&(c[p]=n[p]);if(r){s=r(n);for(var l=0;l<s.length;l++)a.call(n,s[l])&&(c[s[l]]=n[s[l]])}}return c}}])});
/** @license React v16.3.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
            ;(function(pa,l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l(require("react")):"function"===typeof define&&define.amd?define(["react"],l):pa.ReactDOM=l(pa.React)})(this,function(pa){function l(a){for(var b=arguments.length-1,c="http://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,d=0;d<b;d++)c+="\x26args[]\x3d"+encodeURIComponent(arguments[d+1]);ze(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",
c)}function Ec(){if(bb)for(var a in va){var b=va[a],c=bb.indexOf(a);-1<c?void 0:l("96",a);if(!ea[c]){b.extractEvents?void 0:l("97",a);ea[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;Gb.hasOwnProperty(h)?l("99",h):void 0;Gb[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&Fc(k[e],g,h);e=!0}else f.registrationName?(Fc(f.registrationName,g,h),e=!0):e=!1;e?void 0:l("98",d,a)}}}}function Fc(a,b,c){qa[a]?l("100",a):void 0;qa[a]=b;cb[a]=b.eventTypes[c].dependencies}
function Gc(a){bb?l("101"):void 0;bb=Array.prototype.slice.call(a);Ec()}function Hc(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];va.hasOwnProperty(c)&&va[c]===d||(va[c]?l("102",c):void 0,va[c]=d,b=!0)}b&&Ec()}function db(a){return function(){return a}}function Ic(a,b,c,d){b=a.type||"unknown-event";a.currentTarget=Jc(d);z.invokeGuardedCallbackAndCatchFirstError(b,c,void 0,a);a.currentTarget=null}function wa(a,b){null==b?l("30"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,
b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function X(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Hb(a,b){var c=a.stateNode;if(!c)return null;var d=Ib(c);if(!d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===
a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;c&&"function"!==typeof c?l("231",b,typeof c):void 0;return c}function Jb(a,b){null!==a&&(fa=wa(fa,a));a=fa;fa=null;a&&(b?X(a,Ae):X(a,Be),fa?l("95"):void 0,z.rethrowCaughtError())}function Kc(a,b,c,d){for(var e=null,f=0;f<ea.length;f++){var g=ea[f];g&&(g=g.extractEvents(a,b,c,d))&&(e=wa(e,g))}Jb(e,!1)}function Ca(a){if(a[P])return a[P];for(;!a[P];)if(a.parentNode)a=a.parentNode;else return null;a=a[P];return 5===a.tag||6===
a.tag?a:null}function xa(a){if(5===a.tag||6===a.tag)return a.stateNode;l("33")}function Lc(a){return a[ha]||null}function Q(a){do a=a["return"];while(a&&5!==a.tag);return a?a:null}function Mc(a,b,c){for(var d=[];a;)d.push(a),a=Q(a);for(a=d.length;0<a--;)b(d[a],"captured",c);for(a=0;a<d.length;a++)b(d[a],"bubbled",c)}function Nc(a,b,c){if(b=Hb(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a)}function Ce(a){a&&
a.dispatchConfig.phasedRegistrationNames&&Mc(a._targetInst,Nc,a)}function De(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst;b=b?Q(b):null;Mc(b,Nc,a)}}function Kb(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Hb(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a))}function Ee(a){a&&a.dispatchConfig.registrationName&&Kb(a._targetInst,null,a)}function ya(a){X(a,Ce)}function Oc(a,b,c,d){if(c&&
d)a:{var e=c;for(var f=d,g=0,h=e;h;h=Q(h))g++;h=0;for(var k=f;k;k=Q(k))h++;for(;0<g-h;)e=Q(e),g--;for(;0<h-g;)f=Q(f),h--;for(;g--;){if(e===f||e===f.alternate)break a;e=Q(e);f=Q(f)}e=null}else e=null;f=e;for(e=[];c&&c!==f;){g=c.alternate;if(null!==g&&g===f)break;e.push(c);c=Q(c)}for(c=[];d&&d!==f;){g=d.alternate;if(null!==g&&g===f)break;c.push(d);d=Q(d)}for(d=0;d<e.length;d++)Kb(e[d],"bubbled",a);for(a=c.length;0<a--;)Kb(c[a],"captured",b)}function Pc(){!Lb&&R.canUseDOM&&(Lb="textContent"in document.documentElement?
"textContent":"innerText");return Lb}function Qc(){if(H._fallbackText)return H._fallbackText;var a,b=H._startText,c=b.length,d,e=Rc(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);H._fallbackText=e.slice(a,1<d?1-d:void 0);return H._fallbackText}function Rc(){return"value"in H._root?H._root.value:H._root[Pc()]}function I(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?
this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?M.thatReturnsTrue:M.thatReturnsFalse;this.isPropagationStopped=M.thatReturnsFalse;return this}function Fe(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function Ge(a){a instanceof this?void 0:l("223");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Sc(a){a.eventPool=
[];a.getPooled=Fe;a.release=Ge}function Tc(a,b){switch(a){case "topKeyUp":return-1!==He.indexOf(b.keyCode);case "topKeyDown":return 229!==b.keyCode;case "topKeyPress":case "topMouseDown":case "topBlur":return!0;default:return!1}}function Uc(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function Ie(a,b){switch(a){case "topCompositionEnd":return Uc(b);case "topKeyPress":if(32!==b.which)return null;Vc=!0;return Wc;case "topTextInput":return a=b.data,a===Wc&&Vc?null:a;default:return null}}
function Je(a,b){if(ia)return"topCompositionEnd"===a||!Mb&&Tc(a,b)?(a=Qc(),H._root=null,H._startText=null,H._fallbackText=null,ia=!1,a):null;switch(a){case "topPaste":return null;case "topKeyPress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case "topCompositionEnd":return Xc?null:b.data;default:return null}}function Yc(a){if(a=Zc(a)){eb&&"function"===typeof eb.restoreControlledState?
void 0:l("194");var b=Ib(a.stateNode);eb.restoreControlledState(a.stateNode,a.type,b)}}function $c(a){za?ra?ra.push(a):ra=[a]:za=a}function ad(){return null!==za||null!==ra}function bd(){if(za){var a=za,b=ra;ra=za=null;Yc(a);if(b)for(a=0;a<b.length;a++)Yc(b[a])}}function cd(a,b){if(Nb)return a(b);Nb=!0;try{return dd(a,b)}finally{Nb=!1,ad()&&(ed(),bd())}}function fd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Ke[a.type]:"textarea"===b?!0:!1}function Ob(a){a=a.target||window;
a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Pb(a,b){if(!R.canUseDOM||b&&!("addEventListener"in document))return!1;a="on"+a;b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function gd(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Le(a){var b=gd(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,
b),d=""+a[b];if(!a.hasOwnProperty(b)&&"function"===typeof c.get&&"function"===typeof c.set)return Object.defineProperty(a,b,{configurable:!0,get:function(){return c.get.call(this)},set:function(a){d=""+a;c.set.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}function fb(a){a._valueTracker||(a._valueTracker=Le(a))}function hd(a){if(!a)return!1;var b=a._valueTracker;
if(!b)return!0;var c=b.getValue();var d="";a&&(d=gd(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Da(a){if(null===a||"undefined"===typeof a)return null;a=id&&a[id]||a["@@iterator"];return"function"===typeof a?a:null}function Ia(a){a=a.type;if("function"===typeof a)return a.displayName||a.name;if("string"===typeof a)return a;switch(a){case Y:return"ReactFragment";case ja:return"ReactPortal";case jd:return"ReactCall";case kd:return"ReactReturn"}if("object"===typeof a&&
null!==a)switch(a.$$typeof){case ld:return a=a.render.displayName||a.render.name||"",""!==a?"ForwardRef("+a+")":"ForwardRef"}return null}function Qb(a){var b="";do{a:switch(a.tag){case 0:case 1:case 2:case 5:var c=a._debugOwner,d=a._debugSource;var e=Ia(a);var f=null;c&&(f=Ia(c));c=d;e="\n    in "+(e||"Unknown")+(c?" (at "+c.fileName.replace(/^.*[\\\/]/,"")+":"+c.lineNumber+")":f?" (created by "+f+")":"");break a;default:e=""}b+=e;a=a["return"]}while(a);return b}function Me(a){if(md.hasOwnProperty(a))return!0;
if(nd.hasOwnProperty(a))return!1;if(Ne.test(a))return md[a]=!0;nd[a]=!0;return!1}function Oe(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function Pe(a,b,c,d){if(null===b||"undefined"===typeof b||Oe(a,b,c,d))return!0;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||
1>b}return!1}function J(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}function Rb(a,b,c,d){var e=F.hasOwnProperty(b)?F[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(Pe(b,c,e,d)&&(c=null),d||null===e?Me(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=
e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function Sb(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function od(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Tb(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===
b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function pd(a,b){b=b.checked;null!=b&&Rb(a,"checked",b,!1)}function Ub(a,b){pd(a,b);var c=Tb(b.value);if(null!=c)if("number"===b.type){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);b.hasOwnProperty("value")?Vb(a,b.type,c):b.hasOwnProperty("defaultValue")&&Vb(a,b.type,Tb(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function qd(a,b){if(b.hasOwnProperty("value")||
b.hasOwnProperty("defaultValue"))""===a.value&&(a.value=""+a._wrapperState.initialValue),a.defaultValue=""+a._wrapperState.initialValue;b=a.name;""!==b&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!a.defaultChecked;""!==b&&(a.name=b)}function Vb(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function Tb(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;
default:return""}}function rd(a,b,c){a=I.getPooled(sd.change,a,b,c);a.type="change";$c(c);ya(a);return a}function Qe(a){Jb(a,!1)}function gb(a){var b=xa(a);if(hd(b))return a}function Re(a,b){if("topChange"===a)return b}function td(){Ja&&(Ja.detachEvent("onpropertychange",ud),Ka=Ja=null)}function ud(a){"value"===a.propertyName&&gb(Ka)&&(a=rd(Ka,a,Ob(a)),cd(Qe,a))}function Se(a,b,c){"topFocus"===a?(td(),Ja=b,Ka=c,Ja.attachEvent("onpropertychange",ud)):"topBlur"===a&&td()}function Te(a,b){if("topSelectionChange"===
a||"topKeyUp"===a||"topKeyDown"===a)return gb(Ka)}function Ue(a,b){if("topClick"===a)return gb(b)}function Ve(a,b){if("topInput"===a||"topChange"===a)return gb(b)}function We(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Xe[a])?!!b[a]:!1}function Wb(a){return We}function vd(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}function La(a){var b=a;if(a.alternate)for(;b["return"];)b=b["return"];else{if(0!==(b.effectTag&2))return 1;for(;b["return"];)if(b=b["return"],
0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function Ye(a){return(a=a._reactInternalFiber)?2===La(a):!1}function wd(a){2!==La(a)?l("188"):void 0}function xd(a){var b=a.alternate;if(!b)return b=La(a),3===b?l("188"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c["return"],f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return wd(e),a;if(g===d)return wd(e),b;g=g.sibling}l("188")}if(c["return"]!==d["return"])c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===
c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?void 0:l("189")}}c.alternate!==d?l("190"):void 0}3!==c.tag?l("188"):void 0;return c.stateNode.current===c?a:b}function yd(a){a=xd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=
b["return"];b=b.sibling}}return null}function Ze(a){a=xd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}}return null}function hb(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function zd(a,b){var c=a[0].toUpperCase()+
a.slice(1),d="on"+c;c="top"+c;b={phasedRegistrationNames:{bubbled:d,captured:d+"Capture"},dependencies:[c],isInteractive:b};Ad[a]=b;Xb[c]=b}function $e(a){var b=a.targetInst;do{if(!b){a.ancestors.push(b);break}var c;for(c=b;c["return"];)c=c["return"];c=3!==c.tag?null:c.stateNode.containerInfo;if(!c)break;a.ancestors.push(b);b=Ca(c)}while(b);for(c=0;c<a.ancestors.length;c++)b=a.ancestors[c],Kc(a.topLevelType,b,a.nativeEvent,Ob(a.nativeEvent))}function Yb(a){Ma=!!a}function y(a,b,c){if(!c)return null;
a=(Bd(a)?Cd:ib).bind(null,a);c.addEventListener(b,a,!1)}function S(a,b,c){if(!c)return null;a=(Bd(a)?Cd:ib).bind(null,a);c.addEventListener(b,a,!0)}function Cd(a,b){Dd(ib,a,b)}function ib(a,b){if(Ma){var c=Ob(b);c=Ca(c);null!==c&&"number"===typeof c.tag&&2!==La(c)&&(c=null);if(jb.length){var d=jb.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{cd($e,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=
0,10>jb.length&&jb.push(a)}}}function kb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}function lb(a){if(Zb[a])return Zb[a];if(!T[a])return a;var b=T[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ed)return Zb[a]=b[c];return a}function Fd(a){Object.prototype.hasOwnProperty.call(a,mb)||(a[mb]=af++,Gd[a[mb]]={});return Gd[a[mb]]}function Hd(a,b){return a&&b?a===b?!0:Id(a)?!1:Id(b)?Hd(a,b.parentNode):
"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Jd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Kd(a,b){var c=Jd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Jd(c)}}function $b(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===
a.contentEditable)}function Ld(a,b){if(ac||null==ka||ka!==bc())return null;var c=ka;"selectionStart"in c&&$b(c)?c={start:c.selectionStart,end:c.selectionEnd}:window.getSelection?(c=window.getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}):c=void 0;return Na&&cc(Na,c)?null:(Na=c,a=I.getPooled(Md.select,dc,a,b),a.type="select",a.target=ka,ya(a),a)}function sa(a,b,c,d){this.tag=a;this.key=c;this.stateNode=this.type=null;this.sibling=
this.child=this["return"]=null;this.index=0;this.ref=null;this.pendingProps=b;this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function nb(a,b,c){var d=a.alternate;null===d?(d=new sa(a.tag,b,a.key,a.mode),d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=b,d.effectTag=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null);d.expirationTime=
c;d.child=a.child;d.memoizedProps=a.memoizedProps;d.memoizedState=a.memoizedState;d.updateQueue=a.updateQueue;d.sibling=a.sibling;d.index=a.index;d.ref=a.ref;return d}function ec(a,b,c){var d=a.type,e=a.key;a=a.props;var f=void 0;if("function"===typeof d)f=d.prototype&&d.prototype.isReactComponent?2:0;else if("string"===typeof d)f=5;else switch(d){case Y:return ob(a.children,b,c,e);case bf:f=11;b|=3;break;case cf:f=11;b|=2;break;case jd:f=7;break;case kd:f=9;break;default:if("object"===typeof d&&
null!==d)switch(d.$$typeof){case df:f=13;break;case ef:f=12;break;case ld:f=14;break;default:if("number"===typeof d.tag)return b=d,b.pendingProps=a,b.expirationTime=c,b;l("130",null==d?d:typeof d,"")}else l("130",null==d?d:typeof d,"")}b=new sa(f,a,e,b);b.type=d;b.expirationTime=c;return b}function ob(a,b,c,d){a=new sa(10,a,d,b);a.expirationTime=c;return a}function fc(a,b,c){a=new sa(6,a,null,b);a.expirationTime=c;return a}function gc(a,b,c){b=new sa(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=
c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Nd(a){return function(b){try{return a(b)}catch(c){}}}function ff(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);hc=Nd(function(a){return b.onCommitFiberRoot(c,a)});ic=Nd(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}function Od(a){"function"===
typeof hc&&hc(a)}function Pd(a){"function"===typeof ic&&ic(a)}function Qd(a){return{baseState:a,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function pb(a,b){null===a.last?a.first=a.last=b:(a.last.next=b,a.last=b);if(0===a.expirationTime||a.expirationTime>b.expirationTime)a.expirationTime=b.expirationTime}function jc(a){kc=lc=null;var b=a.alternate,c=a.updateQueue;null===c&&(c=a.updateQueue=Qd(null));null!==b?(a=b.updateQueue,null===
a&&(a=b.updateQueue=Qd(null))):a=null;kc=c;lc=a!==c?a:null}function Oa(a,b){jc(a);a=kc;var c=lc;null===c?pb(a,b):null===a.last||null===c.last?(pb(a,b),pb(c,b)):(pb(a,b),c.last=b)}function Rd(a,b,c,d){a=a.partialState;return"function"===typeof a?a.call(b,c,d):a}function qb(a,b,c,d,e,f){null!==a&&a.updateQueue===c&&(c=b.updateQueue={baseState:c.baseState,expirationTime:c.expirationTime,first:c.first,last:c.last,isInitialized:c.isInitialized,capturedValues:c.capturedValues,callbackList:null,hasForceUpdate:!1});
c.expirationTime=0;c.isInitialized?a=c.baseState:(a=c.baseState=b.memoizedState,c.isInitialized=!0);for(var g=!0,h=c.first,k=!1;null!==h;){var l=h.expirationTime;if(l>f){var m=c.expirationTime;if(0===m||m>l)c.expirationTime=l;k||(k=!0,c.baseState=a)}else{k||(c.first=h.next,null===c.first&&(c.last=null));if(h.isReplace)a=Rd(h,d,a,e),g=!0;else if(l=Rd(h,d,a,e))a=g?A({},a,l):A(a,l),g=!1;h.isForced&&(c.hasForceUpdate=!0);null!==h.callback&&(l=c.callbackList,null===l&&(l=c.callbackList=[]),l.push(h));
null!==h.capturedValue&&(l=c.capturedValues,null===l?c.capturedValues=[h.capturedValue]:l.push(h.capturedValue))}h=h.next}null!==c.callbackList?b.effectTag|=32:null!==c.first||c.hasForceUpdate||null!==c.capturedValues||(b.updateQueue=null);k||(c.baseState=a);return a}function Sd(a,b){var c=a.callbackList;if(null!==c)for(a.callbackList=null,a=0;a<c.length;a++){var d=c[a],e=d.callback;d.callback=null;"function"!==typeof e?l("191",e):void 0;e.call(b)}}function Pa(a,b,c){a=c.ref;if(null!==a&&"function"!==
typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(2!==c.tag?l("110"):void 0,d=c.stateNode);d?void 0:l("147",a);var e=""+a;if(null!==b&&null!==b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs===la?d.refs={}:d.refs;null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}"string"!==typeof a?l("148"):void 0;c._owner?void 0:l("254",a)}return a}function rb(a,b){"textarea"!==a.type&&l("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+
"}":b,"")}function Td(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=nb(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,
d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=fc(c,a.mode,d),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function k(a,b,c,d){if(null!==b&&b.type===c.type)return d=e(b,c.props,d),d.ref=Pa(a,b,c),d["return"]=a,d;d=ec(c,a.mode,d);d.ref=Pa(a,b,c);d["return"]=a;return d}function D(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==
c.implementation)return b=gc(c,a.mode,d),b["return"]=a,b;b=e(b,c.children||[],d);b["return"]=a;return b}function m(a,b,c,d,f){if(null===b||10!==b.tag)return b=ob(c,a.mode,d,f),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function w(a,b,c){if("string"===typeof b||"number"===typeof b)return b=fc(""+b,a.mode,c),b["return"]=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case sb:return c=ec(b,a.mode,c),c.ref=Pa(a,null,b),c["return"]=a,c;case ja:return b=gc(b,a.mode,c),b["return"]=a,b}if(tb(b)||
Da(b))return b=ob(b,a.mode,c,null),b["return"]=a,b;rb(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case sb:return c.key===e?c.type===Y?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case ja:return c.key===e?D(a,b,c,d):null}if(tb(c)||Da(c))return null!==e?null:m(a,b,c,d,null);rb(a,c)}return null}function G(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=
a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case sb:return a=a.get(null===d.key?c:d.key)||null,d.type===Y?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case ja:return a=a.get(null===d.key?c:d.key)||null,D(b,a,d,e)}if(tb(d)||Da(d))return a=a.get(c)||null,m(b,a,d,e,null);rb(b,d)}return null}function v(e,m,h,C){for(var x=null,g=null,t=m,r=m=0,q=null;null!==t&&r<h.length;r++){t.index>r?(q=t,t=null):q=t.sibling;var n=p(e,t,h[r],C);if(null===n){null===t&&(t=q);break}a&&
t&&null===n.alternate&&b(e,t);m=f(n,m,r);null===g?x=n:g.sibling=n;g=n;t=q}if(r===h.length)return c(e,t),x;if(null===t){for(;r<h.length;r++)if(t=w(e,h[r],C))m=f(t,m,r),null===g?x=t:g.sibling=t,g=t;return x}for(t=d(e,t);r<h.length;r++)if(q=G(t,e,r,h[r],C)){if(a&&null!==q.alternate)t["delete"](null===q.key?r:q.key);m=f(q,m,r);null===g?x=q:g.sibling=q;g=q}a&&t.forEach(function(a){return b(e,a)});return x}function C(e,m,h,C){var g=Da(h);"function"!==typeof g?l("150"):void 0;h=g.call(h);null==h?l("151"):
void 0;for(var x=g=null,t=m,r=m=0,q=null,n=h.next();null!==t&&!n.done;r++,n=h.next()){t.index>r?(q=t,t=null):q=t.sibling;var k=p(e,t,n.value,C);if(null===k){t||(t=q);break}a&&t&&null===k.alternate&&b(e,t);m=f(k,m,r);null===x?g=k:x.sibling=k;x=k;t=q}if(n.done)return c(e,t),g;if(null===t){for(;!n.done;r++,n=h.next())n=w(e,n.value,C),null!==n&&(m=f(n,m,r),null===x?g=n:x.sibling=n,x=n);return g}for(t=d(e,t);!n.done;r++,n=h.next())if(n=G(t,e,r,n.value,C),null!==n){if(a&&null!==n.alternate)t["delete"](null===
n.key?r:n.key);m=f(n,m,r);null===x?g=n:x.sibling=n;x=n}a&&t.forEach(function(a){return b(e,a)});return g}return function(a,d,f,m){"object"===typeof f&&null!==f&&f.type===Y&&null===f.key&&(f=f.props.children);var h="object"===typeof f&&null!==f;if(h)switch(f.$$typeof){case sb:a:{var x=f.key;for(h=d;null!==h;){if(h.key===x)if(10===h.tag?f.type===Y:h.type===f.type){c(a,h.sibling);d=e(h,f.type===Y?f.props.children:f.props,m);d.ref=Pa(a,h,f);d["return"]=a;a=d;break a}else{c(a,h);break}else b(a,h);h=h.sibling}f.type===
Y?(d=ob(f.props.children,a.mode,m,f.key),d["return"]=a,a=d):(m=ec(f,a.mode,m),m.ref=Pa(a,d,f),m["return"]=a,a=m)}return g(a);case ja:a:{for(h=f.key;null!==d;){if(d.key===h)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],m);d["return"]=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=gc(f,a.mode,m);d["return"]=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===
d.tag?(c(a,d.sibling),d=e(d,f,m),d["return"]=a,a=d):(c(a,d),d=fc(f,a.mode,m),d["return"]=a,a=d),g(a);if(tb(f))return v(a,d,f,m);if(Da(f))return C(a,d,f,m);h&&rb(a,f);if("undefined"===typeof f)switch(a.tag){case 2:case 1:m=a.type,l("152",m.displayName||m.name||"Component")}return c(a,d)}}function Ud(a,b){var c=b.source;null===b.stack&&Qb(c);null!==c&&Ia(c);b=b.value;null!==a&&2===a.tag&&Ia(a);try{b&&b.suppressReactErrorLogging||console.error(b)}catch(d){d&&d.suppressReactErrorLogging||console.error(d)}}
function hf(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ja,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function jf(a){var b="";pa.Children.forEach(a,function(a){null==a||"string"!==typeof a&&"number"!==typeof a||(b+=a)});return b}function mc(a,b){a=A({children:void 0},b);if(b=jf(b.children))a.children=b;return a}function O(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+
a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+c;b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Vd(a,b){var c=b.value;a._wrapperState={initialValue:null!=c?c:b.defaultValue,wasMultiple:!!b.multiple}}function nc(a,b){null!=b.dangerouslySetInnerHTML?l("91"):void 0;return A({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}
function Wd(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?l("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:l("93"),b=b[0]),c=""+b),null==c&&(c=""));a._wrapperState={initialValue:""+c}}function Xd(a,b){var c=b.value;null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&(a.defaultValue=c));null!=b.defaultValue&&(a.defaultValue=b.defaultValue)}function Yd(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";
default:return"http://www.w3.org/1999/xhtml"}}function oc(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Yd(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function Zd(a,b,c){a=a.style;for(var d in b)if(b.hasOwnProperty(d)){c=0===d.indexOf("--");var e=d;var f=b[d];e=null==f||"boolean"===typeof f||""===f?"":c||"number"!==typeof f||0===f||Qa.hasOwnProperty(e)&&Qa[e]?(""+f).trim():f+"px";"float"===d&&(d="cssFloat");c?a.setProperty(d,e):a[d]=e}}function pc(a,
b,c){b&&(kf[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?l("137",a,c()):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?l("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:l("61")),null!=b.style&&"object"!==typeof b.style?l("62",c()):void 0)}function qc(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function U(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Fd(a);b=cb[b];for(var d=0;d<b.length;d++){var e=b[d];c.hasOwnProperty(e)&&c[e]||("topScroll"===e?S("topScroll","scroll",a):"topFocus"===e||"topBlur"===e?(S("topFocus","focus",a),S("topBlur","blur",a),c.topBlur=!0,c.topFocus=!0):"topCancel"===e?(Pb("cancel",!0)&&S("topCancel","cancel",a),c.topCancel=!0):"topClose"===e?(Pb("close",!0)&&S("topClose","close",a),c.topClose=!0):$d.hasOwnProperty(e)&&y(e,$d[e],a),
c[e]=!0)}}function ae(a,b,c,d){c=9===c.nodeType?c:c.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=Yd(a));"http://www.w3.org/1999/xhtml"===d?"script"===a?(a=c.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=a.removeChild(a.firstChild)):a="string"===typeof b.is?c.createElement(a,{is:b.is}):c.createElement(a):a=c.createElementNS(d,a);return a}function be(a,b){return(9===b.nodeType?b:b.ownerDocument).createTextNode(a)}function ce(a,b,c,d){var e=qc(b,c);switch(b){case "iframe":case "object":y("topLoad",
"load",a);var f=c;break;case "video":case "audio":for(f in Z)Z.hasOwnProperty(f)&&y(f,Z[f],a);f=c;break;case "source":y("topError","error",a);f=c;break;case "img":case "image":case "link":y("topError","error",a);y("topLoad","load",a);f=c;break;case "form":y("topReset","reset",a);y("topSubmit","submit",a);f=c;break;case "details":y("topToggle","toggle",a);f=c;break;case "input":od(a,c);f=Sb(a,c);y("topInvalid","invalid",a);U(d,"onChange");break;case "option":f=mc(a,c);break;case "select":Vd(a,c);f=
A({},c,{value:void 0});y("topInvalid","invalid",a);U(d,"onChange");break;case "textarea":Wd(a,c);f=nc(a,c);y("topInvalid","invalid",a);U(d,"onChange");break;default:f=c}pc(b,f,Ra);var g=f,h;for(h in g)if(g.hasOwnProperty(h)){var k=g[h];"style"===h?Zd(a,k,Ra):"dangerouslySetInnerHTML"===h?(k=k?k.__html:void 0,null!=k&&de(a,k)):"children"===h?"string"===typeof k?("textarea"!==b||""!==k)&&ub(a,k):"number"===typeof k&&ub(a,""+k):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==
h&&(qa.hasOwnProperty(h)?null!=k&&U(d,h):null!=k&&Rb(a,h,k,e))}switch(b){case "input":fb(a);qd(a,c);break;case "textarea":fb(a);c=a.textContent;c===a._wrapperState.initialValue&&(a.value=c);break;case "option":null!=c.value&&a.setAttribute("value",c.value);break;case "select":a.multiple=!!c.multiple;b=c.value;null!=b?O(a,!!c.multiple,b,!1):null!=c.defaultValue&&O(a,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof f.onClick&&(a.onclick=M)}}function ee(a,b,c,d,e){var f=null;switch(b){case "input":c=
Sb(a,c);d=Sb(a,d);f=[];break;case "option":c=mc(a,c);d=mc(a,d);f=[];break;case "select":c=A({},c,{value:void 0});d=A({},d,{value:void 0});f=[];break;case "textarea":c=nc(a,c);d=nc(a,d);f=[];break;default:"function"!==typeof c.onClick&&"function"===typeof d.onClick&&(a.onclick=M)}pc(b,d,Ra);b=a=void 0;var g=null;for(a in c)if(!d.hasOwnProperty(a)&&c.hasOwnProperty(a)&&null!=c[a])if("style"===a){var h=c[a];for(b in h)h.hasOwnProperty(b)&&(g||(g={}),g[b]="")}else"dangerouslySetInnerHTML"!==a&&"children"!==
a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(qa.hasOwnProperty(a)?f||(f=[]):(f=f||[]).push(a,null));for(a in d){var k=d[a];h=null!=c?c[a]:void 0;if(d.hasOwnProperty(a)&&k!==h&&(null!=k||null!=h))if("style"===a)if(h){for(b in h)!h.hasOwnProperty(b)||k&&k.hasOwnProperty(b)||(g||(g={}),g[b]="");for(b in k)k.hasOwnProperty(b)&&h[b]!==k[b]&&(g||(g={}),g[b]=k[b])}else g||(f||(f=[]),f.push(a,g)),g=k;else"dangerouslySetInnerHTML"===a?(k=k?k.__html:void 0,h=h?
h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(a,""+k)):"children"===a?h===k||"string"!==typeof k&&"number"!==typeof k||(f=f||[]).push(a,""+k):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(qa.hasOwnProperty(a)?(null!=k&&U(e,a),f||h===k||(f=[])):(f=f||[]).push(a,k))}g&&(f=f||[]).push("style",g);return f}function fe(a,b,c,d,e){"input"===c&&"radio"===e.type&&null!=e.name&&pd(a,e);qc(c,d);d=qc(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?Zd(a,h,Ra):"dangerouslySetInnerHTML"===
g?de(a,h):"children"===g?ub(a,h):Rb(a,g,h,d)}switch(c){case "input":Ub(a,e);break;case "textarea":Xd(a,e);break;case "select":a._wrapperState.initialValue=void 0,b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?O(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?O(a,!!e.multiple,e.defaultValue,!0):O(a,!!e.multiple,e.multiple?[]:"",!1))}}function ge(a,b,c,d,e){switch(b){case "iframe":case "object":y("topLoad","load",a);break;case "video":case "audio":for(var f in Z)Z.hasOwnProperty(f)&&
y(f,Z[f],a);break;case "source":y("topError","error",a);break;case "img":case "image":case "link":y("topError","error",a);y("topLoad","load",a);break;case "form":y("topReset","reset",a);y("topSubmit","submit",a);break;case "details":y("topToggle","toggle",a);break;case "input":od(a,c);y("topInvalid","invalid",a);U(e,"onChange");break;case "select":Vd(a,c);y("topInvalid","invalid",a);U(e,"onChange");break;case "textarea":Wd(a,c),y("topInvalid","invalid",a),U(e,"onChange")}pc(b,c,Ra);d=null;for(var g in c)c.hasOwnProperty(g)&&
(f=c[g],"children"===g?"string"===typeof f?a.textContent!==f&&(d=["children",f]):"number"===typeof f&&a.textContent!==""+f&&(d=["children",""+f]):qa.hasOwnProperty(g)&&null!=f&&U(e,g));switch(b){case "input":fb(a);qd(a,c);break;case "textarea":fb(a);b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b);break;case "select":case "option":break;default:"function"===typeof c.onClick&&(a.onclick=M)}return d}function he(a,b){return a.nodeValue!==b}function Sa(a){this._expirationTime=B.computeUniqueAsyncExpiration();
this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}function ma(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}function aa(a,b,c){this._internalRoot=B.createContainer(a,b,c)}function rc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function ie(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}
function lf(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new aa(a,!1,b)}function vb(a,b,c,d,e){rc(c)?void 0:l("200");var f=c._reactRootContainer;if(f){if("function"===typeof e){var g=e;e=function(){var a=B.getPublicRootInstance(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=lf(c,d);if("function"===
typeof e){var h=e;e=function(){var a=B.getPublicRootInstance(f._internalRoot);h.call(a)}}B.unbatchedUpdates(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return B.getPublicRootInstance(f._internalRoot)}function je(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;rc(b)?void 0:l("200");return hf(a,b,null,c)}var ze=function(a,b,c,d,e,f,g,h){if(!a){if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
else{var k=[c,d,e,f,g,h],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}};pa?void 0:l("227");var mf=function(a,b,c,d,e,f,g,h,k){this._hasCaughtError=!1;this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this._caughtError=m,this._hasCaughtError=!0}},z={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(a,b,c,d,e,f,g,h,l){mf.apply(z,arguments)},
invokeGuardedCallbackAndCatchFirstError:function(a,b,c,d,e,f,g,h,l){z.invokeGuardedCallback.apply(this,arguments);if(z.hasCaughtError()){var k=z.clearCaughtError();z._hasRethrowError||(z._hasRethrowError=!0,z._rethrowError=k)}},rethrowCaughtError:function(){return nf.apply(z,arguments)},hasCaughtError:function(){return z._hasCaughtError},clearCaughtError:function(){if(z._hasCaughtError){var a=z._caughtError;z._caughtError=null;z._hasCaughtError=!1;return a}l("198")}},nf=function(){if(z._hasRethrowError){var a=
z._rethrowError;z._rethrowError=null;z._hasRethrowError=!1;throw a;}},bb=null,va={},ea=[],Gb={},qa={},cb={},of=Object.freeze({plugins:ea,eventNameDispatchConfigs:Gb,registrationNameModules:qa,registrationNameDependencies:cb,possibleRegistrationNames:null,injectEventPluginOrder:Gc,injectEventPluginsByName:Hc}),ba=function(){};ba.thatReturns=db;ba.thatReturnsFalse=db(!1);ba.thatReturnsTrue=db(!0);ba.thatReturnsNull=db(null);ba.thatReturnsThis=function(){return this};ba.thatReturnsArgument=function(a){return a};
var M=ba,Ib=null,Zc=null,Jc=null,fa=null,ke=function(a,b){if(a){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)Ic(a,b,c[e],d[e]);else c&&Ic(a,b,c,d);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},Ae=function(a){return ke(a,!0)},Be=function(a){return ke(a,!1)},sc={injectEventPluginOrder:Gc,injectEventPluginsByName:Hc},pf=Object.freeze({injection:sc,getListener:Hb,runEventsInBatch:Jb,
runExtractedEventsInBatch:Kc}),le=Math.random().toString(36).slice(2),P="__reactInternalInstance$"+le,ha="__reactEventHandlers$"+le,me=Object.freeze({precacheFiberNode:function(a,b){b[P]=a},getClosestInstanceFromNode:Ca,getInstanceFromNode:function(a){a=a[P];return!a||5!==a.tag&&6!==a.tag?null:a},getNodeFromInstance:xa,getFiberCurrentPropsFromNode:Lc,updateFiberProps:function(a,b){a[ha]=b}}),qf=Object.freeze({accumulateTwoPhaseDispatches:ya,accumulateTwoPhaseDispatchesSkipTarget:function(a){X(a,De)},
accumulateEnterLeaveDispatches:Oc,accumulateDirectDispatches:function(a){X(a,Ee)}}),wb=!("undefined"===typeof window||!window.document||!window.document.createElement),R={canUseDOM:wb,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:wb&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:wb&&!!window.screen,isInWorker:!wb},Lb=null,H={_root:null,_startText:null,_fallbackText:null},A=pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,ne="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),
rf={type:null,target:null,currentTarget:M.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};A(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=M.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():
"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=M.thatReturnsTrue)},persist:function(){this.isPersistent=M.thatReturnsTrue},isPersistent:M.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;for(a=0;a<ne.length;a++)this[ne[a]]=null}});I.Interface=rf;I.extend=function(a){function b(){return c.apply(this,arguments)}var c=this,d=function(){};d.prototype=c.prototype;d=new d;A(d,b.prototype);b.prototype=d;b.prototype.constructor=
b;b.Interface=A({},c.Interface,a);b.extend=c.extend;Sc(b);return b};Sc(I);var sf=I.extend({data:null}),tf=I.extend({data:null}),He=[9,13,27,32],Mb=R.canUseDOM&&"CompositionEvent"in window,Ta=null;R.canUseDOM&&"documentMode"in document&&(Ta=document.documentMode);var uf=R.canUseDOM&&"TextEvent"in window&&!Ta,Xc=R.canUseDOM&&(!Mb||Ta&&8<Ta&&11>=Ta),Wc=String.fromCharCode(32),ca={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd",
"topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",
captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Vc=!1,ia=!1,vf={eventTypes:ca,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(Mb)b:{switch(a){case "topCompositionStart":e=ca.compositionStart;break b;case "topCompositionEnd":e=ca.compositionEnd;break b;case "topCompositionUpdate":e=ca.compositionUpdate;break b}e=void 0}else ia?Tc(a,c)&&(e=ca.compositionEnd):"topKeyDown"===a&&229===c.keyCode&&(e=
ca.compositionStart);e?(Xc&&(ia||e!==ca.compositionStart?e===ca.compositionEnd&&ia&&(f=Qc()):(H._root=d,H._startText=Rc(),ia=!0)),e=sf.getPooled(e,b,c,d),f?e.data=f:(f=Uc(c),null!==f&&(e.data=f)),ya(e),f=e):f=null;(a=uf?Ie(a,c):Je(a,c))?(b=tf.getPooled(ca.beforeInput,b,c,d),b.data=a,ya(b)):b=null;return null===f?b:null===b?f:[f,b]}},eb=null,za=null,ra=null,oe={injectFiberControlledHostComponent:function(a){eb=a}},wf=Object.freeze({injection:oe,enqueueStateRestore:$c,needsStateRestore:ad,restoreStateIfNeeded:bd}),
dd=function(a,b){return a(b)},Dd=function(a,b,c){return a(b,c)},ed=function(){},Nb=!1,Ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},tc=pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V="function"===typeof Symbol&&Symbol["for"],sb=V?Symbol["for"]("react.element"):60103,jd=V?Symbol["for"]("react.call"):60104,kd=V?Symbol["for"]("react.return"):60105,ja=V?Symbol["for"]("react.portal"):
60106,Y=V?Symbol["for"]("react.fragment"):60107,cf=V?Symbol["for"]("react.strict_mode"):60108,df=V?Symbol["for"]("react.provider"):60109,ef=V?Symbol["for"]("react.context"):60110,bf=V?Symbol["for"]("react.async_mode"):60111,ld=V?Symbol["for"]("react.forward_ref"):60112,id="function"===typeof Symbol&&Symbol.iterator,Ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
nd={},md={},F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){F[a]=new J(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];F[b]=new J(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){F[a]=new J(a,2,!1,a.toLowerCase(),null)});["autoReverse",
"externalResourcesRequired","preserveAlpha"].forEach(function(a){F[a]=new J(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){F[a]=new J(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){F[a]=new J(a,3,!0,a.toLowerCase(),null)});["capture","download"].forEach(function(a){F[a]=
new J(a,4,!1,a.toLowerCase(),null)});["cols","rows","size","span"].forEach(function(a){F[a]=new J(a,6,!1,a.toLowerCase(),null)});["rowSpan","start"].forEach(function(a){F[a]=new J(a,5,!1,a.toLowerCase(),null)});var uc=/[\-:]([a-z])/g,vc=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(uc,vc);F[b]=new J(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(uc,vc);F[b]=new J(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(uc,vc);F[b]=new J(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});F.tabIndex=new J("tabIndex",1,!1,"tabindex",null);var sd={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},
dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ja=null,Ka=null,wc=!1;R.canUseDOM&&(wc=Pb("input")&&(!document.documentMode||9<document.documentMode));var xf={eventTypes:sd,_isInputEventSupported:wc,extractEvents:function(a,b,c,d){var e=b?xa(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();"select"===h||"input"===h&&"file"===e.type?f=Re:fd(e)?wc?f=Ve:(f=Te,g=Se):(h=e.nodeName)&&"input"===h.toLowerCase()&&("checkbox"===
e.type||"radio"===e.type)&&(f=Ue);if(f&&(f=f(a,b)))return rd(f,c,d);g&&g(a,e,b);"topBlur"===a&&null!=b&&(a=b._wrapperState||e._wrapperState)&&a.controlled&&"number"===e.type&&Vb(e,"number",e.value)}},Ua=I.extend({view:null,detail:null}),Xe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Va=Ua.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wb,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||
(a.fromElement===a.srcElement?a.toElement:a.fromElement)}}),xc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},yf={eventTypes:xc,extractEvents:function(a,b,c,d){if("topMouseOver"===a&&(c.relatedTarget||c.fromElement)||"topMouseOut"!==a&&"topMouseOver"!==a)return null;var e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;"topMouseOut"===a?(a=b,
b=(b=c.relatedTarget||c.toElement)?Ca(b):null):a=null;if(a===b)return null;var f=null==a?e:xa(a);e=null==b?e:xa(b);var g=Va.getPooled(xc.mouseLeave,a,c,d);g.type="mouseleave";g.target=f;g.relatedTarget=e;c=Va.getPooled(xc.mouseEnter,b,c,d);c.type="mouseenter";c.target=e;c.relatedTarget=f;Oc(g,c,a,b);return[g,c]}},bc=function(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}},zf=Object.prototype.hasOwnProperty,
cc=function(a,b){if(vd(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!zf.call(b,c[d])||!vd(a[c[d]],b[c[d]]))return!1;return!0},Af=I.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Bf=I.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cf=Ua.extend({relatedTarget:null}),Df={Esc:"Escape",Spacebar:" ",
Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",
120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ff=Ua.extend({key:function(a){if(a.key){var b=Df[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=hb(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Ef[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wb,charCode:function(a){return"keypress"===a.type?hb(a):0},keyCode:function(a){return"keydown"===
a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?hb(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Gf=Va.extend({dataTransfer:null}),Hf=Ua.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wb}),If=I.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Jf=Va.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in
a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Ad={},Xb={};"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(a){zd(a,!0)});"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(a){zd(a,
!1)});var pe={eventTypes:Ad,isInteractiveTopLevelEventType:function(a){a=Xb[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Xb[a];if(!e)return null;switch(a){case "topKeyPress":if(0===hb(c))return null;case "topKeyDown":case "topKeyUp":a=Ff;break;case "topBlur":case "topFocus":a=Cf;break;case "topClick":if(2===c.button)return null;case "topDoubleClick":case "topMouseDown":case "topMouseMove":case "topMouseUp":case "topMouseOut":case "topMouseOver":case "topContextMenu":a=
Va;break;case "topDrag":case "topDragEnd":case "topDragEnter":case "topDragExit":case "topDragLeave":case "topDragOver":case "topDragStart":case "topDrop":a=Gf;break;case "topTouchCancel":case "topTouchEnd":case "topTouchMove":case "topTouchStart":a=Hf;break;case "topAnimationEnd":case "topAnimationIteration":case "topAnimationStart":a=Af;break;case "topTransitionEnd":a=If;break;case "topScroll":a=Ua;break;case "topWheel":a=Jf;break;case "topCopy":case "topCut":case "topPaste":a=Bf;break;default:a=
I}b=a.getPooled(e,b,c,d);ya(b);return b}},Bd=pe.isInteractiveTopLevelEventType,jb=[],Ma=!0,Kf=Object.freeze({get _enabled(){return Ma},setEnabled:Yb,isEnabled:function(){return Ma},trapBubbledEvent:y,trapCapturedEvent:S,dispatchEvent:ib}),T={animationend:kb("Animation","AnimationEnd"),animationiteration:kb("Animation","AnimationIteration"),animationstart:kb("Animation","AnimationStart"),transitionend:kb("Transition","TransitionEnd")},Zb={},Ed={};R.canUseDOM&&(Ed=document.createElement("div").style,
"AnimationEvent"in window||(delete T.animationend.animation,delete T.animationiteration.animation,delete T.animationstart.animation),"TransitionEvent"in window||delete T.transitionend.transition);var $d={topAnimationEnd:lb("animationend"),topAnimationIteration:lb("animationiteration"),topAnimationStart:lb("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",
topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",
topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:lb("transitionend"),topWheel:"wheel"},Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",
topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Gd={},af=0,mb="_reactListenersID"+(""+Math.random()).slice(2),Id=function(a){var b=(a?a.ownerDocument||a:document).defaultView||window;return!!(a&&("function"===typeof b.Node?a instanceof b.Node:"object"===typeof a&&
"number"===typeof a.nodeType&&"string"===typeof a.nodeName))&&3==a.nodeType},Lf=R.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Md={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ka=null,dc=null,Na=null,ac=!1,Mf={eventTypes:Md,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=
!e)){a:{e=Fd(e);f=cb.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?xa(b):window;switch(a){case "topFocus":if(fd(e)||"true"===e.contentEditable)ka=e,dc=b,Na=null;break;case "topBlur":Na=dc=ka=null;break;case "topMouseDown":ac=!0;break;case "topContextMenu":case "topMouseUp":return ac=!1,Ld(c,d);case "topSelectionChange":if(Lf)break;case "topKeyDown":case "topKeyUp":return Ld(c,d)}return null}};sc.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));
(function(a){Ib=a.getFiberCurrentPropsFromNode;Zc=a.getInstanceFromNode;Jc=a.getNodeFromInstance})(me);sc.injectEventPluginsByName({SimpleEventPlugin:pe,EnterLeaveEventPlugin:yf,ChangeEventPlugin:xf,SelectEventPlugin:Mf,BeforeInputEventPlugin:vf});var la={},hc=null,ic=null;new Set;var kc=void 0,lc=void 0,Nf=function(a,b,c,d,e){function f(a,b,c,d,e,f){if(null===b||null!==a.updateQueue&&a.updateQueue.hasForceUpdate)return!0;var m=a.stateNode;a=a.type;return"function"===typeof m.shouldComponentUpdate?
m.shouldComponentUpdate(c,e,f):a.prototype&&a.prototype.isPureReactComponent?!cc(b,c)||!cc(d,e):!0}function g(a,b){b.updater=v;a.stateNode=b;b._reactInternalFiber=a}function h(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&v.enqueueReplaceState(b,b.state,null)}function l(a,b,c,d){a=a.type;if("function"===typeof a.getDerivedStateFromProps)return a.getDerivedStateFromProps.call(null,
c,d)}var D=a.cacheContext,m=a.getMaskedContext,w=a.getUnmaskedContext,p=a.isContextConsumer,G=a.hasContextChanged,v={isMounted:Ye,enqueueSetState:function(a,d,e){a=a._reactInternalFiber;e=void 0===e?null:e;var f=c(a);Oa(a,{expirationTime:f,partialState:d,callback:e,isReplace:!1,isForced:!1,capturedValue:null,next:null});b(a,f)},enqueueReplaceState:function(a,d,e){a=a._reactInternalFiber;e=void 0===e?null:e;var f=c(a);Oa(a,{expirationTime:f,partialState:d,callback:e,isReplace:!0,isForced:!1,capturedValue:null,
next:null});b(a,f)},enqueueForceUpdate:function(a,d){a=a._reactInternalFiber;d=void 0===d?null:d;var e=c(a);Oa(a,{expirationTime:e,partialState:null,callback:d,isReplace:!1,isForced:!0,capturedValue:null,next:null});b(a,e)}};return{adoptClassInstance:g,callGetDerivedStateFromProps:l,constructClassInstance:function(a,b){var c=a.type,d=w(a),e=p(a),f=e?m(a,d):la;c=new c(b,f);var h=null!==c.state&&void 0!==c.state?c.state:null;g(a,c);a.memoizedState=h;b=l(a,c,b,h);null!==b&&void 0!==b&&(a.memoizedState=
A({},a.memoizedState,b));e&&D(a,d,f);return c},mountClassInstance:function(a,b){var c=a.type,d=a.alternate,e=a.stateNode,f=a.pendingProps,h=w(a);e.props=f;e.state=a.memoizedState;e.refs=la;e.context=m(a,h);"function"===typeof c.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(c=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&
e.UNSAFE_componentWillMount(),c!==e.state&&v.enqueueReplaceState(e,e.state,null),c=a.updateQueue,null!==c&&(e.state=qb(d,a,c,e,f,b)));"function"===typeof e.componentDidMount&&(a.effectTag|=4)},resumeMountClassInstance:function(a,b){var c=a.type,g=a.stateNode;g.props=a.memoizedProps;g.state=a.memoizedState;var k=a.memoizedProps,v=a.pendingProps,p=g.context,x=w(a);x=m(a,x);(c="function"===typeof c.getDerivedStateFromProps||"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&
"function"!==typeof g.componentWillReceiveProps||(k!==v||p!==x)&&h(a,g,v,x);p=a.memoizedState;b=null!==a.updateQueue?qb(null,a,a.updateQueue,g,v,b):p;var r=void 0;k!==v&&(r=l(a,g,v,b));if(null!==r&&void 0!==r){b=null===b||void 0===b?r:A({},b,r);var q=a.updateQueue;null!==q&&(q.baseState=A({},q.baseState,r))}if(!(k!==v||p!==b||G()||null!==a.updateQueue&&a.updateQueue.hasForceUpdate))return"function"===typeof g.componentDidMount&&(a.effectTag|=4),!1;(k=f(a,k,v,p,b,x))?(c||"function"!==typeof g.UNSAFE_componentWillMount&&
"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===typeof g.componentDidMount&&(a.effectTag|=4)):("function"===typeof g.componentDidMount&&(a.effectTag|=4),d(a,v),e(a,b));g.props=v;g.state=b;g.context=x;return k},updateClassInstance:function(a,b,c){var g=b.type,k=b.stateNode;k.props=b.memoizedProps;k.state=b.memoizedState;var v=b.memoizedProps,p=b.pendingProps,
C=k.context,r=w(b);r=m(b,r);(g="function"===typeof g.getDerivedStateFromProps||"function"===typeof k.getSnapshotBeforeUpdate)||"function"!==typeof k.UNSAFE_componentWillReceiveProps&&"function"!==typeof k.componentWillReceiveProps||(v!==p||C!==r)&&h(b,k,p,r);C=b.memoizedState;c=null!==b.updateQueue?qb(a,b,b.updateQueue,k,p,c):C;var q=void 0;v!==p&&(q=l(b,k,p,c));if(null!==q&&void 0!==q){c=null===c||void 0===c?q:A({},c,q);var n=b.updateQueue;null!==n&&(n.baseState=A({},n.baseState,q))}if(!(v!==p||
C!==c||G()||null!==b.updateQueue&&b.updateQueue.hasForceUpdate))return"function"!==typeof k.componentDidUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=4),"function"!==typeof k.getSnapshotBeforeUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=2048),!1;(q=f(b,v,p,C,c,r))?(g||"function"!==typeof k.UNSAFE_componentWillUpdate&&"function"!==typeof k.componentWillUpdate||("function"===typeof k.componentWillUpdate&&k.componentWillUpdate(p,c,r),"function"===typeof k.UNSAFE_componentWillUpdate&&
k.UNSAFE_componentWillUpdate(p,c,r)),"function"===typeof k.componentDidUpdate&&(b.effectTag|=4),"function"===typeof k.getSnapshotBeforeUpdate&&(b.effectTag|=2048)):("function"!==typeof k.componentDidUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=4),"function"!==typeof k.getSnapshotBeforeUpdate||v===a.memoizedProps&&C===a.memoizedState||(b.effectTag|=2048),d(b,p),e(b,c));k.props=p;k.state=c;k.context=r;return q}}},tb=Array.isArray,xb=Td(!0),yc=Td(!1),Qf=function(a,b,c,d,e,f,g){function h(a,
b,c){k(a,b,c,b.expirationTime)}function k(a,b,c,d){b.child=null===a?yc(b,null,c,d):xb(b,a.child,c,d)}function D(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function m(a,b,c,d,e,f){D(a,b);if(!c&&!e)return d&&n(b,!1),v(a,b);c=b.stateNode;tc.current=b;var m=e?null:c.render();b.effectTag|=1;e&&(k(a,b,null,f),b.child=null);k(a,b,m,f);b.memoizedState=c.state;b.memoizedProps=c.props;d&&n(b,!0);return b.child}function w(a){var b=a.stateNode;b.pendingContext?q(a,b.pendingContext,
b.pendingContext!==b.context):b.context&&q(a,b.context,!1);y(a,b.containerInfo)}function p(a,b,c,d){var e=a.child;for(null!==e&&(e["return"]=a);null!==e;){switch(e.tag){case 12:var f=e.stateNode|0;if(e.type===b&&0!==(f&c)){for(f=e;null!==f;){var m=f.alternate;if(0===f.expirationTime||f.expirationTime>d)f.expirationTime=d,null!==m&&(0===m.expirationTime||m.expirationTime>d)&&(m.expirationTime=d);else if(null!==m&&(0===m.expirationTime||m.expirationTime>d))m.expirationTime=d;else break;f=f["return"]}f=
null}else f=e.child;break;case 13:f=e.type===a.type?null:e.child;break;default:f=e.child}if(null!==f)f["return"]=e;else for(f=e;null!==f;){if(f===a){f=null;break}e=f.sibling;if(null!==e){f=e;break}f=f["return"]}e=f}}function G(a,b,c){var d=b.type._context,e=b.pendingProps,f=b.memoizedProps;if(!Aa()&&f===e)return b.stateNode=0,z(b),v(a,b);var m=e.value;b.memoizedProps=e;if(null===f)m=1073741823;else if(f.value===e.value){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b);m=0}else{var g=f.value;
if(g===m&&(0!==g||1/g===1/m)||g!==g&&m!==m){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b);m=0}else if(m="function"===typeof d._calculateChangedBits?d._calculateChangedBits(g,m):1073741823,m|=0,0===m){if(f.children===e.children)return b.stateNode=0,z(b),v(a,b)}else p(b,d,m,c)}b.stateNode=m;z(b);h(a,b,e.children);return b.child}function v(a,b){null!==a&&b.child!==a.child?l("153"):void 0;if(null!==b.child){a=b.child;var c=nb(a,a.pendingProps,a.expirationTime);b.child=c;for(c["return"]=
b;null!==a.sibling;)a=a.sibling,c=c.sibling=nb(a,a.pendingProps,a.expirationTime),c["return"]=b;c.sibling=null}return b.child}var C=a.shouldSetTextContent,x=a.shouldDeprioritizeSubtree,t=b.pushHostContext,y=b.pushHostContainer,z=d.pushProvider,B=c.getMaskedContext,F=c.getUnmaskedContext,Aa=c.hasContextChanged,r=c.pushContextProvider,q=c.pushTopLevelContextObject,n=c.invalidateContextProvider,gf=e.enterHydrationState,E=e.resetHydrationState,qe=e.tryToClaimNextHydratableInstance;a=Nf(c,f,g,function(a,
b){a.memoizedProps=b},function(a,b){a.memoizedState=b});var Of=a.adoptClassInstance,Pf=a.callGetDerivedStateFromProps,H=a.constructClassInstance,re=a.mountClassInstance,I=a.resumeMountClassInstance,J=a.updateClassInstance;return{beginWork:function(a,b,c){if(0===b.expirationTime||b.expirationTime>c){switch(b.tag){case 3:w(b);break;case 2:r(b);break;case 4:y(b,b.stateNode.containerInfo);break;case 13:z(b)}return null}switch(b.tag){case 0:null!==a?l("155"):void 0;var d=b.type,e=b.pendingProps,f=F(b);
f=B(b,f);d=d(e,f);b.effectTag|=1;"object"===typeof d&&null!==d&&"function"===typeof d.render&&void 0===d.$$typeof?(f=b.type,b.tag=2,b.memoizedState=null!==d.state&&void 0!==d.state?d.state:null,"function"===typeof f.getDerivedStateFromProps&&(e=Pf(b,d,e,b.memoizedState),null!==e&&void 0!==e&&(b.memoizedState=A({},b.memoizedState,e))),e=r(b),Of(b,d),re(b,c),a=m(a,b,!0,e,!1,c)):(b.tag=1,h(a,b,d),b.memoizedProps=e,a=b.child);return a;case 1:return e=b.type,c=b.pendingProps,Aa()||b.memoizedProps!==c?
(d=F(b),d=B(b,d),e=e(c,d),b.effectTag|=1,h(a,b,e),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 2:e=r(b);null===a?null===b.stateNode?(H(b,b.pendingProps),re(b,c),d=!0):d=I(b,c):d=J(a,b,c);f=!1;var g=b.updateQueue;null!==g&&null!==g.capturedValues&&(f=d=!0);return m(a,b,d,e,f,c);case 3:a:if(w(b),d=b.updateQueue,null!==d){f=b.memoizedState;e=qb(a,b,d,null,null,c);b.memoizedState=e;d=b.updateQueue;if(null!==d&&null!==d.capturedValues)d=null;else if(f===e){E();a=v(a,b);break a}else d=e.element;f=b.stateNode;
(null===a||null===a.child)&&f.hydrate&&gf(b)?(b.effectTag|=2,b.child=yc(b,null,d,c)):(E(),h(a,b,d));b.memoizedState=e;a=b.child}else E(),a=v(a,b);return a;case 5:a:{t(b);null===a&&qe(b);e=b.type;g=b.memoizedProps;d=b.pendingProps;f=null!==a?a.memoizedProps:null;if(!Aa()&&g===d){if(g=b.mode&1&&x(e,d))b.expirationTime=1073741823;if(!g||1073741823!==c){a=v(a,b);break a}}g=d.children;C(e,d)?g=null:f&&C(e,f)&&(b.effectTag|=16);D(a,b);1073741823!==c&&b.mode&1&&x(e,d)?(b.expirationTime=1073741823,b.memoizedProps=
d,a=null):(h(a,b,g),b.memoizedProps=d,a=b.child)}return a;case 6:return null===a&&qe(b),b.memoizedProps=b.pendingProps,null;case 8:b.tag=7;case 7:return e=b.pendingProps,Aa()||b.memoizedProps!==e||(e=b.memoizedProps),d=e.children,b.stateNode=null===a?yc(b,b.stateNode,d,c):xb(b,a.stateNode,d,c),b.memoizedProps=e,b.stateNode;case 9:return null;case 4:return y(b,b.stateNode.containerInfo),e=b.pendingProps,Aa()||b.memoizedProps!==e?(null===a?b.child=xb(b,null,e,c):h(a,b,e),b.memoizedProps=e,a=b.child):
a=v(a,b),a;case 14:return c=b.type.render,c=c(b.pendingProps,b.ref),h(a,b,c),b.memoizedProps=c,b.child;case 10:return c=b.pendingProps,Aa()||b.memoizedProps!==c?(h(a,b,c),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 11:return c=b.pendingProps.children,Aa()||null!==c&&b.memoizedProps!==c?(h(a,b,c),b.memoizedProps=c,a=b.child):a=v(a,b),a;case 13:return G(a,b,c);case 12:a:{d=b.type;f=b.pendingProps;g=b.memoizedProps;e=d._currentValue;var n=d._changedBits;if(Aa()||0!==n||g!==f){b.memoizedProps=f;var q=
f.unstable_observedBits;if(void 0===q||null===q)q=1073741823;b.stateNode=q;if(0!==(n&q))p(b,d,n,c);else if(g===f){a=v(a,b);break a}c=f.children;c=c(e);h(a,b,c);a=b.child}else a=v(a,b)}return a;default:l("156")}}}},Rf=function(a,b,c,d,e){function f(a){a.effectTag|=4}var g=a.createInstance,h=a.createTextInstance,k=a.appendInitialChild,D=a.finalizeInitialChildren,m=a.prepareUpdate,w=a.persistence,p=b.getRootHostContainer,G=b.popHostContext,v=b.getHostContext,C=b.popHostContainer,x=c.popContextProvider,
t=c.popTopLevelContextObject,y=d.popProvider,z=e.prepareToHydrateHostInstance,B=e.prepareToHydrateHostTextInstance,A=e.popHydrationState,F=void 0,r=void 0,q=void 0;a.mutation?(F=function(a){},r=function(a,b,c,d,e,m,g,h){(b.updateQueue=c)&&f(b)},q=function(a,b,c,d){c!==d&&f(b)}):w?l("235"):l("236");return{completeWork:function(a,b,c){var d=b.pendingProps;switch(b.tag){case 1:return null;case 2:return x(b),a=b.stateNode,d=b.updateQueue,null!==d&&null!==d.capturedValues&&(b.effectTag&=-65,"function"===
typeof a.componentDidCatch?b.effectTag|=256:d.capturedValues=null),null;case 3:C(b);t(b);d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)A(b),b.effectTag&=-3;F(b);a=b.updateQueue;null!==a&&null!==a.capturedValues&&(b.effectTag|=256);return null;case 5:G(b);c=p();var e=b.type;if(null!==a&&null!=b.stateNode){var n=a.memoizedProps,w=b.stateNode,E=v();w=m(w,e,n,d,c,E);r(a,b,w,e,n,d,c,E);a.ref!==b.ref&&(b.effectTag|=128)}else{if(!d)return null===
b.stateNode?l("166"):void 0,null;a=v();if(A(b))z(b,c,a)&&f(b);else{n=g(e,d,c,a,b);a:for(E=b.child;null!==E;){if(5===E.tag||6===E.tag)k(n,E.stateNode);else if(4!==E.tag&&null!==E.child){E.child["return"]=E;E=E.child;continue}if(E===b)break;for(;null===E.sibling;){if(null===E["return"]||E["return"]===b)break a;E=E["return"]}E.sibling["return"]=E["return"];E=E.sibling}D(n,e,d,c,a)&&f(b);b.stateNode=n}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)q(a,b,a.memoizedProps,d);
else{if("string"!==typeof d)return null===b.stateNode?l("166"):void 0,null;a=p();c=v();A(b)?B(b)&&f(b):b.stateNode=h(d,a,c,b)}return null;case 7:(d=b.memoizedProps)?void 0:l("165");b.tag=8;e=[];a:for((n=b.stateNode)&&(n["return"]=b);null!==n;){if(5===n.tag||6===n.tag||4===n.tag)l("247");else if(9===n.tag)e.push(n.pendingProps.value);else if(null!==n.child){n.child["return"]=n;n=n.child;continue}for(;null===n.sibling;){if(null===n["return"]||n["return"]===b)break a;n=n["return"]}n.sibling["return"]=
n["return"];n=n.sibling}n=d.handler;d=n(d.props,e);b.child=xb(b,null!==a?a.child:null,d,c);return b.child;case 8:return b.tag=7,null;case 9:return null;case 14:return null;case 10:return null;case 11:return null;case 4:return C(b),F(b),null;case 13:return y(b),null;case 12:return null;case 0:l("167");default:l("156")}}}},Sf=function(a,b,c,d,e){var f=a.popHostContainer,g=a.popHostContext,h=b.popContextProvider,k=b.popTopLevelContextObject,l=c.popProvider;return{throwException:function(a,b,c){b.effectTag|=
512;b.firstEffect=b.lastEffect=null;b={value:c,source:b,stack:Qb(b)};do{switch(a.tag){case 3:jc(a);a.updateQueue.capturedValues=[b];a.effectTag|=1024;return;case 2:if(c=a.stateNode,0===(a.effectTag&64)&&null!==c&&"function"===typeof c.componentDidCatch&&!e(c)){jc(a);c=a.updateQueue;var d=c.capturedValues;null===d?c.capturedValues=[b]:d.push(b);a.effectTag|=1024;return}}a=a["return"]}while(null!==a)},unwindWork:function(a){switch(a.tag){case 2:h(a);var b=a.effectTag;return b&1024?(a.effectTag=b&-1025|
64,a):null;case 3:return f(a),k(a),b=a.effectTag,b&1024?(a.effectTag=b&-1025|64,a):null;case 5:return g(a),null;case 4:return f(a),null;case 13:return l(a),null;default:return null}},unwindInterruptedWork:function(a){switch(a.tag){case 2:h(a);break;case 3:f(a);k(a);break;case 5:g(a);break;case 4:f(a);break;case 13:l(a)}}}},Tf=function(a,b,c,d,e,f){function g(a){var c=a.ref;if(null!==c)if("function"===typeof c)try{c(null)}catch(n){b(a,n)}else c.current=null}function h(a){"function"===typeof Pd&&Pd(a);
switch(a.tag){case 2:g(a);var c=a.stateNode;if("function"===typeof c.componentWillUnmount)try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(n){b(a,n)}break;case 5:g(a);break;case 7:k(a.stateNode);break;case 4:p&&m(a)}}function k(a){for(var b=a;;)if(h(b),null===b.child||p&&4===b.tag){if(b===a)break;for(;null===b.sibling;){if(null===b["return"]||b["return"]===a)return;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}else b.child["return"]=b,b=b.child}function D(a){return 5===
a.tag||3===a.tag||4===a.tag}function m(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b["return"];a:for(;;){null===c?l("160"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c["return"]}c=!0}if(5===b.tag||6===b.tag)k(b),e?F(d,b.stateNode):B(d,b.stateNode);else if(4===b.tag?d=b.stateNode.containerInfo:h(b),null!==b.child){b.child["return"]=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===
b["return"]||b["return"]===a)return;b=b["return"];4===b.tag&&(c=!1)}b.sibling["return"]=b["return"];b=b.sibling}}var w=a.getPublicInstance,p=a.mutation;a=a.persistence;p||(a?l("235"):l("236"));var G=p.commitMount,v=p.commitUpdate,C=p.resetTextContent,x=p.commitTextUpdate,t=p.appendChild,y=p.appendChildToContainer,z=p.insertBefore,A=p.insertInContainerBefore,B=p.removeChild,F=p.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(a,b){switch(b.tag){case 2:if(b.effectTag&2048&&null!==
a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;a.props=b.memoizedProps;a.state=b.memoizedState;b=a.getSnapshotBeforeUpdate(c,d);a.__reactInternalSnapshotBeforeUpdate=b}break;case 3:case 5:case 6:case 4:break;default:l("163")}},commitResetTextContent:function(a){C(a.stateNode)},commitPlacement:function(a){a:{for(var b=a["return"];null!==b;){if(D(b)){var c=b;break a}b=b["return"]}l("160");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;
d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:l("161")}c.effectTag&16&&(C(b),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c["return"]||D(c["return"])){c=null;break a}c=c["return"]}c.sibling["return"]=c["return"];for(c=c.sibling;5!==c.tag&&6!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child["return"]=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)c?d?A(b,e.stateNode,c):
z(b,e.stateNode,c):d?y(b,e.stateNode):t(b,e.stateNode);else if(4!==e.tag&&null!==e.child){e.child["return"]=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e["return"]||e["return"]===a)return;e=e["return"]}e.sibling["return"]=e["return"];e=e.sibling}},commitDeletion:function(a){m(a);a["return"]=null;a.child=null;a.alternate&&(a.alternate.child=null,a.alternate["return"]=null)},commitWork:function(a,b){switch(b.tag){case 2:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;
a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&v(c,f,e,a,d,b)}break;case 6:null===b.stateNode?l("162"):void 0;c=b.memoizedProps;x(b.stateNode,null!==a?a.memoizedProps:c,c);break;case 3:break;default:l("163")}},commitLifeCycles:function(a,b,c,d,e){switch(c.tag){case 2:a=c.stateNode;c.effectTag&4&&(null===b?(a.props=c.memoizedProps,a.state=c.memoizedState,a.componentDidMount()):(d=b.memoizedProps,b=b.memoizedState,a.props=c.memoizedProps,a.state=c.memoizedState,
a.componentDidUpdate(d,b,a.__reactInternalSnapshotBeforeUpdate)));c=c.updateQueue;null!==c&&Sd(c,a);break;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=w(c.child.stateNode);break;case 2:a=c.child.stateNode}Sd(b,a)}break;case 5:a=c.stateNode;null===b&&c.effectTag&4&&G(a,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;default:l("163")}},commitErrorLogging:function(a,b){switch(a.tag){case 2:var c=a.type;b=a.stateNode;var d=a.updateQueue;null===d||
null===d.capturedValues?l("264"):void 0;var f=d.capturedValues;d.capturedValues=null;"function"!==typeof c.getDerivedStateFromCatch&&e(b);b.props=a.memoizedProps;b.state=a.memoizedState;for(c=0;c<f.length;c++){d=f[c];var m=d.value,g=d.stack;Ud(a,d);b.componentDidCatch(m,{componentStack:null!==g?g:""})}break;case 3:c=a.updateQueue;null===c||null===c.capturedValues?l("264"):void 0;f=c.capturedValues;c.capturedValues=null;for(c=0;c<f.length;c++)d=f[c],Ud(a,d),b(d.value);break;default:l("265")}},commitAttachRef:function(a){var b=
a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=w(c);break;default:a=c}"function"===typeof b?b(a):b.current=a}},commitDetachRef:function(a){a=a.ref;null!==a&&("function"===typeof a?a(null):a.current=null)}}},Wa={},Uf=function(a,b){function c(a){a===Wa?l("174"):void 0;return a}var d=a.getChildHostContext,e=a.getRootHostContext;a=b.createCursor;var f=b.push,g=b.pop,h=a(Wa),k=a(Wa),D=a(Wa);return{getHostContext:function(){return c(h.current)},getRootHostContainer:function(){return c(D.current)},
popHostContainer:function(a){g(h,a);g(k,a);g(D,a)},popHostContext:function(a){k.current===a&&(g(h,a),g(k,a))},pushHostContainer:function(a,b){f(D,b,a);f(k,a,a);f(h,Wa,a);b=e(b);g(h,a);f(h,b,a)},pushHostContext:function(a){var b=c(D.current),e=c(h.current);b=d(e,a.type,b);e!==b&&(f(k,a,a),f(h,b,a))}}},Vf=function(a){function b(a,b){var c=new sa(5,null,null,0);c.type="DELETED";c.stateNode=b;c["return"]=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=
c}function c(a,b){switch(a.tag){case 5:return b=f(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=g(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;default:return!1}}function d(a){for(a=a["return"];null!==a&&5!==a.tag&&3!==a.tag;)a=a["return"];w=a}var e=a.shouldSetTextContent;a=a.hydration;if(!a)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){l("175")},prepareToHydrateHostTextInstance:function(){l("176")},
popHydrationState:function(a){return!1}};var f=a.canHydrateInstance,g=a.canHydrateTextInstance,h=a.getNextHydratableSibling,k=a.getFirstHydratableChild,D=a.hydrateInstance,m=a.hydrateTextInstance,w=null,p=null,G=!1;return{enterHydrationState:function(a){p=k(a.stateNode.containerInfo);w=a;return G=!0},resetHydrationState:function(){p=w=null;G=!1},tryToClaimNextHydratableInstance:function(a){if(G){var d=p;if(d){if(!c(a,d)){d=h(d);if(!d||!c(a,d)){a.effectTag|=2;G=!1;w=a;return}b(w,p)}w=a;p=k(d)}else a.effectTag|=
2,G=!1,w=a}},prepareToHydrateHostInstance:function(a,b,c){b=D(a.stateNode,a.type,a.memoizedProps,b,c,a);a.updateQueue=b;return null!==b?!0:!1},prepareToHydrateHostTextInstance:function(a){return m(a.stateNode,a.memoizedProps,a)},popHydrationState:function(a){if(a!==w)return!1;if(!G)return d(a),G=!0,!1;var c=a.type;if(5!==a.tag||"head"!==c&&"body"!==c&&!e(c,a.memoizedProps))for(c=p;c;)b(a,c),c=h(c);d(a);p=w?h(a.stateNode):null;return!0}}},Wf=function(a){function b(a,b,c){a=a.stateNode;a.__reactInternalMemoizedUnmaskedChildContext=
b;a.__reactInternalMemoizedMaskedChildContext=c}function c(a){return 2===a.tag&&null!=a.type.childContextTypes}function d(a,b){var c=a.stateNode,d=a.type.childContextTypes;if("function"!==typeof c.getChildContext)return b;c=c.getChildContext();for(var e in c)e in d?void 0:l("108",Ia(a)||"Unknown",e);return A({},b,c)}var e=a.createCursor,f=a.push,g=a.pop,h=e(la),k=e(!1),D=la;return{getUnmaskedContext:function(a){return c(a)?D:h.current},cacheContext:b,getMaskedContext:function(a,c){var d=a.type.contextTypes;
if(!d)return la;var e=a.stateNode;if(e&&e.__reactInternalMemoizedUnmaskedChildContext===c)return e.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in d)f[g]=c[g];e&&b(a,c,f);return f},hasContextChanged:function(){return k.current},isContextConsumer:function(a){return 2===a.tag&&null!=a.type.contextTypes},isContextProvider:c,popContextProvider:function(a){c(a)&&(g(k,a),g(h,a))},popTopLevelContextObject:function(a){g(k,a);g(h,a)},pushTopLevelContextObject:function(a,b,c){null!=h.cursor?l("168"):
void 0;f(h,b,a);f(k,c,a)},processChildContext:d,pushContextProvider:function(a){if(!c(a))return!1;var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||la;D=h.current;f(h,b,a);f(k,k.current,a);return!0},invalidateContextProvider:function(a,b){var c=a.stateNode;c?void 0:l("169");if(b){var e=d(a,D);c.__reactInternalMemoizedMergedChildContext=e;g(k,a);g(h,a);f(h,e,a)}else g(k,a);f(k,b,a)},findCurrentUnmaskedContext:function(a){for(2!==La(a)||2!==a.tag?l("170"):void 0;3!==a.tag;){if(c(a))return a.stateNode.__reactInternalMemoizedMergedChildContext;
(a=a["return"])?void 0:l("171")}return a.stateNode.context}}},Xf=function(a){var b=a.createCursor,c=a.push,d=a.pop,e=b(null),f=b(null),g=b(0);return{pushProvider:function(a){var b=a.type._context;c(g,b._changedBits,a);c(f,b._currentValue,a);c(e,a,a);b._currentValue=a.pendingProps.value;b._changedBits=a.stateNode},popProvider:function(a){var b=g.current,c=f.current;d(e,a);d(f,a);d(g,a);a=a.type._context;a._currentValue=c;a._changedBits=b}}},Yf=function(){var a=[],b=-1;return{createCursor:function(a){return{current:a}},
isEmpty:function(){return-1===b},pop:function(c,d){0>b||(c.current=a[b],a[b]=null,b--)},push:function(c,d,e){b++;a[b]=c.current;c.current=d},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}},$f=function(a){function b(){if(null!==K)for(var a=K["return"];null!==a;)Q(a),a=a["return"];S=null;na=0;K=null;ka=!1}function c(a){return null!==O&&O.has(a)}function d(a){for(;;){var b=a.alternate,c=a["return"],d=a.sibling;if(0===(a.effectTag&512)){b=J(b,a,na);var e=a;if(1073741823===
na||1073741823!==e.expirationTime){b:switch(e.tag){case 3:case 2:var f=e.updateQueue;f=null===f?0:f.expirationTime;break b;default:f=0}for(var g=e.child;null!==g;)0!==g.expirationTime&&(0===f||f>g.expirationTime)&&(f=g.expirationTime),g=g.sibling;e.expirationTime=f}if(null!==b)return b;null!==c&&0===(c.effectTag&512)&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==
c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a));if(null!==d)return d;if(null!==c)a=c;else{ka=!0;break}}else{a=P(a);if(null!==a)return a.effectTag&=2559,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=512);if(null!==d)return d;if(null!==c)a=c;else break}}return null}function e(a){var b=E(a.alternate,a,na);null===b&&(b=d(a));tc.current=null;return b}function f(a,c,f){ta?l("243"):void 0;ta=!0;if(c!==na||a!==S||null===K)b(),S=a,na=c,K=nb(S.current,null,na),a.pendingCommitExpirationTime=
0;var g=!1;do{try{if(f)for(;null!==K&&!F();)K=e(K);else for(;null!==K;)K=e(K)}catch(zc){if(null===K){g=!0;H(zc);break}f=K;var h=f["return"];if(null===h){g=!0;H(zc);break}M(h,f,zc);K=d(f)}break}while(1);ta=!1;if(g||null!==K)return null;if(ka)return a.pendingCommitExpirationTime=c,a.current.alternate;l("262")}function g(a,b,c,d){a={value:c,source:a,stack:Qb(a)};Oa(b,{expirationTime:d,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:a,next:null});D(b,d)}function h(a,b){a:{ta&&!T?
l("263"):void 0;for(var d=a["return"];null!==d;){switch(d.tag){case 2:var e=d.stateNode;if("function"===typeof d.type.getDerivedStateFromCatch||"function"===typeof e.componentDidCatch&&!c(e)){g(a,d,b,1);a=void 0;break a}break;case 3:g(a,d,b,1);a=void 0;break a}d=d["return"]}3===a.tag&&g(a,a,b,1);a=void 0}return a}function k(a){a=0!==Ba?Ba:ta?T?1:na:a.mode&1?Fa?10*(((m()+15)/10|0)+1):25*(((m()+500)/25|0)+1):1;Fa&&(0===ua||a>ua)&&(ua=a);return a}function D(a,c){a:{for(;null!==a;){if(0===a.expirationTime||
a.expirationTime>c)a.expirationTime=c;null!==a.alternate&&(0===a.alternate.expirationTime||a.alternate.expirationTime>c)&&(a.alternate.expirationTime=c);if(null===a["return"])if(3===a.tag){var d=a.stateNode;!ta&&0!==na&&c<na&&b();ta&&!T&&S===d||y(d,c);ha>Ca&&l("185")}else{c=void 0;break a}a=a["return"]}c=void 0}return c}function m(){ra=ba()-ia;return za=(ra/10|0)+2}function w(a,b,c,d,e){var f=Ba;Ba=1;try{return a(b,c,d,e)}finally{Ba=f}}function p(a){if(0!==Z){if(a>Z)return;wa(ma)}var b=ba()-ia;Z=
a;ma=va(C,{timeout:10*(a-2)-b})}function y(a,b){if(null===a.nextScheduledRoot)a.remainingExpirationTime=b,null===N?(Ea=N=a,a.nextScheduledRoot=a):(N=N.nextScheduledRoot=a,N.nextScheduledRoot=Ea);else{var c=a.remainingExpirationTime;if(0===c||b<c)a.remainingExpirationTime=b}da||(L?fa&&(oa=a,W=1,A(a,1,!1)):1===b?x():p(b))}function v(){var a=0,b=null;if(null!==N)for(var c=N,d=Ea;null!==d;){var e=d.remainingExpirationTime;if(0===e){null===c||null===N?l("244"):void 0;if(d===d.nextScheduledRoot){Ea=N=d.nextScheduledRoot=
null;break}else if(d===Ea)Ea=e=d.nextScheduledRoot,N.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===N){N=c;N.nextScheduledRoot=Ea;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{if(0===a||e<a)a=e,b=d;if(d===N)break;c=d;d=d.nextScheduledRoot}}c=oa;null!==c&&c===b&&1===a?ha++:ha=0;oa=b;W=a}function C(a){t(0,!0,a)}function x(){t(1,!1,null)}function t(a,b,c){X=c;v();if(b)for(;null!==oa&&0!==W&&(0===a||a>=W)&&(!aa||
m()>=W);)A(oa,W,!aa),v();else for(;null!==oa&&0!==W&&(0===a||a>=W);)A(oa,W,!1),v();null!==X&&(Z=0,ma=-1);0!==W&&p(W);X=null;aa=!1;z()}function z(){ha=0;if(null!==Ga){var a=Ga;Ga=null;for(var b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(Zf){Ha||(Ha=!0,ea=Zf)}}}if(Ha)throw a=ea,ea=null,Ha=!1,a;}function A(a,b,c){da?l("245"):void 0;da=!0;c?(c=a.finishedWork,null!==c?B(a,c,b):(a.finishedWork=null,c=f(a,b,!0),null!==c&&(F()?a.finishedWork=c:B(a,c,b)))):(c=a.finishedWork,null!==c?B(a,c,b):(a.finishedWork=
null,c=f(a,b,!1),null!==c&&B(a,c,b)));da=!1}function B(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime<=c&&(null===Ga?Ga=[d]:Ga.push(d),d._defer)){a.finishedWork=b;a.remainingExpirationTime=0;return}a.finishedWork=null;T=ta=!0;c=b.stateNode;c.current===b?l("177"):void 0;d=c.pendingCommitExpirationTime;0===d?l("261"):void 0;c.pendingCommitExpirationTime=0;var e=m();tc.current=null;if(1<b.effectTag)if(null!==b.lastEffect){b.lastEffect.nextEffect=b;var f=b.firstEffect}else f=b;else f=b.firstEffect;
xa(c.containerInfo);for(u=f;null!==u;){var g=!1,k=void 0;try{for(;null!==u;)u.effectTag&2048&&R(u.alternate,u),u=u.nextEffect}catch(Xa){g=!0,k=Xa}g&&(null===u?l("178"):void 0,h(u,k),null!==u&&(u=u.nextEffect))}for(u=f;null!==u;){g=!1;k=void 0;try{for(;null!==u;){var n=u.effectTag;n&16&&V(u);if(n&128){var p=u.alternate;null!==p&&sa(p)}switch(n&14){case 2:U(u);u.effectTag&=-3;break;case 6:U(u);u.effectTag&=-3;Y(u.alternate,u);break;case 4:Y(u.alternate,u);break;case 8:ca(u)}u=u.nextEffect}}catch(Xa){g=
!0,k=Xa}g&&(null===u?l("178"):void 0,h(u,k),null!==u&&(u=u.nextEffect))}ya(c.containerInfo);c.current=b;for(u=f;null!==u;){n=!1;p=void 0;try{for(f=c,g=e,k=d;null!==u;){var w=u.effectTag;w&36&&la(f,u.alternate,u,g,k);w&256&&pa(u,H);w&128&&qa(u);var q=u.nextEffect;u.nextEffect=null;u=q}}catch(Xa){n=!0,p=Xa}n&&(null===u?l("178"):void 0,h(u,p),null!==u&&(u=u.nextEffect))}ta=T=!1;"function"===typeof Od&&Od(b.stateNode);b=c.current.expirationTime;0===b&&(O=null);a.remainingExpirationTime=b}function F(){return null===
X||X.timeRemaining()>Da?!1:aa=!0}function H(a){null===oa?l("246"):void 0;oa.remainingExpirationTime=0;Ha||(Ha=!0,ea=a)}var r=Yf(),q=Uf(a,r),n=Wf(r);r=Xf(r);var I=Vf(a),E=Qf(a,q,n,r,I,D,k).beginWork,J=Rf(a,q,n,r,I).completeWork;q=Sf(q,n,r,D,c);var M=q.throwException,P=q.unwindWork,Q=q.unwindInterruptedWork;q=Tf(a,h,D,k,function(a){null===O?O=new Set([a]):O.add(a)},m);var R=q.commitBeforeMutationLifeCycles,V=q.commitResetTextContent,U=q.commitPlacement,ca=q.commitDeletion,Y=q.commitWork,la=q.commitLifeCycles,
pa=q.commitErrorLogging,qa=q.commitAttachRef,sa=q.commitDetachRef,ba=a.now,va=a.scheduleDeferredCallback,wa=a.cancelDeferredCallback,xa=a.prepareForCommit,ya=a.resetAfterCommit,ia=ba(),za=2,ra=ia,ja=0,Ba=0,ta=!1,K=null,S=null,na=0,u=null,T=!1,ka=!1,O=null,Ea=null,N=null,Z=0,ma=-1,da=!1,oa=null,W=0,ua=0,aa=!1,Ha=!1,ea=null,X=null,L=!1,fa=!1,Fa=!1,Ga=null,Ca=1E3,ha=0,Da=1;return{recalculateCurrentTime:m,computeExpirationForFiber:k,scheduleWork:D,requestWork:y,flushRoot:function(a,b){da?l("253"):void 0;
oa=a;W=b;A(a,b,!1);x();z()},batchedUpdates:function(a,b){var c=L;L=!0;try{return a(b)}finally{(L=c)||da||x()}},unbatchedUpdates:function(a,b){if(L&&!fa){fa=!0;try{return a(b)}finally{fa=!1}}return a(b)},flushSync:function(a,b){da?l("187"):void 0;var c=L;L=!0;try{return w(a,b)}finally{L=c,x()}},flushControlled:function(a){var b=L;L=!0;try{w(a)}finally{(L=b)||da||t(1,!1,null)}},deferredUpdates:function(a){var b=Ba;Ba=25*(((m()+500)/25|0)+1);try{return a()}finally{Ba=b}},syncUpdates:w,interactiveUpdates:function(a,
b,c){if(Fa)return a(b,c);L||da||0===ua||(t(ua,!1,null),ua=0);var d=Fa,e=L;L=Fa=!0;try{return a(b,c)}finally{Fa=d,(L=e)||da||x()}},flushInteractiveUpdates:function(){da||0===ua||(t(ua,!1,null),ua=0)},computeUniqueAsyncExpiration:function(){var a=25*(((m()+500)/25|0)+1);a<=ja&&(a=ja+1);return ja=a},legacyContext:n}},se=function(a){function b(a,b,c,d,e,g){d=b.current;if(c){c=c._reactInternalFiber;var m=h(c);c=k(c)?y(c,m):m}else c=la;null===b.context?b.context=c:b.pendingContext=c;b=g;Oa(d,{expirationTime:e,
partialState:{element:a},callback:void 0===b?null:b,isReplace:!1,isForced:!1,capturedValue:null,next:null});f(d,e);return e}var c=a.getPublicInstance;a=$f(a);var d=a.recalculateCurrentTime,e=a.computeExpirationForFiber,f=a.scheduleWork,g=a.legacyContext,h=g.findCurrentUnmaskedContext,k=g.isContextProvider,y=g.processChildContext;return{createContainer:function(a,b,c){b=new sa(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,
pendingContext:null,hydrate:c,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null};return b.stateNode=a},updateContainer:function(a,c,f,g){var h=c.current,k=d();h=e(h);return b(a,c,f,k,h,g)},updateContainerAtExpirationTime:function(a,c,e,f,g){var h=d();return b(a,c,e,h,f,g)},flushRoot:a.flushRoot,requestWork:a.requestWork,computeUniqueAsyncExpiration:a.computeUniqueAsyncExpiration,batchedUpdates:a.batchedUpdates,unbatchedUpdates:a.unbatchedUpdates,deferredUpdates:a.deferredUpdates,syncUpdates:a.syncUpdates,
interactiveUpdates:a.interactiveUpdates,flushInteractiveUpdates:a.flushInteractiveUpdates,flushControlled:a.flushControlled,flushSync:a.flushSync,getPublicRootInstance:function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return c(a.child.stateNode);default:return a.child.stateNode}},findHostInstance:function(a){var b=a._reactInternalFiber;void 0===b&&("function"===typeof a.render?l("188"):l("268",Object.keys(a)));a=yd(b);return null===a?null:a.stateNode},findHostInstanceWithNoPortals:function(a){a=
Ze(a);return null===a?null:a.stateNode},injectIntoDevTools:function(a){var b=a.findFiberByHostInstance;return ff(A({},a,{findHostInstanceByFiber:function(a){a=yd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))}}},te=Object.freeze({default:se}),Ac=te&&se||te,ag=Ac["default"]?Ac["default"]:Ac,ue="object"===typeof performance&&"function"===typeof performance.now,yb=void 0;yb=ue?function(){return performance.now()}:function(){return Date.now()};var zb=void 0,
Ab=void 0;if(R.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Bb=null,Cb=!1,Ya=-1,Za=!1,$a=0,Db=33,ab=33,Eb=void 0;Eb=ue?{didTimeout:!1,timeRemaining:function(){var a=$a-performance.now();return 0<a?a:0}}:{didTimeout:!1,timeRemaining:function(){var a=$a-Date.now();return 0<a?a:0}};var ve="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(a){if(a.source===window&&a.data===ve){Cb=!1;a=yb();if(0>=$a-
a)if(-1!==Ya&&Ya<=a)Eb.didTimeout=!0;else{Za||(Za=!0,requestAnimationFrame(we));return}else Eb.didTimeout=!1;Ya=-1;a=Bb;Bb=null;null!==a&&a(Eb)}},!1);var we=function(a){Za=!1;var b=a-$a+ab;b<ab&&Db<ab?(8>b&&(b=8),ab=b<Db?Db:b):Db=b;$a=a+ab;Cb||(Cb=!0,window.postMessage(ve,"*"))};zb=function(a,b){Bb=a;null!=b&&"number"===typeof b.timeout&&(Ya=yb()+b.timeout);Za||(Za=!0,requestAnimationFrame(we));return 0};Ab=function(){Bb=null;Cb=!1;Ya=-1}}else zb=window.requestIdleCallback,Ab=window.cancelIdleCallback;
else zb=function(a){return setTimeout(function(){a({timeRemaining:function(){return Infinity},didTimeout:!1})})},Ab=function(a){clearTimeout(a)};var Fb=void 0,de=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Fb=Fb||document.createElement("div");Fb.innerHTML="\x3csvg\x3e"+b+"\x3c/svg\x3e";
for(b=Fb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),ub=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},Qa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,
gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bg=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(a){bg.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Qa[b]=Qa[a]})});var kf=A({menuitem:!0},
{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Ra=M.thatReturns(""),cg=Object.freeze({createElement:ae,createTextNode:be,setInitialProperties:ce,diffProperties:ee,updateProperties:fe,diffHydratedProperties:ge,diffHydratedText:he,warnForUnmatchedText:function(a,b){},warnForDeletedHydratableElement:function(a,b){},warnForDeletedHydratableText:function(a,b){},warnForInsertedHydratedElement:function(a,b,c){},warnForInsertedHydratedText:function(a,
b){},restoreControlledState:function(a,b,c){switch(b){case "input":Ub(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name\x3d"+JSON.stringify(""+b)+'][type\x3d"radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Lc(d);e?void 0:l("90");hd(d);Ub(d,e)}}}break;case "textarea":Xd(a,c);break;case "select":b=c.value,null!=b&&O(a,!!c.multiple,b,!1)}}});oe.injectFiberControlledHostComponent(cg);var Bc=null,Cc=null;Sa.prototype.render=
function(a){this._defer?void 0:l("250");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new ma;B.updateContainerAtExpirationTime(a,b,null,c,d._onCommit);return d};Sa.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};Sa.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:l("251");if(this._hasChildren){var c=this._expirationTime;if(b!==
this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?l("251"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;B.flushRoot(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1};Sa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<
a.length;b++)(0,a[b])()}};ma.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};ma.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];"function"!==typeof c?l("191",c):void 0;c()}}};aa.prototype.render=function(a,b){var c=this._internalRoot,d=new ma;b=void 0===b?null:b;null!==b&&d.then(b);B.updateContainer(a,c,null,d._onCommit);return d};
aa.prototype.unmount=function(a){var b=this._internalRoot,c=new ma;a=void 0===a?null:a;null!==a&&c.then(a);B.updateContainer(null,b,null,c._onCommit);return c};aa.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new ma;c=void 0===c?null:c;null!==c&&e.then(c);B.updateContainer(b,d,a,e._onCommit);return e};aa.prototype.createBatch=function(){var a=new Sa(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=
null;null!==d&&d._expirationTime<=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};var B=ag({getRootHostContext:function(a){var b=a.nodeType;switch(b){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:oc(null,"");break;default:b=8===b?a.parentNode:a,a=b.namespaceURI||null,b=b.tagName,a=oc(a,b)}return a},getChildHostContext:function(a,b){return oc(a,b)},getPublicInstance:function(a){return a},prepareForCommit:function(){Bc=Ma;var a=bc();if($b(a)){if("selectionStart"in a)var b={start:a.selectionStart,
end:a.selectionEnd};else a:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(G){b=null;break a}var f=0,g=-1,h=-1,k=0,l=0,m=a,w=null;b:for(;;){for(var p;;){m!==b||0!==d&&3!==m.nodeType||(g=f+d);m!==e||0!==c&&3!==m.nodeType||(h=f+c);3===m.nodeType&&(f+=m.nodeValue.length);if(null===(p=m.firstChild))break;w=m;m=p}for(;;){if(m===a)break b;w===b&&++k===d&&(g=f);w===e&&++l===c&&(h=f);
if(null!==(p=m.nextSibling))break;m=w;w=m.parentNode}m=p}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;Cc={focusedElem:a,selectionRange:b};Yb(!1)},resetAfterCommit:function(){var a=Cc,b=bc(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&Hd(document.documentElement,c)){if($b(c))if(b=d.start,a=d.end,void 0===a&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(window.getSelection){b=window.getSelection();var e=c[Pc()].length;
a=Math.min(d.start,e);d=void 0===d.end?a:Math.min(d.end,e);!b.extend&&a>d&&(e=d,d=a,a=e);e=Kd(c,a);var f=Kd(c,d);if(e&&f&&(1!==b.rangeCount||b.anchorNode!==e.node||b.anchorOffset!==e.offset||b.focusNode!==f.node||b.focusOffset!==f.offset)){var g=document.createRange();g.setStart(e.node,e.offset);b.removeAllRanges();a>d?(b.addRange(g),b.extend(f.node,f.offset)):(g.setEnd(f.node,f.offset),b.addRange(g))}}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});
c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Cc=null;Yb(Bc);Bc=null},createInstance:function(a,b,c,d,e){a=ae(a,b,c,d);a[P]=e;a[ha]=b;return a},appendInitialChild:function(a,b){a.appendChild(b)},finalizeInitialChildren:function(a,b,c,d){ce(a,b,c,d);return ie(b,c)},prepareUpdate:function(a,b,c,d,e,f){return ee(a,b,c,d,e)},shouldSetTextContent:function(a,b){return"textarea"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&
null!==b.dangerouslySetInnerHTML&&"string"===typeof b.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(a,b){return!!b.hidden},createTextInstance:function(a,b,c,d){a=be(a,b);a[P]=d;return a},now:yb,mutation:{commitMount:function(a,b,c,d){ie(b,c)&&a.focus()},commitUpdate:function(a,b,c,d,e,f){a[ha]=e;fe(a,b,c,d,e)},resetTextContent:function(a){ub(a,"")},commitTextUpdate:function(a,b,c){a.nodeValue=c},appendChild:function(a,b){a.appendChild(b)},appendChildToContainer:function(a,b){8===
a.nodeType?a.parentNode.insertBefore(b,a):a.appendChild(b)},insertBefore:function(a,b,c){a.insertBefore(b,c)},insertInContainerBefore:function(a,b,c){8===a.nodeType?a.parentNode.insertBefore(b,c):a.insertBefore(b,c)},removeChild:function(a,b){a.removeChild(b)},removeChildFromContainer:function(a,b){8===a.nodeType?a.parentNode.removeChild(b):a.removeChild(b)}},hydration:{canHydrateInstance:function(a,b,c){return 1!==a.nodeType||b.toLowerCase()!==a.nodeName.toLowerCase()?null:a},canHydrateTextInstance:function(a,
b){return""===b||3!==a.nodeType?null:a},getNextHydratableSibling:function(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},getFirstHydratableChild:function(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},hydrateInstance:function(a,b,c,d,e,f){a[P]=f;a[ha]=c;return ge(a,b,c,e,d)},hydrateTextInstance:function(a,b,c){a[P]=c;return he(a,b)},didNotMatchHydratedContainerTextInstance:function(a,b,c){},didNotMatchHydratedTextInstance:function(a,
b,c,d,e){},didNotHydrateContainerInstance:function(a,b){},didNotHydrateInstance:function(a,b,c,d){},didNotFindHydratableContainerInstance:function(a,b,c){},didNotFindHydratableContainerTextInstance:function(a,b){},didNotFindHydratableInstance:function(a,b,c,d,e){},didNotFindHydratableTextInstance:function(a,b,c,d){}},scheduleDeferredCallback:zb,cancelDeferredCallback:Ab});(function(a){dd=a.batchedUpdates;Dd=a.interactiveUpdates;ed=a.flushInteractiveUpdates})(B);var xe={createPortal:je,findDOMNode:function(a){return null==
a?null:1===a.nodeType?a:B.findHostInstance(a)},hydrate:function(a,b,c){return vb(null,a,b,!0,c)},render:function(a,b,c){return vb(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null==a||void 0===a._reactInternalFiber?l("38"):void 0;return vb(a,b,c,!1,d)},unmountComponentAtNode:function(a){rc(a)?void 0:l("40");return a._reactRootContainer?(B.unbatchedUpdates(function(){vb(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return je.apply(void 0,
arguments)},unstable_batchedUpdates:B.batchedUpdates,unstable_deferredUpdates:B.deferredUpdates,flushSync:B.flushSync,unstable_flushControlled:B.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:pf,EventPluginRegistry:of,EventPropagators:qf,ReactControlledComponent:wf,ReactDOMComponentTree:me,ReactDOMEventListener:Kf},unstable_createRoot:function(a,b){return new aa(a,!0,null!=b&&!0===b.hydrate)}};B.injectIntoDevTools({findFiberByHostInstance:Ca,bundleType:0,version:"16.3.2",
rendererPackageName:"react-dom"});var ye=Object.freeze({default:xe}),Dc=ye&&xe||ye;return Dc["default"]?Dc["default"]:Dc});

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).vegaTooltip={})}(this,function(t){"use strict";var e="0.18.1",n="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n";const i="vg-tooltip-element",o={offsetX:10,offsetY:10,id:i,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:l,maxDepth:2};function l(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function r(t){if(!/^[A-Za-z]+[-:.\w]*$/.test(t))throw new Error("Invalid HTML ID");return n.toString().replace(i,t)}function s(t,e,n){return t.fields=e||[],t.fname=n,t}function c(t){throw Error(t)}var a=Array.isArray;function d(t){return t===Object(t)}function p(t){return"string"==typeof t}function u(t){return a(t)?"["+t.map(u)+"]":d(t)||p(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}var f=[],h=(function(t,e){var n=function(t){var e,n,i,o=[],l=null,r=0,s=t.length,a="";function d(){o.push(a+t.substring(e,n)),a="",e=n+1}for(t+="",e=n=0;n<s;++n)if("\\"===(i=t[n]))a+=t.substring(e,n),e=++n;else if(i===l)d(),l=null,r=-1;else{if(l)continue;e===r&&'"'===i?(e=n+1,l=i):e===r&&"'"===i?(e=n+1,l=i):"."!==i||r?"["===i?(n>e&&d(),r=e=n+1):"]"===i&&(r||c("Access path missing open bracket: "+t),r>0&&d(),r=0,e=n+1):n>e?d():e=n+1}return r&&c("Access path missing closing bracket: "+t),l&&c("Access path missing closing quote: "+t),n>e&&(n++,d()),o}(t),i="return _["+n.map(u).join("][")+"];";s(Function("_",i),[t=1===n.length?n[0]:t],e||t)}("id"),s(function(t){return t},f,"identity"),s(function(){return 0},f,"zero"),s(function(){return 1},f,"one"),s(function(){return!0},f,"true"),s(function(){return!1},f,"false"),function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n});function g(t,e,n){if(a(t))return`[${t.map(t=>e(p(t)?t:m(t,n))).join(", ")}]`;if(d(t)){let i="";const o=t,{title:l}=o,r=h(o,["title"]);l&&(i+=`<h2>${e(l)}</h2>`);const s=Object.keys(r);if(s.length>0){i+="<table>";for(const t of s){let o=r[t];void 0!==o&&(d(o)&&(o=m(o,n)),i+=`<tr><td class="key">${e(t)}:</td><td class="value">${e(o)}</td></tr>`)}i+="</table>"}return i||"{}"}return e(t)}function b(t){const e=[];return function(n,i){if("object"!=typeof i||null===i)return i;const o=e.indexOf(this)+1;return e.length=o,e.length>t?"[Object]":e.indexOf(i)>=0?"[Circular]":(e.push(i),i)}}function m(t,e){return JSON.stringify(t,b(e))}function y(t,e,n,i){let o=t.clientX+n;o+e.width>window.innerWidth&&(o=+t.clientX-n-e.width);let l=t.clientY+i;return l+e.height>window.innerHeight&&(l=+t.clientY-i-e.height),{x:o,y:l}}class v{constructor(t){this.options=Object.assign({},o,t);const e=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const t=document.createElement("style");t.setAttribute("id",this.options.styleId),t.innerHTML=r(e);const n=document.head;n.childNodes.length>0?n.insertBefore(t,n.childNodes[0]):n.appendChild(t)}this.el=document.getElementById(e),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",e),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,e,n,i){if(null==i||""===i)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=g(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:l}=y(e,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${l}px; left: ${o}px`)}}const x=e;t.DEFAULT_OPTIONS=o,t.Handler=v,t.calculatePosition=y,t.createDefaultStyle=r,t.default=function(t,e){const n=new v(e);return t.tooltip(n.call).run(),n},t.escapeHTML=l,t.formatValue=g,t.replacer=b,t.stringify=m,t.version=x,Object.defineProperty(t,"__esModule",{value:!0})});
;(function(){
var h,aa=aa||{},ba=this;function ea(a){return"string"==typeof a}function fa(){}
function n(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ha(a){return"array"==n(a)}function ia(a){var b=n(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ja(a){return"function"==n(a)}function ka(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function la(a){return a[na]||(a[na]=++oa)}var na="closure_uid_"+(1E9*Math.random()>>>0),oa=0;function pa(a,b,c){return a.call.apply(a.bind,arguments)}
function qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ra(a,b,c){ra=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:qa;return ra.apply(null,arguments)}var sa=Date.now||function(){return+new Date};
function va(a,b){function c(){}c.prototype=b.prototype;a.zc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function xa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ya(a){return/^[\s\xa0]*$/.test(a)}var Aa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ba=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Da(a){return null==a?"":String(a)}function Ea(a,b){return a<b?-1:a>b?1:0}
function Fa(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Ga(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ga);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}va(Ga,Error);Ga.prototype.name="CustomError";function Ha(a,b){b.unshift(a);Ga.call(this,xa.apply(null,b));b.shift()}va(Ha,Ga);Ha.prototype.name="AssertionError";function Ia(a,b){throw new Ha("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Ja=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(ea(a))return ea(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(ea(a))return ea(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},
La=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ea(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ma=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=ea(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Na=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=
ea(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a){a:{var b=Pa;for(var c=a.length,d=ea(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:ea(a)?a.charAt(b):a[b]}function Qa(a){if(!ha(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ra(a,b){b=Ja(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Sa(a){return Array.prototype.concat.apply([],arguments)}
function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function Ua(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Va(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Wa(a,b,c){return null!==a&&b in a?a[b]:c}var Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function $a(a){if(a.Oa&&"function"==typeof a.Oa)a=a.Oa();else if(ia(a)||ea(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a}function ab(a){if(a.ub&&"function"==typeof a.ub)return a.ub();if(ea(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ua(a)}function bb(a){if(a.Cb&&"function"==typeof a.Cb)return a.Cb();if(!a.ub||"function"!=typeof a.ub){if(ia(a)||ea(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Va(a)}}
function cb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||ea(a))La(a,b,c);else for(var d=bb(a),e=ab(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}function db(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||ea(a))return Na(a,b,void 0);for(var c=bb(a),d=ab(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function gb(a,b){this.$a={};this.pb=[];this.Ba=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}h=gb.prototype;h.Oa=function(){return this.Ba};h.ub=function(){hb(this);for(var a=[],b=0;b<this.pb.length;b++)a.push(this.$a[this.pb[b]]);return a};h.Cb=function(){hb(this);return this.pb.concat()};h.Rc=function(a){return ib(this.$a,a)};
h.Ed=function(a){for(var b=0;b<this.pb.length;b++){var c=this.pb[b];if(ib(this.$a,c)&&this.$a[c]==a)return!0}return!1};h.equals=function(a,b){if(this===a)return!0;if(this.Ba!=a.Oa())return!1;b=b||jb;hb(this);for(var c,d=0;c=this.pb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function jb(a,b){return a===b}h.Db=function(){return 0==this.Ba};h.clear=function(){this.$a={};this.Ba=this.pb.length=0};
h.remove=function(a){return ib(this.$a,a)?(delete this.$a[a],this.Ba--,this.pb.length>2*this.Ba&&hb(this),!0):!1};function hb(a){if(a.Ba!=a.pb.length){for(var b=0,c=0;b<a.pb.length;){var d=a.pb[b];ib(a.$a,d)&&(a.pb[c++]=d);b++}a.pb.length=c}if(a.Ba!=a.pb.length){var e={};for(c=b=0;b<a.pb.length;)d=a.pb[b],ib(e,d)||(a.pb[c++]=d,e[d]=1),b++;a.pb.length=c}}h.get=function(a,b){return ib(this.$a,a)?this.$a[a]:b};h.set=function(a,b){ib(this.$a,a)||(this.Ba++,this.pb.push(a));this.$a[a]=b};
h.addAll=function(a){if(a instanceof gb){var b=a.Cb();a=a.ub()}else b=Va(a),a=Ua(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])};h.forEach=function(a,b){for(var c=this.Cb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new gb(this)};function ib(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var kb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function mb(a,b){this.Ba=this.Ua=null;this.Sb=a||null;this.Sg=!!b}function nb(a){a.Ua||(a.Ua=new gb,a.Ba=0,a.Sb&&lb(a.Sb,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}h=mb.prototype;h.Oa=function(){nb(this);return this.Ba};h.add=function(a,b){nb(this);this.Sb=null;a=ob(this,a);var c=this.Ua.get(a);c||this.Ua.set(a,c=[]);c.push(b);this.Ba+=1;return this};
h.remove=function(a){nb(this);a=ob(this,a);return this.Ua.Rc(a)?(this.Sb=null,this.Ba-=this.Ua.get(a).length,this.Ua.remove(a)):!1};h.clear=function(){this.Ua=this.Sb=null;this.Ba=0};h.Db=function(){nb(this);return 0==this.Ba};h.Rc=function(a){nb(this);a=ob(this,a);return this.Ua.Rc(a)};h.Ed=function(a){var b=this.ub();return 0<=Ja(b,a)};h.forEach=function(a,b){nb(this);this.Ua.forEach(function(c,d){La(c,function(c){a.call(b,c,d,this)},this)},this)};
h.Cb=function(){nb(this);for(var a=this.Ua.ub(),b=this.Ua.Cb(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.ub=function(a){nb(this);var b=[];if(ea(a))this.Rc(a)&&(b=Sa(b,this.Ua.get(ob(this,a))));else{a=this.Ua.ub();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};h.set=function(a,b){nb(this);this.Sb=null;a=ob(this,a);this.Rc(a)&&(this.Ba-=this.Ua.get(a).length);this.Ua.set(a,[b]);this.Ba+=1;return this};
h.get=function(a,b){a=a?this.ub(a):[];return 0<a.length?String(a[0]):b};h.toString=function(){if(this.Sb)return this.Sb;if(!this.Ua)return"";for(var a=[],b=this.Ua.Cb(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.ub(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}}return this.Sb=a.join("\x26")};h.clone=function(){var a=new mb;a.Sb=this.Sb;this.Ua&&(a.Ua=this.Ua.clone(),a.Ba=this.Ba);return a};
function ob(a,b){b=String(b);a.Sg&&(b=b.toLowerCase());return b}h.extend=function(a){for(var b=0;b<arguments.length;b++)cb(arguments[b],function(a,b){this.add(b,a)},this)};function pb(a,b){this.va=[];this.zb=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.va[d]=e,c=!1)}}var qb={};function rb(a){if(-128<=a&&128>a){var b=qb[a];if(b)return b}b=new pb([a|0],0>a?-1:0);-128<=a&&128>a&&(qb[a]=b);return b}function sb(a){if(isNaN(a)||!isFinite(a))return vb;if(0>a)return sb(-a).qa();for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=wb;return new pb(b,0)}var wb=4294967296,vb=rb(0),xb=rb(1),yb=rb(16777216);h=pb.prototype;
h.Wd=function(){return 0<this.va.length?this.va[0]:this.zb};h.toNumber=function(){if(this.Ga())return-this.qa().toNumber();for(var a=0,b=1,c=0;c<this.va.length;c++){var d=zb(this,c);a+=(0<=d?d:wb+d)*b;b*=wb}return a};
h.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.wb())return"0";if(this.Ga())return"-"+this.qa().toString(a);for(var b=sb(Math.pow(a,6)),c=this,d="";;){var e=Ab(c,b),f=(c.yc(e.multiply(b)).Wd()>>>0).toString(a);c=e;if(c.wb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function zb(a,b){return 0>b?0:b<a.va.length?a.va[b]:a.zb}h.wb=function(){if(0!=this.zb)return!1;for(var a=0;a<this.va.length;a++)if(0!=this.va[a])return!1;return!0};
h.Ga=function(){return-1==this.zb};h.kf=function(){return 0==this.va.length&&-1==this.zb||0<this.va.length&&0!=(this.va[0]&1)};h.equals=function(a){if(this.zb!=a.zb)return!1;for(var b=Math.max(this.va.length,a.va.length),c=0;c<b;c++)if(zb(this,c)!=zb(a,c))return!1;return!0};h.ne=function(a){return 0<this.compare(a)};h.gf=function(a){return 0<=this.compare(a)};h.md=function(a){return 0>this.compare(a)};h.nf=function(a){return 0>=this.compare(a)};
h.compare=function(a){a=this.yc(a);return a.Ga()?-1:a.wb()?0:1};h.qa=function(){return this.sf().add(xb)};h.add=function(a){for(var b=Math.max(this.va.length,a.va.length),c=[],d=0,e=0;e<=b;e++){var f=d+(zb(this,e)&65535)+(zb(a,e)&65535),g=(f>>>16)+(zb(this,e)>>>16)+(zb(a,e)>>>16);d=g>>>16;f&=65535;g&=65535;c[e]=g<<16|f}return new pb(c,c[c.length-1]&-2147483648?-1:0)};h.yc=function(a){return this.add(a.qa())};
h.multiply=function(a){if(this.wb()||a.wb())return vb;if(this.Ga())return a.Ga()?this.qa().multiply(a.qa()):this.qa().multiply(a).qa();if(a.Ga())return this.multiply(a.qa()).qa();if(this.md(yb)&&a.md(yb))return sb(this.toNumber()*a.toNumber());for(var b=this.va.length+a.va.length,c=[],d=0;d<2*b;d++)c[d]=0;for(d=0;d<this.va.length;d++)for(var e=0;e<a.va.length;e++){var f=zb(this,d)>>>16,g=zb(this,d)&65535,k=zb(a,e)>>>16,l=zb(a,e)&65535;c[2*d+2*e]+=g*l;Bb(c,2*d+2*e);c[2*d+2*e+1]+=f*l;Bb(c,2*d+2*e+1);
c[2*d+2*e+1]+=g*k;Bb(c,2*d+2*e+1);c[2*d+2*e+2]+=f*k;Bb(c,2*d+2*e+2)}for(d=0;d<b;d++)c[d]=c[2*d+1]<<16|c[2*d];for(d=b;d<2*b;d++)c[d]=0;return new pb(c,0)};function Bb(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function Ab(a,b){if(b.wb())throw Error("division by zero");if(a.wb())return vb;if(a.Ga())return b.Ga()?Ab(a.qa(),b.qa()):Ab(a.qa(),b).qa();if(b.Ga())return Ab(a,b.qa()).qa();if(30<a.va.length){if(a.Ga()||b.Ga())throw Error("slowDivide_ only works with positive integers.");for(var c=xb;b.nf(a);)c=c.shiftLeft(1),b=b.shiftLeft(1);var d=c.Jc(1),e=b.Jc(1);b=b.Jc(2);for(c=c.Jc(2);!b.wb();){var f=e.add(b);f.nf(a)&&(d=d.add(c),e=f);b=b.Jc(1);c=c.Jc(1)}return d}for(c=vb;a.gf(b);){d=Math.max(1,Math.floor(a.toNumber()/
b.toNumber()));e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=sb(d);for(var g=f.multiply(b);g.Ga()||g.ne(a);)d-=e,f=sb(d),g=f.multiply(b);f.wb()&&(f=xb);c=c.add(f);a=a.yc(g)}return c}h.sf=function(){for(var a=this.va.length,b=[],c=0;c<a;c++)b[c]=~this.va[c];return new pb(b,~this.zb)};h.and=function(a){for(var b=Math.max(this.va.length,a.va.length),c=[],d=0;d<b;d++)c[d]=zb(this,d)&zb(a,d);return new pb(c,this.zb&a.zb)};
h.or=function(a){for(var b=Math.max(this.va.length,a.va.length),c=[],d=0;d<b;d++)c[d]=zb(this,d)|zb(a,d);return new pb(c,this.zb|a.zb)};h.xor=function(a){for(var b=Math.max(this.va.length,a.va.length),c=[],d=0;d<b;d++)c[d]=zb(this,d)^zb(a,d);return new pb(c,this.zb^a.zb)};h.shiftLeft=function(a){var b=a>>5;a%=32;for(var c=this.va.length+b+(0<a?1:0),d=[],e=0;e<c;e++)d[e]=0<a?zb(this,e-b)<<a|zb(this,e-b-1)>>>32-a:zb(this,e-b);return new pb(d,this.zb)};
h.Jc=function(a){var b=a>>5;a%=32;for(var c=this.va.length-b,d=[],e=0;e<c;e++)d[e]=0<a?zb(this,e+b)>>>a|zb(this,e+b+1)<<32-a:zb(this,e+b);return new pb(d,this.zb)};function Cb(a,b){null!=a&&this.append.apply(this,arguments)}h=Cb.prototype;h.Ec="";h.set=function(a){this.Ec=""+a};h.append=function(a,b,c){this.Ec+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Ec+=arguments[d];return this};h.clear=function(){this.Ec=""};h.toString=function(){return this.Ec};function Eb(a){Eb[" "](a);return a}Eb[" "]=fa;function Fb(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function Gb(a,b){this.Ca=a|0;this.Pa=b|0}var Hb={},Ib={};function Jb(a){return Fb(Hb,a,function(a){return new Gb(a,0>a?-1:0)})}function Kb(a){a|=0;return-128<=a&&128>a?Jb(a):new Gb(a,0>a?-1:0)}function Lb(a){return isNaN(a)?Jb(0):a<=-Mb?Nb():a+1>=Mb?Ob():0>a?Lb(-a).qa():new Gb(a%Pb|0,a/Pb|0)}function Qb(a,b){return new Gb(a,b)}
function Rb(a,b){if(0==a.length)throw Error("number format error: empty string");b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return Rb(a.substring(1),b).qa();if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var c=Lb(Math.pow(b,8)),d=Jb(0),e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=Lb(Math.pow(b,f)),d=d.multiply(f).add(Lb(g))):(d=d.multiply(c),d=d.add(Lb(g)))}return d}
var Pb=4294967296,Mb=Pb*Pb/2;function Ob(){return Fb(Ib,Sb,function(){return Qb(-1,2147483647)})}function Nb(){return Fb(Ib,Tb,function(){return Qb(0,-2147483648)})}function Ub(){return Fb(Ib,Vb,function(){return Kb(16777216)})}h=Gb.prototype;h.Wd=function(){return this.Ca};h.toNumber=function(){return this.Pa*Pb+(0<=this.Ca?this.Ca:Pb+this.Ca)};
h.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.wb())return"0";if(this.Ga()){if(this.equals(Nb())){var b=Lb(a),c=this.div(b);b=c.multiply(b).yc(this);return c.toString(a)+b.Wd().toString(a)}return"-"+this.qa().toString(a)}c=Lb(Math.pow(a,6));b=this;for(var d="";;){var e=b.div(c),f=(b.yc(e.multiply(c)).Wd()>>>0).toString(a);b=e;if(b.wb())return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};h.wb=function(){return 0==this.Pa&&0==this.Ca};h.Ga=function(){return 0>this.Pa};
h.kf=function(){return 1==(this.Ca&1)};h.equals=function(a){return this.Pa==a.Pa&&this.Ca==a.Ca};h.md=function(a){return 0>this.compare(a)};h.nf=function(a){return 0>=this.compare(a)};h.ne=function(a){return 0<this.compare(a)};h.gf=function(a){return 0<=this.compare(a)};h.compare=function(a){if(this.equals(a))return 0;var b=this.Ga(),c=a.Ga();return b&&!c?-1:!b&&c?1:this.yc(a).Ga()?-1:1};h.qa=function(){return this.equals(Nb())?Nb():this.sf().add(Jb(1))};
h.add=function(a){var b=this.Pa>>>16,c=this.Pa&65535,d=this.Ca>>>16,e=a.Pa>>>16,f=a.Pa&65535,g=a.Ca>>>16;a=(this.Ca&65535)+(a.Ca&65535);g=(a>>>16)+(d+g);d=g>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return Qb((g&65535)<<16|a&65535,b<<16|d&65535)};h.yc=function(a){return this.add(a.qa())};
h.multiply=function(a){if(this.wb()||a.wb())return Jb(0);if(this.equals(Nb()))return a.kf()?Nb():Jb(0);if(a.equals(Nb()))return this.kf()?Nb():Jb(0);if(this.Ga())return a.Ga()?this.qa().multiply(a.qa()):this.qa().multiply(a).qa();if(a.Ga())return this.multiply(a.qa()).qa();if(this.md(Ub())&&a.md(Ub()))return Lb(this.toNumber()*a.toNumber());var b=this.Pa>>>16,c=this.Pa&65535,d=this.Ca>>>16,e=this.Ca&65535,f=a.Pa>>>16,g=a.Pa&65535,k=a.Ca>>>16;a=a.Ca&65535;var l=e*a;var m=(l>>>16)+d*a;var p=m>>>16;
m=(m&65535)+e*k;p+=m>>>16;p+=c*a;var q=p>>>16;p=(p&65535)+d*k;q+=p>>>16;p=(p&65535)+e*g;q=q+(p>>>16)+(b*a+c*k+d*g+e*f)&65535;return Qb((m&65535)<<16|l&65535,q<<16|p&65535)};
h.div=function(a){if(a.wb())throw Error("division by zero");if(this.wb())return Jb(0);if(this.equals(Nb())){if(a.equals(Jb(1))||a.equals(Jb(-1)))return Nb();if(a.equals(Nb()))return Jb(1);var b=this.Jc(1).div(a).shiftLeft(1);if(b.equals(Jb(0)))return a.Ga()?Jb(1):Jb(-1);var c=this.yc(a.multiply(b));return b.add(c.div(a))}if(a.equals(Nb()))return Jb(0);if(this.Ga())return a.Ga()?this.qa().div(a.qa()):this.qa().div(a).qa();if(a.Ga())return this.div(a.qa()).qa();var d=Jb(0);for(c=this;c.gf(a);){b=Math.max(1,
Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Lb(b),g=f.multiply(a);g.Ga()||g.ne(c);)b-=e,f=Lb(b),g=f.multiply(a);f.wb()&&(f=Jb(1));d=d.add(f);c=c.yc(g)}return d};h.sf=function(){return Qb(~this.Ca,~this.Pa)};h.and=function(a){return Qb(this.Ca&a.Ca,this.Pa&a.Pa)};h.or=function(a){return Qb(this.Ca|a.Ca,this.Pa|a.Pa)};h.xor=function(a){return Qb(this.Ca^a.Ca,this.Pa^a.Pa)};
h.shiftLeft=function(a){a&=63;if(0==a)return this;var b=this.Ca;return 32>a?Qb(b<<a,this.Pa<<a|b>>>32-a):Qb(0,b<<a-32)};h.Jc=function(a){a&=63;if(0==a)return this;var b=this.Pa;return 32>a?Qb(this.Ca>>>a|b<<32-a,b>>a):Qb(b>>a-32,0<=b?0:-1)};function Wb(a,b){b&=63;if(0==b)return a;var c=a.Pa;return 32>b?Qb(a.Ca>>>b|c<<32-b,c>>>b):32==b?Qb(c,0):Qb(c>>>b-32,0)}var Sb=1,Tb=2,Vb=6;var Xb={},Yb={},Zb;if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof r)var r={};if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof $b)var $b=null;if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ac)var ac=null;var bc=null,cc=null;if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof dc)var dc=null;function ec(){return new v(null,5,[fc,!0,hc,!0,ic,!1,jc,!1,kc,bc],null)}
function lc(){$b=function(){return console.log.apply(console,Ta(arguments))};ac=function(){return console.error.apply(console,Ta(arguments))}}function z(a){return null!=a&&!1!==a}function mc(a){return a instanceof Array}function nc(a){return null==a?!0:!1===a?!0:!1}function oc(a,b){return a[n(null==b?null:b)]?!0:a._?!0:!1}function pc(a){return null==a?null:a.constructor}
function A(a,b){var c=pc(b);c=z(z(c)?c.Pc:c)?c.sc:n(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function qc(a){var b=a.sc;return z(b)?b:B.h(a)}var rc="undefined"!==typeof Symbol&&"function"===n(Symbol)?Symbol.iterator:"@@iterator";function sc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function tc(a){return uc.l(function(a,c){a.push(c);return a},[],a)}function vc(){}function wc(){}
var xc=function xc(a){if(null!=a&&null!=a.rb)return a.rb(a);var c=xc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=xc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ICloneable.-clone",a);};function yc(){}
var zc=function zc(a){if(null!=a&&null!=a.ka)return a.ka(a);var c=zc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=zc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ICounted.-count",a);},Bc=function Bc(a){if(null!=a&&null!=a.sa)return a.sa(a);var c=Bc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Bc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IEmptyableCollection.-empty",a);};function Cc(){}
var Dc=function Dc(a,b){if(null!=a&&null!=a.na)return a.na(a,b);var d=Dc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Dc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("ICollection.-conj",a);};function Ec(){}var Fc=function Fc(a){switch(arguments.length){case 2:return Fc.j(arguments[0],arguments[1]);case 3:return Fc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};
Fc.j=function(a,b){if(null!=a&&null!=a.P)return a.P(a,b);var c=Fc[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=Fc._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw A("IIndexed.-nth",a);};Fc.l=function(a,b,c){if(null!=a&&null!=a.la)return a.la(a,b,c);var d=Fc[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=Fc._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw A("IIndexed.-nth",a);};Fc.J=3;function Gc(){}
var Hc=function Hc(a){if(null!=a&&null!=a.La)return a.La(a);var c=Hc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Hc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ISeq.-first",a);},Ic=function Ic(a){if(null!=a&&null!=a.Ta)return a.Ta(a);var c=Ic[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ic._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ISeq.-rest",a);};function Jc(){}function Kc(){}
var Lc=function Lc(a){switch(arguments.length){case 2:return Lc.j(arguments[0],arguments[1]);case 3:return Lc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Lc.j=function(a,b){if(null!=a&&null!=a.fa)return a.fa(a,b);var c=Lc[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=Lc._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw A("ILookup.-lookup",a);};
Lc.l=function(a,b,c){if(null!=a&&null!=a.N)return a.N(a,b,c);var d=Lc[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=Lc._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw A("ILookup.-lookup",a);};Lc.J=3;
var Mc=function Mc(a,b,c){if(null!=a&&null!=a.Va)return a.Va(a,b,c);var e=Mc[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=Mc._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IAssociative.-assoc",a);},Nc=function Nc(a,b){if(null!=a&&null!=a.nc)return a.nc(a,b);var d=Nc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Nc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IFind.-find",a);};function Oc(){}
var Pc=function Pc(a,b){if(null!=a&&null!=a.Mc)return a.Mc(a,b);var d=Pc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Pc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IMap.-dissoc",a);},Qc=function Qc(a){if(null!=a&&null!=a.Pe)return a.key;var c=Qc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Qc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IMapEntry.-key",a);},Rc=function Rc(a){if(null!=a&&null!=a.Qe)return a.A;var c=Rc[n(null==a?
null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Rc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IMapEntry.-val",a);};function Sc(){}
var Tc=function Tc(a,b){if(null!=a&&null!=a.Se)return a.Se(a,b);var d=Tc[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Tc._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("ISet.-disjoin",a);},Uc=function Uc(a){if(null!=a&&null!=a.qc)return a.qc(a);var c=Uc[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Uc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IStack.-peek",a);},Vc=function Vc(a){if(null!=a&&null!=a.rc)return a.rc(a);var c=Vc[n(null==
a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Vc._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IStack.-pop",a);};function Wc(){}
var Xc=function Xc(a,b,c){if(null!=a&&null!=a.Xb)return a.Xb(a,b,c);var e=Xc[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=Xc._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IVector.-assoc-n",a);},C=function C(a){if(null!=a&&null!=a.Ab)return a.Ab(a);var c=C[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=C._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IDeref.-deref",a);};function Zc(){}
var $c=function $c(a){if(null!=a&&null!=a.ca)return a.ca(a);var c=$c[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=$c._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IMeta.-meta",a);},ad=function ad(a,b){if(null!=a&&null!=a.ea)return a.ea(a,b);var d=ad[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=ad._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IWithMeta.-with-meta",a);};function bd(){}
var cd=function cd(a){switch(arguments.length){case 2:return cd.j(arguments[0],arguments[1]);case 3:return cd.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};cd.j=function(a,b){if(null!=a&&null!=a.Ea)return a.Ea(a,b);var c=cd[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=cd._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw A("IReduce.-reduce",a);};
cd.l=function(a,b,c){if(null!=a&&null!=a.Fa)return a.Fa(a,b,c);var d=cd[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=cd._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw A("IReduce.-reduce",a);};cd.J=3;function dd(){}
var ed=function ed(a,b,c){if(null!=a&&null!=a.oc)return a.oc(a,b,c);var e=ed[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=ed._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IKVReduce.-kv-reduce",a);},fd=function fd(a,b){if(null!=a&&null!=a.I)return a.I(a,b);var d=fd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=fd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IEquiv.-equiv",a);},gd=function gd(a){if(null!=a&&null!=a.aa)return a.aa(a);
var c=gd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=gd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IHash.-hash",a);};function hd(){}var id=function id(a){if(null!=a&&null!=a.ba)return a.ba(a);var c=id[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=id._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ISeqable.-seq",a);};function jd(){}function kd(){}function ld(){}function md(){}
var od=function od(a){if(null!=a&&null!=a.pc)return a.pc(a);var c=od[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=od._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IReversible.-rseq",a);},pd=function pd(a,b){if(null!=a&&null!=a.Wf)return a.Wf(a,b);var d=pd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=pd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IWriter.-write",a);};function qd(){}
var rd=function rd(a,b,c){if(null!=a&&null!=a.T)return a.T(a,b,c);var e=rd[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=rd._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IPrintWithWriter.-pr-writer",a);},sd=function sd(a,b,c){if(null!=a&&null!=a.fe)return a.fe(a,b,c);var e=sd[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=sd._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IWatchable.-notify-watches",a);},td=function td(a,
b,c){if(null!=a&&null!=a.ee)return a.ee(a,b,c);var e=td[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=td._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IWatchable.-add-watch",a);},ud=function ud(a,b){if(null!=a&&null!=a.ge)return a.ge(a,b);var d=ud[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=ud._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IWatchable.-remove-watch",a);},vd=function vd(a){if(null!=a&&null!=a.gd)return a.gd(a);
var c=vd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=vd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IEditableCollection.-as-transient",a);},wd=function wd(a,b){if(null!=a&&null!=a.Nc)return a.Nc(a,b);var d=wd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=wd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("ITransientCollection.-conj!",a);},xd=function xd(a){if(null!=a&&null!=a.Ad)return a.Ad(a);var c=xd[n(null==a?null:a)];if(null!=c)return c.h?
c.h(a):c.call(null,a);c=xd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("ITransientCollection.-persistent!",a);},yd=function yd(a,b,c){if(null!=a&&null!=a.Fc)return a.Fc(a,b,c);var e=yd[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=yd._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("ITransientAssociative.-assoc!",a);},zd=function zd(a,b){if(null!=a&&null!=a.Xe)return a.Xe(a,b);var d=zd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,
a,b);d=zd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("ITransientMap.-dissoc!",a);},Ad=function Ad(a){if(null!=a&&null!=a.Qf)return a.Qf(a);var c=Ad[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ad._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IChunk.-drop-first",a);},Bd=function Bd(a){if(null!=a&&null!=a.Me)return a.Me(a);var c=Bd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Bd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IChunkedSeq.-chunked-first",
a);},Cd=function Cd(a){if(null!=a&&null!=a.ce)return a.ce(a);var c=Cd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Cd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IChunkedSeq.-chunked-rest",a);},Dd=function Dd(a){if(null!=a&&null!=a.yd)return a.yd(a);var c=Dd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Dd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("INamed.-name",a);},Ed=function Ed(a){if(null!=a&&null!=a.zd)return a.zd(a);var c=Ed[n(null==
a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ed._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("INamed.-namespace",a);},Fd=function Fd(a,b){if(null!=a&&null!=a.Wb)return a.Wb(a,b);var d=Fd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Fd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IReset.-reset!",a);},Gd=function Gd(a){switch(arguments.length){case 2:return Gd.j(arguments[0],arguments[1]);case 3:return Gd.l(arguments[0],arguments[1],arguments[2]);
case 4:return Gd.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gd.ga(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Gd.j=function(a,b){if(null!=a&&null!=a.Te)return a.Te(a,b);var c=Gd[n(null==a?null:a)];if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);c=Gd._;if(null!=c)return c.j?c.j(a,b):c.call(null,a,b);throw A("ISwap.-swap!",a);};
Gd.l=function(a,b,c){if(null!=a&&null!=a.Ue)return a.Ue(a,b,c);var d=Gd[n(null==a?null:a)];if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);d=Gd._;if(null!=d)return d.l?d.l(a,b,c):d.call(null,a,b,c);throw A("ISwap.-swap!",a);};Gd.H=function(a,b,c,d){if(null!=a&&null!=a.Ve)return a.Ve(a,b,c,d);var e=Gd[n(null==a?null:a)];if(null!=e)return e.H?e.H(a,b,c,d):e.call(null,a,b,c,d);e=Gd._;if(null!=e)return e.H?e.H(a,b,c,d):e.call(null,a,b,c,d);throw A("ISwap.-swap!",a);};
Gd.ga=function(a,b,c,d,e){if(null!=a&&null!=a.We)return a.We(a,b,c,d,e);var f=Gd[n(null==a?null:a)];if(null!=f)return f.ga?f.ga(a,b,c,d,e):f.call(null,a,b,c,d,e);f=Gd._;if(null!=f)return f.ga?f.ga(a,b,c,d,e):f.call(null,a,b,c,d,e);throw A("ISwap.-swap!",a);};Gd.J=5;var Hd=function Hd(a,b){if(null!=a&&null!=a.Oc)return a.Oc(a,b);var d=Hd[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Hd._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IVolatile.-vreset!",a);};
function Id(){}var Jd=function Jd(a){if(null!=a&&null!=a.sb)return a.sb(a);var c=Jd[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Jd._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IIterable.-iterator",a);};function Kd(a){this.fh=a;this.v=1073741824;this.K=0}Kd.prototype.Wf=function(a,b){return this.fh.append(b)};function Ld(a){var b=new Cb;a.T(null,new Kd(b),ec());return B.h(b)}
var Md="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Nd(a){a=Md(a|0,-862048943);return Md(a<<15|a>>>-15,461845907)}function Od(a,b){a=(a|0)^(b|0);return Md(a<<13|a>>>-13,5)+-430675100|0}function Pd(a,b){a=(a|0)^b;a=Md(a^a>>>16,-2048144789);a=Md(a^a>>>13,-1028477387);return a^a>>>16}
function Qd(a){a:{var b=1;for(var c=0;;)if(b<a.length){var d=b+2;c=Od(c,Nd(a.charCodeAt(b-1)|a.charCodeAt(b)<<16));b=d}else{b=c;break a}}b=1===(a.length&1)?b^Nd(a.charCodeAt(a.length-1)):b;return Pd(b,Md(2,a.length))}var Rd={},Sd=0;function Td(a){255<Sd&&(Rd={},Sd=0);if(null==a)return 0;var b=Rd[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b){var e=c+1;d=Md(31,d)+a.charCodeAt(c);c=e}else{b=d;break a}else b=0;else b=0;Rd[a]=b;Sd+=1;a=b}return a}
function Ud(a){if(null!=a&&(a.v&4194304||r===a.Oe))return a.aa(null)^0;if("number"===typeof a){if(z(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Td(a),0!==a&&(a=Nd(a),a=Od(0,a),a=Pd(a,4))):a=a instanceof Date?a.valueOf()^0:null==a?0:gd(a)^0,a}function Vd(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Wd(a,b,c,d,e){this.nd=a;this.name=b;this.Gb=c;this.cd=d;this.xb=e;this.v=2154168321;this.K=4096}h=Wd.prototype;h.toString=function(){return this.Gb};h.equiv=function(a){return this.I(null,a)};h.I=function(a,b){return b instanceof Wd?this.Gb===b.Gb:!1};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return D.j(c,this);case 3:return D.l(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return D.j(c,this)};a.l=function(a,c,d){return D.l(c,this,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return D.j(a,this)};h.j=function(a,b){return D.l(a,this,b)};h.ca=function(){return this.xb};
h.ea=function(a,b){return new Wd(this.nd,this.name,this.Gb,this.cd,b)};h.aa=function(){var a=this.cd;return null!=a?a:this.cd=a=Vd(Qd(this.name),Td(this.nd))};h.yd=function(){return this.name};h.zd=function(){return this.nd};h.T=function(a,b){return pd(b,this.Gb)};var Xd=function Xd(a){switch(arguments.length){case 1:return Xd.h(arguments[0]);case 2:return Xd.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};
Xd.h=function(a){if(a instanceof Wd)return a;var b=a.indexOf("/");return 1>b?Xd.j(null,a):Xd.j(a.substring(0,b),a.substring(b+1,a.length))};Xd.j=function(a,b){var c=null!=a?[B.h(a),"/",B.h(b)].join(""):b;return new Wd(a,b,c,null,null)};Xd.J=2;function Yd(a){return null!=a?a.K&131072||r===a.qh?!0:a.K?!1:oc(Id,a):oc(Id,a)}
function E(a){if(null==a)return null;if(null!=a&&(a.v&8388608||r===a.Uf))return a.ba(null);if(mc(a)||"string"===typeof a)return 0===a.length?null:new F(a,0,null);if(oc(hd,a))return id(a);throw Error([B.h(a)," is not ISeqable"].join(""));}function G(a){if(null==a)return null;if(null!=a&&(a.v&64||r===a.ha))return a.La(null);a=E(a);return null==a?null:Hc(a)}function Zd(a){return null!=a?null!=a&&(a.v&64||r===a.ha)?a.Ta(null):(a=E(a))?a.Ta(null):$d:$d}
function J(a){return null==a?null:null!=a&&(a.v&128||r===a.de)?a.Sa():E(Zd(a))}var K=function K(a){switch(arguments.length){case 1:return K.h(arguments[0]);case 2:return K.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};K.h=function(){return!0};K.j=function(a,b){return null==a?null==b:a===b||fd(a,b)};
K.w=function(a,b,c){for(;;)if(K.j(a,b))if(J(c))a=b,b=G(c),c=J(c);else return K.j(b,G(c));else return!1};K.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};K.J=2;function ae(a){this.s=a}ae.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function be(a){return new ae(E(a))}function de(a,b){a=Nd(a);a=Od(0,a);return Pd(a,b)}
function ee(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=Md(31,c)+Ud(G(a))|0,a=J(a);else return de(c,b)}var fe=de(1,0);function ge(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+Ud(G(a))|0,a=J(a);else return de(c,b)}var he=de(0,0);yc["null"]=!0;zc["null"]=function(){return 0};Date.prototype.I=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};fd.number=function(a,b){return a===b};vc["function"]=!0;Zc["function"]=!0;$c["function"]=function(){return null};gd._=function(a){return la(a)};
function ie(a){return a+1}function je(a){this.A=a;this.v=32768;this.K=0}je.prototype.Ab=function(){return this.A};function ke(a){return a instanceof je}function le(a){return ke(a)?C(a):a}function me(a,b){var c=zc(a);if(0===c)return b.F?b.F():b.call(null);for(var d=Fc.j(a,0),e=1;;)if(e<c){var f=Fc.j(a,e);d=b.j?b.j(d,f):b.call(null,d,f);if(ke(d))return C(d);e+=1}else return d}
function ne(a,b,c){var d=zc(a),e=c;for(c=0;;)if(c<d){var f=Fc.j(a,c);e=b.j?b.j(e,f):b.call(null,e,f);if(ke(e))return C(e);c+=1}else return e}function oe(a,b){var c=a.length;if(0===a.length)return b.F?b.F():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(ke(d))return C(d);e+=1}else return d}function pe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(ke(e))return C(e);c+=1}else return e}
function qe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(ke(c))return C(c);d+=1}else return c}function re(a){return null!=a?a.v&2||r===a.Eg?!0:a.v?!1:oc(yc,a):oc(yc,a)}function se(a){return null!=a?a.v&16||r===a.Sf?!0:a.v?!1:oc(Ec,a):oc(Ec,a)}function M(a,b,c){var d=N(a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(K.j(te(a,c),b))return c;c+=1}else return-1}
function O(a,b,c){var d=N(a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(K.j(te(a,c),b))return c;--c}else return-1}function ue(a,b){this.o=a;this.i=b}ue.prototype.pa=function(){return this.i<this.o.length};ue.prototype.next=function(){var a=this.o[this.i];this.i+=1;return a};function F(a,b,c){this.o=a;this.i=b;this.meta=c;this.v=166592766;this.K=139264}h=F.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.P=function(a,b){a=b+this.i;if(0<=a&&a<this.o.length)return this.o[a];throw Error("Index out of bounds");};h.la=function(a,b,c){a=b+this.i;return 0<=a&&a<this.o.length?this.o[a]:c};h.sb=function(){return new ue(this.o,this.i)};
h.ca=function(){return this.meta};h.rb=function(){return new F(this.o,this.i,this.meta)};h.Sa=function(){return this.i+1<this.o.length?new F(this.o,this.i+1,null):null};h.ka=function(){var a=this.o.length-this.i;return 0>a?0:a};h.pc=function(){var a=this.ka(null);return 0<a?new ve(this,a-1,null):null};h.aa=function(){return ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return $d};h.Ea=function(a,b){return qe(this.o,b,this.o[this.i],this.i+1)};
h.Fa=function(a,b,c){return qe(this.o,b,c,this.i)};h.La=function(){return this.o[this.i]};h.Ta=function(){return this.i+1<this.o.length?new F(this.o,this.i+1,null):$d};h.ba=function(){return this.i<this.o.length?this:null};h.ea=function(a,b){return new F(this.o,this.i,b)};h.na=function(a,b){return xe(b,this)};F.prototype[rc]=function(){return be(this)};function R(a){return 0<a.length?new F(a,0,null):null}function ve(a,b,c){this.xd=a;this.i=b;this.meta=c;this.v=32374990;this.K=8192}h=ve.prototype;
h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.rb=function(){return new ve(this.xd,this.i,this.meta)};h.Sa=function(){return 0<this.i?new ve(this.xd,this.i-1,null):null};h.ka=function(){return this.i+1};h.aa=function(){return ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return Fc.j(this.xd,this.i)};h.Ta=function(){return 0<this.i?new ve(this.xd,this.i-1,null):$d};h.ba=function(){return this};h.ea=function(a,b){return new ve(this.xd,this.i,b)};h.na=function(a,b){return xe(b,this)};ve.prototype[rc]=function(){return be(this)};fd._=function(a,b){return a===b};
var Ae=function Ae(a){switch(arguments.length){case 0:return Ae.F();case 1:return Ae.h(arguments[0]);case 2:return Ae.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Ae.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};Ae.F=function(){return Be};Ae.h=function(a){return a};Ae.j=function(a,b){return null!=a?Dc(a,b):new Ce(null,b,null,1,null)};
Ae.w=function(a,b,c){for(;;)if(z(c))a=Ae.j(a,b),b=G(c),c=J(c);else return Ae.j(a,b)};Ae.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};Ae.J=2;function N(a){if(null!=a)if(null!=a&&(a.v&2||r===a.Eg))a=a.ka(null);else if(mc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.v&8388608||r===a.Uf))a:{a=E(a);for(var b=0;;){if(re(a)){a=b+zc(a);break a}a=J(a);b+=1}}else a=zc(a);else a=0;return a}
function De(a,b){for(var c=null;;){if(null==a)return c;if(0===b)return E(a)?G(a):c;if(se(a))return Fc.l(a,b,c);if(E(a))a=J(a),--b;else return c}}
function te(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.v&16||r===a.Sf))return a.P(null,b);if(mc(a)){if(0<=b&&b<a.length)return a[b];throw Error("Index out of bounds");}if("string"===typeof a){if(0<=b&&b<a.length)return a.charAt(b);throw Error("Index out of bounds");}if(null!=a&&(a.v&64||r===a.ha)||null!=a&&(a.v&16777216||r===a.Vf)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=G(a);break a}throw Error("Index out of bounds");}if(se(a)){a=Fc.j(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(oc(Ec,a))return Fc.j(a,b);throw Error(["nth not supported on this type ",B.h(qc(pc(a)))].join(""));}
function S(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return null;if(null!=a&&(a.v&16||r===a.Sf))return a.la(null,b,null);if(mc(a))return 0<=b&&b<a.length?a[b]:null;if("string"===typeof a)return 0<=b&&b<a.length?a.charAt(b):null;if(null!=a&&(a.v&64||r===a.ha)||null!=a&&(a.v&16777216||r===a.Vf))return 0>b?null:De(a,b);if(oc(Ec,a))return Fc.l(a,b,null);throw Error(["nth not supported on this type ",B.h(qc(pc(a)))].join(""));}
var D=function D(a){switch(arguments.length){case 2:return D.j(arguments[0],arguments[1]);case 3:return D.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};D.j=function(a,b){return null==a?null:null!=a&&(a.v&256||r===a.Kg)?a.fa(null,b):mc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&b<a.length?a.charAt(b|0):null:oc(Kc,a)?Lc.j(a,b):null};
D.l=function(a,b,c){return null!=a?null!=a&&(a.v&256||r===a.Kg)?a.N(null,b,c):mc(a)?null!=b&&0<=b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&0<=b&&b<a.length?a.charAt(b|0):c:oc(Kc,a)?Lc.l(a,b,c):c:c};D.J=3;var T=function T(a){switch(arguments.length){case 3:return T.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return T.w(arguments[0],arguments[1],arguments[2],new F(c.slice(3),0,null))}};
T.l=function(a,b,c){return null!=a?Mc(a,b,c):Ee([b,c])};T.w=function(a,b,c,d){for(;;)if(a=T.l(a,b,c),z(d))b=G(d),c=G(J(d)),d=J(J(d));else return a};T.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);d=J(d);return this.w(b,a,c,d)};T.J=3;
var Fe=function Fe(a){switch(arguments.length){case 1:return Fe.h(arguments[0]);case 2:return Fe.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Fe.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};Fe.h=function(a){return a};Fe.j=function(a,b){return null==a?null:Pc(a,b)};Fe.w=function(a,b,c){for(;;){if(null==a)return null;a=Fe.j(a,b);if(z(c))b=G(c),c=J(c);else return a}};
Fe.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};Fe.J=2;function Ge(a){var b=ja(a);return b?b:null!=a?r===a.Dg?!0:a.ie?!1:oc(vc,a):oc(vc,a)}function He(a,b){this.C=a;this.meta=b;this.v=393217;this.K=0}h=He.prototype;h.ca=function(){return this.meta};h.ea=function(a,b){return new He(this.C,b)};h.Dg=r;
h.call=function(){function a(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I,ua){return Ie(this.C,b,c,d,e,R([f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I,ua]))}function b(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I){a=this;return a.C.lb?a.C.lb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I)}function c(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P){a=this;return a.C.kb?a.C.kb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P)}function d(a,
b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L){a=this;return a.C.jb?a.C.jb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L)}function e(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H){a=this;return a.C.ib?a.C.ib(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H)}function f(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x){a=this;return a.C.hb?a.C.hb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x)}function g(a,b,c,d,e,f,g,k,l,m,p,q,
t,u,w,y){a=this;return a.C.gb?a.C.gb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y)}function k(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w){a=this;return a.C.fb?a.C.fb(b,c,d,e,f,g,k,l,m,p,q,t,u,w):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w)}function l(a,b,c,d,e,f,g,k,l,m,p,q,t,u){a=this;return a.C.eb?a.C.eb(b,c,d,e,f,g,k,l,m,p,q,t,u):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u)}function m(a,b,c,d,e,f,g,k,l,m,p,q,t){a=this;return a.C.cb?a.C.cb(b,c,d,e,f,g,k,l,m,p,q,t):a.C.call(null,b,c,d,
e,f,g,k,l,m,p,q,t)}function p(a,b,c,d,e,f,g,k,l,m,p,q){a=this;return a.C.bb?a.C.bb(b,c,d,e,f,g,k,l,m,p,q):a.C.call(null,b,c,d,e,f,g,k,l,m,p,q)}function q(a,b,c,d,e,f,g,k,l,m,p){a=this;return a.C.ab?a.C.ab(b,c,d,e,f,g,k,l,m,p):a.C.call(null,b,c,d,e,f,g,k,l,m,p)}function t(a,b,c,d,e,f,g,k,l,m){a=this;return a.C.nb?a.C.nb(b,c,d,e,f,g,k,l,m):a.C.call(null,b,c,d,e,f,g,k,l,m)}function u(a,b,c,d,e,f,g,k,l){a=this;return a.C.Wa?a.C.Wa(b,c,d,e,f,g,k,l):a.C.call(null,b,c,d,e,f,g,k,l)}function w(a,b,c,d,e,f,
g,k){a=this;return a.C.mb?a.C.mb(b,c,d,e,f,g,k):a.C.call(null,b,c,d,e,f,g,k)}function x(a,b,c,d,e,f,g){a=this;return a.C.Ka?a.C.Ka(b,c,d,e,f,g):a.C.call(null,b,c,d,e,f,g)}function y(a,b,c,d,e,f){a=this;return a.C.ga?a.C.ga(b,c,d,e,f):a.C.call(null,b,c,d,e,f)}function L(a,b,c,d,e){a=this;return a.C.H?a.C.H(b,c,d,e):a.C.call(null,b,c,d,e)}function H(a,b,c,d){a=this;return a.C.l?a.C.l(b,c,d):a.C.call(null,b,c,d)}function P(a,b,c){a=this;return a.C.j?a.C.j(b,c):a.C.call(null,b,c)}function Ca(a,b){a=this;
return a.C.h?a.C.h(b):a.C.call(null,b)}function ua(a){a=this;return a.C.F?a.C.F():a.C.call(null)}var I=null;I=function(ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,nd,ce,Jf,Bh,Dm){switch(arguments.length){case 1:return ua.call(this,ca);case 2:return Ca.call(this,ca,Y);case 3:return P.call(this,ca,Y,Q);case 4:return H.call(this,ca,Y,Q,ta);case 5:return L.call(this,ca,Y,Q,ta,wa);case 6:return y.call(this,ca,Y,Q,ta,wa,za);case 7:return x.call(this,ca,Y,Q,ta,wa,za,ma);case 8:return w.call(this,ca,
Y,Q,ta,wa,za,ma,da);case 9:return u.call(this,ca,Y,Q,ta,wa,za,ma,da,Za);case 10:return t.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb);case 11:return q.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I);case 12:return p.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb);case 13:return m.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb);case 14:return l.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub);case 15:return k.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db);case 16:return g.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,
I,tb,fb,ub,Db,gc);case 17:return f.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac);case 18:return e.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,nd);case 19:return d.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,nd,ce);case 20:return c.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,nd,ce,Jf);case 21:return b.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,nd,ce,Jf,Bh);case 22:return a.call(this,ca,Y,Q,ta,wa,za,ma,da,Za,eb,I,tb,fb,ub,Db,gc,Ac,
nd,ce,Jf,Bh,Dm)}throw Error("Invalid arity: "+(arguments.length-1));};I.h=ua;I.j=Ca;I.l=P;I.H=H;I.ga=L;I.Ka=y;I.mb=x;I.Wa=w;I.nb=u;I.ab=t;I.bb=q;I.cb=p;I.eb=m;I.fb=l;I.gb=k;I.hb=g;I.ib=f;I.jb=e;I.kb=d;I.lb=c;I.Ne=b;I.Jg=a;return I}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.F=function(){return this.C.F?this.C.F():this.C.call(null)};h.h=function(a){return this.C.h?this.C.h(a):this.C.call(null,a)};h.j=function(a,b){return this.C.j?this.C.j(a,b):this.C.call(null,a,b)};
h.l=function(a,b,c){return this.C.l?this.C.l(a,b,c):this.C.call(null,a,b,c)};h.H=function(a,b,c,d){return this.C.H?this.C.H(a,b,c,d):this.C.call(null,a,b,c,d)};h.ga=function(a,b,c,d,e){return this.C.ga?this.C.ga(a,b,c,d,e):this.C.call(null,a,b,c,d,e)};h.Ka=function(a,b,c,d,e,f){return this.C.Ka?this.C.Ka(a,b,c,d,e,f):this.C.call(null,a,b,c,d,e,f)};h.mb=function(a,b,c,d,e,f,g){return this.C.mb?this.C.mb(a,b,c,d,e,f,g):this.C.call(null,a,b,c,d,e,f,g)};
h.Wa=function(a,b,c,d,e,f,g,k){return this.C.Wa?this.C.Wa(a,b,c,d,e,f,g,k):this.C.call(null,a,b,c,d,e,f,g,k)};h.nb=function(a,b,c,d,e,f,g,k,l){return this.C.nb?this.C.nb(a,b,c,d,e,f,g,k,l):this.C.call(null,a,b,c,d,e,f,g,k,l)};h.ab=function(a,b,c,d,e,f,g,k,l,m){return this.C.ab?this.C.ab(a,b,c,d,e,f,g,k,l,m):this.C.call(null,a,b,c,d,e,f,g,k,l,m)};h.bb=function(a,b,c,d,e,f,g,k,l,m,p){return this.C.bb?this.C.bb(a,b,c,d,e,f,g,k,l,m,p):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p)};
h.cb=function(a,b,c,d,e,f,g,k,l,m,p,q){return this.C.cb?this.C.cb(a,b,c,d,e,f,g,k,l,m,p,q):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q)};h.eb=function(a,b,c,d,e,f,g,k,l,m,p,q,t){return this.C.eb?this.C.eb(a,b,c,d,e,f,g,k,l,m,p,q,t):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t)};h.fb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u){return this.C.fb?this.C.fb(a,b,c,d,e,f,g,k,l,m,p,q,t,u):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u)};
h.gb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w){return this.C.gb?this.C.gb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w)};h.hb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x){return this.C.hb?this.C.hb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x)};h.ib=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y){return this.C.ib?this.C.ib(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y)};
h.jb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L){return this.C.jb?this.C.jb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L)};h.kb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H){return this.C.kb?this.C.kb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H)};
h.lb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P){return this.C.lb?this.C.lb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P):this.C.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P)};h.Ne=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca){return Ie(this.C,a,b,c,d,R([e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca]))};function Je(a,b){return ja(a)?new He(a,b):null==a?null:ad(a,b)}function Ke(a){var b=null!=a;return(b?null!=a?a.v&131072||r===a.Tf||(a.v?0:oc(Zc,a)):oc(Zc,a):b)?$c(a):null}
var Le=function Le(a){switch(arguments.length){case 1:return Le.h(arguments[0]);case 2:return Le.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Le.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};Le.h=function(a){return a};Le.j=function(a,b){return null==a?null:Tc(a,b)};Le.w=function(a,b,c){for(;;){if(null==a)return null;a=Le.j(a,b);if(z(c))b=G(c),c=J(c);else return a}};
Le.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};Le.J=2;function Me(a){return null==a||nc(E(a))}function Ne(a){return null==a?!1:null!=a?a.v&8||r===a.nh?!0:a.v?!1:oc(Cc,a):oc(Cc,a)}function Oe(a){return null==a?!1:null!=a?a.v&4096||r===a.yh?!0:a.v?!1:oc(Sc,a):oc(Sc,a)}function Pe(a){return null!=a?a.v&16777216||r===a.Vf?!0:a.v?!1:oc(jd,a):oc(jd,a)}function Qe(a){return null==a?!1:null!=a?a.v&1024||r===a.uh?!0:a.v?!1:oc(Oc,a):oc(Oc,a)}
function Re(a){return null!=a?a.v&67108864||r===a.wh?!0:a.v?!1:oc(ld,a):oc(ld,a)}function Se(a){return null!=a?a.v&16384||r===a.zh?!0:a.v?!1:oc(Wc,a):oc(Wc,a)}function Te(a){return null!=a?a.K&512||r===a.mh?!0:!1:!1}function Ue(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Ve={};function We(a){return null==a?!1:null!=a?a.v&64||r===a.ha?!0:a.v?!1:oc(Gc,a):oc(Gc,a)}function Xe(a){return null==a?!1:!1===a?!1:!0}
function Ye(a){var b=Ge(a);return b?b:null!=a?a.v&1||r===a.ph?!0:a.v?!1:oc(wc,a):oc(wc,a)}function Ze(a,b){return D.l(a,b,Ve)===Ve?!1:!0}function ye(a,b){return(b=E(b))?uc.l(a,G(b),J(b)):a.F?a.F():a.call(null)}function ze(a,b,c){for(c=E(c);;)if(c){var d=G(c);b=a.j?a.j(b,d):a.call(null,b,d);if(ke(b))return C(b);c=J(c)}else return b}
function $e(a,b){a=Jd(a);if(z(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(ke(c))return C(c)}else return c;else return b.F?b.F():b.call(null)}function af(a,b,c){for(a=Jd(a);;)if(a.pa()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(ke(c))return C(c)}else return c}
var uc=function uc(a){switch(arguments.length){case 2:return uc.j(arguments[0],arguments[1]);case 3:return uc.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};uc.j=function(a,b){return null!=b&&(b.v&524288||r===b.Lg)?b.Ea(null,a):mc(b)?oe(b,a):"string"===typeof b?oe(b,a):oc(bd,b)?cd.j(b,a):Yd(b)?$e(b,a):ye(a,b)};
uc.l=function(a,b,c){return null!=c&&(c.v&524288||r===c.Lg)?c.Fa(null,a,b):mc(c)?pe(c,a,b):"string"===typeof c?pe(c,a,b):oc(bd,c)?cd.l(c,a,b):Yd(c)?af(c,a,b):ze(a,b,c)};uc.J=3;function bf(a,b,c){return null!=c?ed(c,a,b):b}function cf(a){return a}
function df(a,b){return function(){function c(b,c){return a.j?a.j(b,c):a.call(null,b,c)}function d(a){return b.h?b.h(a):b.call(null,a)}function e(){return a.F?a.F():a.call(null)}var f=null;f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);};f.F=e;f.h=d;f.j=c;return f}()}function ef(a,b,c){return ff(a,b,b.F?b.F():b.call(null),c)}
function ff(a,b,c,d){a=a.h?a.h(b):a.call(null,b);c=uc.l(a,c,d);return a.h?a.h(c):a.call(null,c)}var gf=function gf(a){switch(arguments.length){case 0:return gf.F();case 1:return gf.h(arguments[0]);case 2:return gf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return gf.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};gf.F=function(){return 0};gf.h=function(a){return a};gf.j=function(a,b){return a+b};
gf.w=function(a,b,c){return uc.l(gf,a+b,c)};gf.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};gf.J=2;function hf(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function jf(a){return 0<=a?Math.floor(a):Math.ceil(a)}function kf(a,b){return jf((a-a%b)/b)}function lf(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
function mf(a){switch(arguments.length){case 1:return!0;case 2:return fd(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;a:for(c=arguments[0],d=arguments[1],b=new F(b.slice(2),0,null);;)if(c===d)if(J(b))c=d,d=G(b),b=J(b);else{c=d===G(b);break a}else{c=!1;break a}return c}}function nf(a,b){return fd(a,b)}
var B=function B(a){switch(arguments.length){case 0:return B.F();case 1:return B.h(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return B.w(arguments[0],new F(c.slice(1),0,null))}};B.F=function(){return""};B.h=function(a){return null==a?"":[a].join("")};B.w=function(a,b){for(a=new Cb(B.h(a));;)if(z(b))a=a.append(B.h(G(b))),b=J(b);else return a.toString()};B.M=function(a){var b=G(a);a=J(a);return this.w(b,a)};B.J=1;
function we(a,b){if(Pe(b))if(re(a)&&re(b)&&N(a)!==N(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&K.j(G(a),G(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Xe(a)}function Ce(a,b,c,d,e){this.meta=a;this.first=b;this.dc=c;this.count=d;this.G=e;this.v=65937646;this.K=8192}h=Ce.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,this.count)}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.rb=function(){return new Ce(this.meta,this.first,this.dc,this.count,this.G)};h.Sa=function(){return 1===this.count?null:this.dc};h.ka=function(){return this.count};h.qc=function(){return this.first};
h.rc=function(){return this.Ta(null)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return this.first};h.Ta=function(){return 1===this.count?$d:this.dc};h.ba=function(){return this};h.ea=function(a,b){return new Ce(b,this.first,this.dc,this.count,this.G)};
h.na=function(a,b){return new Ce(this.meta,b,this,this.count+1,null)};function of(a){return null!=a?a.v&33554432||r===a.sh?!0:a.v?!1:oc(kd,a):oc(kd,a)}Ce.prototype[rc]=function(){return be(this)};function pf(a){this.meta=a;this.v=65937614;this.K=8192}h=pf.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.rb=function(){return new pf(this.meta)};h.Sa=function(){return null};h.ka=function(){return 0};h.qc=function(){return null};h.rc=function(){throw Error("Can't pop empty list");};h.aa=function(){return fe};
h.I=function(a,b){return of(b)||Pe(b)?null==E(b):!1};h.sa=function(){return this};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return null};h.Ta=function(){return $d};h.ba=function(){return null};h.ea=function(a,b){return new pf(b)};h.na=function(a,b){return new Ce(this.meta,b,null,1,null)};var $d=new pf(null);pf.prototype[rc]=function(){return be(this)};
function qf(a){return(null!=a?a.v&134217728||r===a.xh||(a.v?0:oc(md,a)):oc(md,a))?(a=od(a))?a:$d:uc.l(Ae,$d,a)}var rf=function rf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return rf.w(0<c.length?new F(c.slice(0),0,null):null)};rf.w=function(a){if(a instanceof F&&0===a.i)var b=a.o;else a:for(b=[];;)if(null!=a)b.push(a.La(null)),a=a.Sa();else break a;a=b.length;for(var c=$d;;)if(0<a){var d=a-1;c=c.na(null,b[a-1]);a=d}else return c};rf.J=0;rf.M=function(a){return this.w(E(a))};
function sf(a,b,c,d){this.meta=a;this.first=b;this.dc=c;this.G=d;this.v=65929452;this.K=8192}h=sf.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.rb=function(){return new sf(this.meta,this.first,this.dc,this.G)};h.Sa=function(){return null==this.dc?null:E(this.dc)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return this.first};h.Ta=function(){return null==this.dc?$d:this.dc};h.ba=function(){return this};h.ea=function(a,b){return new sf(b,this.first,this.dc,this.G)};h.na=function(a,b){return new sf(null,b,this,null)};sf.prototype[rc]=function(){return be(this)};
function xe(a,b){return null==b||null!=b&&(b.v&64||r===b.ha)?new sf(null,a,b,null):new sf(null,a,E(b),null)}function U(a,b,c,d){this.nd=a;this.name=b;this.Ma=c;this.cd=d;this.v=2153775105;this.K=4096}h=U.prototype;h.toString=function(){return[":",B.h(this.Ma)].join("")};h.equiv=function(a){return this.I(null,a)};h.I=function(a,b){return b instanceof U?this.Ma===b.Ma:!1};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return D.j(c,this);case 3:return D.l(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return D.j(c,this)};a.l=function(a,c,d){return D.l(c,this,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return D.j(a,this)};h.j=function(a,b){return D.l(a,this,b)};
h.aa=function(){var a=this.cd;return null!=a?a:this.cd=a=Vd(Qd(this.name),Td(this.nd))+2654435769|0};h.yd=function(){return this.name};h.zd=function(){return this.nd};h.T=function(a,b){return pd(b,[":",B.h(this.Ma)].join(""))};function V(a,b){return a===b?!0:a instanceof U&&b instanceof U?a.Ma===b.Ma:!1}function tf(a){if(null!=a&&(a.K&4096||r===a.Re))return a.zd(null);throw Error(["Doesn't support namespace: ",B.h(a)].join(""));}
var uf=function uf(a){switch(arguments.length){case 1:return uf.h(arguments[0]);case 2:return uf.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};uf.h=function(a){if(a instanceof U)return a;if(a instanceof Wd)return new U(tf(a),vf(a),a.Gb,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new U(b[0],b[1],a,null):new U(null,b[0],a,null)}return null};
uf.j=function(a,b){a=a instanceof U?vf(a):a instanceof Wd?vf(a):a;b=b instanceof U?vf(b):b instanceof Wd?vf(b):b;return new U(a,b,[B.h(z(a)?[B.h(a),"/"].join(""):null),B.h(b)].join(""),null)};uf.J=2;function wf(a,b,c,d){this.meta=a;this.Id=b;this.s=c;this.G=d;this.v=32374988;this.K=1}h=wf.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};function xf(a){null!=a.Id&&(a.s=a.Id.F?a.Id.F():a.Id.call(null),a.Id=null);return a.s}
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){this.ba(null);return null==this.s?null:J(this.s)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};
h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){this.ba(null);return null==this.s?null:G(this.s)};h.Ta=function(){this.ba(null);return null!=this.s?Zd(this.s):$d};h.ba=function(){xf(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof wf)a=xf(a);else return this.s=a,E(this.s)};h.ea=function(a,b){return new wf(b,function(a){return function(){return a.ba(null)}}(this),null,this.G)};
h.na=function(a,b){return xe(b,this)};wf.prototype[rc]=function(){return be(this)};function yf(a){this.X=a;this.end=0;this.v=2;this.K=0}yf.prototype.add=function(a){this.X[this.end]=a;return this.end+=1};yf.prototype.yb=function(){var a=new zf(this.X,0,this.end);this.X=null;return a};yf.prototype.ka=function(){return this.end};function Af(a){return new yf(Array(a))}function zf(a,b,c){this.o=a;this.off=b;this.end=c;this.v=524306;this.K=0}h=zf.prototype;h.ka=function(){return this.end-this.off};
h.P=function(a,b){return this.o[this.off+b]};h.la=function(a,b,c){return 0<=b&&b<this.end-this.off?this.o[this.off+b]:c};h.Qf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new zf(this.o,this.off+1,this.end)};h.Ea=function(a,b){return qe(this.o,b,this.o[this.off],this.off+1)};h.Fa=function(a,b,c){return qe(this.o,b,c,this.off)};function Bf(a,b,c,d){this.yb=a;this.ac=b;this.meta=c;this.G=d;this.v=31850732;this.K=1536}h=Bf.prototype;h.toString=function(){return Ld(this)};
h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){return 1<zc(this.yb)?new Bf(Ad(this.yb),this.ac,this.meta,null):null==this.ac?null:id(this.ac)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.La=function(){return Fc.j(this.yb,0)};h.Ta=function(){return 1<zc(this.yb)?new Bf(Ad(this.yb),this.ac,this.meta,null):null==this.ac?$d:this.ac};h.ba=function(){return this};h.Me=function(){return this.yb};h.ce=function(){return null==this.ac?$d:this.ac};h.ea=function(a,b){return new Bf(this.yb,this.ac,b,this.G)};h.na=function(a,b){return xe(b,this)};h.Rf=function(){return null==this.ac?null:this.ac};Bf.prototype[rc]=function(){return be(this)};
function Cf(a,b){return 0===zc(a)?b:new Bf(a,b,null,null)}function Df(a,b){a.add(b)}function Ef(a){var b=[];for(a=E(a);;)if(null!=a)b.push(G(a)),a=J(a);else return b}function Ff(a,b){if(re(b))return N(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Gf=function Gf(a){if(null==a)return null;var c=J(a);return null==c?E(G(a)):xe(G(a),Gf.h?Gf.h(c):Gf.call(null,c))},Hf=function Hf(a){switch(arguments.length){case 0:return Hf.F();case 1:return Hf.h(arguments[0]);case 2:return Hf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hf.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};Hf.F=function(){return new wf(null,function(){return null},null,null)};
Hf.h=function(a){return new wf(null,function(){return a},null,null)};Hf.j=function(a,b){return new wf(null,function(){var c=E(a);return c?Te(c)?Cf(Bd(c),Hf.j(Cd(c),b)):xe(G(c),Hf.j(Zd(c),b)):b},null,null)};Hf.w=function(a,b,c){return function g(a,b){return new wf(null,function(){var c=E(a);return c?Te(c)?Cf(Bd(c),g(Cd(c),b)):xe(G(c),g(Zd(c),b)):z(b)?g(G(b),J(b)):null},null,null)}(Hf.j(a,b),c)};Hf.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};Hf.J=2;
var If=function If(a){switch(arguments.length){case 0:return If.F();case 1:return If.h(arguments[0]);case 2:return If.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return If.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};If.F=function(){return vd(Be)};If.h=function(a){return a};If.j=function(a,b){return wd(a,b)};If.w=function(a,b,c){for(;;)if(a=wd(a,b),z(c))b=G(c),c=J(c);else return a};
If.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};If.J=2;function Kf(a,b,c){return yd(a,b,c)}
function Lf(a,b,c){var d=E(c);if(0===b)return a.F?a.F():a.call(null);c=Hc(d);var e=Ic(d);if(1===b)return a.h?a.h(c):a.call(null,c);d=Hc(e);var f=Ic(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Hc(f);var g=Ic(f);if(3===b)return a.l?a.l(c,d,e):a.call(null,c,d,e);f=Hc(g);var k=Ic(g);if(4===b)return a.H?a.H(c,d,e,f):a.call(null,c,d,e,f);g=Hc(k);var l=Ic(k);if(5===b)return a.ga?a.ga(c,d,e,f,g):a.call(null,c,d,e,f,g);k=Hc(l);var m=Ic(l);if(6===b)return a.Ka?a.Ka(c,d,e,f,g,k):a.call(null,c,d,e,f,g,
k);l=Hc(m);var p=Ic(m);if(7===b)return a.mb?a.mb(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=Hc(p);var q=Ic(p);if(8===b)return a.Wa?a.Wa(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);p=Hc(q);var t=Ic(q);if(9===b)return a.nb?a.nb(c,d,e,f,g,k,l,m,p):a.call(null,c,d,e,f,g,k,l,m,p);q=Hc(t);var u=Ic(t);if(10===b)return a.ab?a.ab(c,d,e,f,g,k,l,m,p,q):a.call(null,c,d,e,f,g,k,l,m,p,q);t=Hc(u);var w=Ic(u);if(11===b)return a.bb?a.bb(c,d,e,f,g,k,l,m,p,q,t):a.call(null,c,d,e,f,g,k,l,m,p,q,t);u=Hc(w);var x=Ic(w);
if(12===b)return a.cb?a.cb(c,d,e,f,g,k,l,m,p,q,t,u):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u);w=Hc(x);var y=Ic(x);if(13===b)return a.eb?a.eb(c,d,e,f,g,k,l,m,p,q,t,u,w):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w);x=Hc(y);var L=Ic(y);if(14===b)return a.fb?a.fb(c,d,e,f,g,k,l,m,p,q,t,u,w,x):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x);y=Hc(L);var H=Ic(L);if(15===b)return a.gb?a.gb(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y);L=Hc(H);var P=Ic(H);if(16===b)return a.hb?a.hb(c,d,e,f,g,k,l,
m,p,q,t,u,w,x,y,L):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L);H=Hc(P);var Ca=Ic(P);if(17===b)return a.ib?a.ib(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H);P=Hc(Ca);var ua=Ic(Ca);if(18===b)return a.jb?a.jb(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P);Ca=Hc(ua);ua=Ic(ua);if(19===b)return a.kb?a.kb(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca);var I=Hc(ua);Ic(ua);if(20===b)return a.lb?
a.lb(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca,I):a.call(null,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca,I);throw Error("Only up to 20 arguments supported on functions");}function Mf(a,b,c){if(null==c)a=a.h?a.h(b):a.call(a,b);else{var d=Hc(c);c=J(c);a=null==c?a.j?a.j(b,d):a.call(a,b,d):Nf(a,b,d,Hc(c),J(c))}return a}function Nf(a,b,c,d,e){return null==e?a.l?a.l(b,c,d):a.call(a,b,c,d):Of(a,b,c,d,Hc(e),J(e))}
function Of(a,b,c,d,e,f){if(null==f)return a.H?a.H(b,c,d,e):a.call(a,b,c,d,e);var g=Hc(f),k=J(f);if(null==k)return a.ga?a.ga(b,c,d,e,g):a.call(a,b,c,d,e,g);f=Hc(k);var l=J(k);if(null==l)return a.Ka?a.Ka(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=Hc(l);var m=J(l);if(null==m)return a.mb?a.mb(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=Hc(m);var p=J(m);if(null==p)return a.Wa?a.Wa(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=Hc(p);var q=J(p);if(null==q)return a.nb?a.nb(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,f,
k,l,m);p=Hc(q);var t=J(q);if(null==t)return a.ab?a.ab(b,c,d,e,g,f,k,l,m,p):a.call(a,b,c,d,e,g,f,k,l,m,p);q=Hc(t);var u=J(t);if(null==u)return a.bb?a.bb(b,c,d,e,g,f,k,l,m,p,q):a.call(a,b,c,d,e,g,f,k,l,m,p,q);t=Hc(u);var w=J(u);if(null==w)return a.cb?a.cb(b,c,d,e,g,f,k,l,m,p,q,t):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t);u=Hc(w);var x=J(w);if(null==x)return a.eb?a.eb(b,c,d,e,g,f,k,l,m,p,q,t,u):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u);w=Hc(x);var y=J(x);if(null==y)return a.fb?a.fb(b,c,d,e,g,f,k,l,m,p,q,t,u,w):a.call(a,
b,c,d,e,g,f,k,l,m,p,q,t,u,w);x=Hc(y);var L=J(y);if(null==L)return a.gb?a.gb(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u,w,x);y=Hc(L);var H=J(L);if(null==H)return a.hb?a.hb(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y);L=Hc(H);var P=J(H);if(null==P)return a.ib?a.ib(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L);H=Hc(P);var Ca=J(P);if(null==Ca)return a.jb?a.jb(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H):a.call(a,b,c,d,e,g,f,
k,l,m,p,q,t,u,w,x,y,L,H);P=Hc(Ca);var ua=J(Ca);if(null==ua)return a.kb?a.kb(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H,P):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H,P);Ca=Hc(ua);ua=J(ua);if(null==ua)return a.lb?a.lb(b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca):a.call(a,b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca);b=[b,c,d,e,g,f,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca];for(c=ua;;)if(c)b.push(Hc(c)),c=J(c);else break;return a.apply(a,b)}
function Pf(a,b){if(a.M){var c=a.J,d=Ff(c+1,b);return d<=c?Lf(a,d,b):a.M(b)}b=E(b);return null==b?a.F?a.F():a.call(a):Mf(a,Hc(b),J(b))}function Qf(a,b,c){if(a.M){b=xe(b,c);var d=a.J;c=Ff(d,c)+1;return c<=d?Lf(a,c,b):a.M(b)}return Mf(a,b,E(c))}function Rf(a,b,c,d,e){return a.M?(b=xe(b,xe(c,xe(d,e))),c=a.J,e=3+Ff(c-2,e),e<=c?Lf(a,e,b):a.M(b)):Nf(a,b,c,d,E(e))}function Ie(a,b,c,d,e,f){return a.M?(f=Gf(f),b=xe(b,xe(c,xe(d,xe(e,f)))),c=a.J,f=4+Ff(c-3,f),f<=c?Lf(a,f,b):a.M(b)):Of(a,b,c,d,e,Gf(f))}
function Sf(a,b){return!K.j(a,b)}function Tf(a){return E(a)?a:null}
function Uf(){if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof Zb)Zb=function(a){this.Ug=a;this.v=393216;this.K=0},Zb.prototype.ea=function(a,b){return new Zb(b)},Zb.prototype.ca=function(){return this.Ug},Zb.prototype.pa=function(){return!1},Zb.prototype.next=function(){return Error("No such element")},Zb.prototype.remove=function(){return Error("Unsupported operation")},Zb.Kd=function(){return new W(null,1,5,X,[Vf],null)},Zb.Pc=!0,Zb.sc="cljs.core/t_cljs$core38750",Zb.hd=
function(a,b){return pd(b,"cljs.core/t_cljs$core38750")};return new Zb(Z)}function Wf(a){this.s=a;this.i=0}Wf.prototype.pa=function(){return this.i<this.s.length};Wf.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};Wf.prototype.remove=function(){return Error("Unsupported operation")};function Xf(a){this.o=a;this.i=0}Xf.prototype.pa=function(){return this.i<this.o.length};Xf.prototype.next=function(){var a=this.o[this.i];this.i+=1;return a};Xf.prototype.remove=function(){return Error("Unsupported operation")};
var Yf={},Zf={};function $f(a){this.vd=Yf;this.Jb=a}$f.prototype.pa=function(){this.vd===Yf?(this.vd=Zf,this.Jb=E(this.Jb)):this.vd===this.Jb&&(this.Jb=J(this.vd));return null!=this.Jb};$f.prototype.next=function(){if(this.pa())return this.vd=this.Jb,G(this.Jb);throw Error("No such element");};$f.prototype.remove=function(){return Error("Unsupported operation")};
function ag(a){if(Yd(a))return Jd(a);if(null==a)return Uf();if("string"===typeof a)return new Wf(a);if(mc(a))return new Xf(a);var b=null==a;b||(b=(b=null!=a?a.v&8388608||r===a.Uf?!0:a.v?!1:oc(hd,a):oc(hd,a))?b:mc(a)||"string"===typeof a);if(b)return new $f(a);throw Error(["Cannot create iterator from ",B.h(a)].join(""));}function bg(a){this.De=a}bg.prototype.add=function(a){this.De.push(a);return this};bg.prototype.remove=function(){return this.De.shift()};bg.prototype.Db=function(){return 0===this.De.length};
bg.prototype.toString=function(){return["Many: ",B.h(this.De)].join("")};var cg={};function dg(a){this.A=a}dg.prototype.add=function(a){return this.A===cg?(this.A=a,this):new bg([this.A,a])};dg.prototype.remove=function(){if(this.A===cg)throw Error("Removing object from empty buffer");var a=this.A;this.A=cg;return a};dg.prototype.Db=function(){return this.A===cg};dg.prototype.toString=function(){return["Single: ",B.h(this.A)].join("")};function eg(){}eg.prototype.add=function(a){return new dg(a)};
eg.prototype.remove=function(){throw Error("Removing object from empty buffer");};eg.prototype.Db=function(){return!0};eg.prototype.toString=function(){return"Empty"};var fg=new eg,gg=function gg(a){return new wf(null,function(){if(a.pa())for(var c=[],d=0;;){var e=a.pa();if(z(z(e)?32>d:e))c[d]=a.next(),d+=1;else return Cf(new zf(c,0,d),gg.h?gg.h(a):gg.call(null,a))}else return null},null,null)};function hg(a){this.buffer=fg;this.Jb=cg;this.af=!1;this.fc=null;this.Bf=a;this.ah=!1}
hg.prototype.step=function(){if(this.Jb!==cg)return!0;for(;;)if(this.Jb===cg)if(this.buffer.Db()){if(this.af)return!1;if(this.Bf.pa()){if(this.ah)var a=Pf(this.fc,xe(null,this.Bf.next()));else a=this.Bf.next(),a=this.fc.j?this.fc.j(null,a):this.fc.call(null,null,a);ke(a)&&(this.fc.h?this.fc.h(null):this.fc.call(null,null),this.af=!0)}else this.fc.h?this.fc.h(null):this.fc.call(null,null),this.af=!0}else this.Jb=this.buffer.remove();else return!0};hg.prototype.pa=function(){return this.step()};
hg.prototype.next=function(){if(this.pa()){var a=this.Jb;this.Jb=cg;return a}throw Error("No such element");};hg.prototype.remove=function(){return Error("Unsupported operation")};hg.prototype[rc]=function(){return be(this)};
function ig(a,b){var c=new hg(b);c.fc=function(){var b=function(a){return function(){function b(b,c){a.buffer=a.buffer.add(c);return b}var c=null;c=function(a,c){switch(arguments.length){case 0:return null;case 1:return a;case 2:return b.call(this,a,c)}throw Error("Invalid arity: "+arguments.length);};c.F=function(){return null};c.h=function(a){return a};c.j=b;return c}()}(c);return a.h?a.h(b):a.call(null,b)}();return c}
function jg(a,b){for(;;){if(null==E(b))return!0;var c=G(b);c=a.h?a.h(c):a.call(null,c);if(z(c))b=J(b);else return!1}}function kg(a){for(var b=cf;;)if(E(a)){var c=G(a);c=b.h?b.h(c):b.call(null,c);if(z(c))return c;a=J(a)}else return null}function lg(a){if("number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10))return 0===(a&1);throw Error(["Argument must be an integer: ",B.h(a)].join(""));}
function mg(a){return function(){function b(b){if(0<arguments.length)for(var c=0,e=Array(arguments.length-0);c<e.length;)e[c]=arguments[c+0],++c;return a}b.J=0;b.M=function(b){E(b);return a};b.w=function(){return a};return b}()}
var ng=function ng(a){switch(arguments.length){case 0:return ng.F();case 1:return ng.h(arguments[0]);case 2:return ng.j(arguments[0],arguments[1]);case 3:return ng.l(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ng.w(arguments[0],arguments[1],arguments[2],new F(c.slice(3),0,null))}};ng.F=function(){return cf};ng.h=function(a){return a};
ng.j=function(a,b){return function(){function c(c,d,e){c=b.l?b.l(c,d,e):b.call(null,c,d,e);return a.h?a.h(c):a.call(null,c)}function d(c,d){c=b.j?b.j(c,d):b.call(null,c,d);return a.h?a.h(c):a.call(null,c)}function e(c){c=b.h?b.h(c):b.call(null,c);return a.h?a.h(c):a.call(null,c)}function f(){var c=b.F?b.F():b.call(null);return a.h?a.h(c):a.call(null,c)}var g=null,k=function(){function c(a,b,c,e){var f=null;if(3<arguments.length){f=0;for(var g=Array(arguments.length-3);f<g.length;)g[f]=arguments[f+
3],++f;f=new F(g,0,null)}return d.call(this,a,b,c,f)}function d(c,d,e,f){c=Rf(b,c,d,e,f);return a.h?a.h(c):a.call(null,c)}c.J=3;c.M=function(a){var b=G(a);a=J(a);var c=G(a);a=J(a);var e=G(a);a=Zd(a);return d(b,c,e,a)};c.w=d;return c}();g=function(a,b,g,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var m=null;if(3<arguments.length){m=0;for(var l=Array(arguments.length-3);m<l.length;)l[m]=arguments[m+
3],++m;m=new F(l,0,null)}return k.w(a,b,g,m)}throw Error("Invalid arity: "+arguments.length);};g.J=3;g.M=k.M;g.F=f;g.h=e;g.j=d;g.l=c;g.w=k.w;return g}()};
ng.l=function(a,b,c){return function(){function d(d,e,f){d=c.l?c.l(d,e,f):c.call(null,d,e,f);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function e(d,e){d=c.j?c.j(d,e):c.call(null,d,e);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function f(d){d=c.h?c.h(d):c.call(null,d);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}function g(){var d=c.F?c.F():c.call(null);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}var k=null,l=function(){function d(a,
b,c,d){var f=null;if(3<arguments.length){f=0;for(var g=Array(arguments.length-3);f<g.length;)g[f]=arguments[f+3],++f;f=new F(g,0,null)}return e.call(this,a,b,c,f)}function e(d,e,f,g){d=Rf(c,d,e,f,g);d=b.h?b.h(d):b.call(null,d);return a.h?a.h(d):a.call(null,d)}d.J=3;d.M=function(a){var b=G(a);a=J(a);var c=G(a);a=J(a);var d=G(a);a=Zd(a);return e(b,c,d,a)};d.w=e;return d}();k=function(a,b,c,k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,a);case 2:return e.call(this,
a,b);case 3:return d.call(this,a,b,c);default:var m=null;if(3<arguments.length){m=0;for(var p=Array(arguments.length-3);m<p.length;)p[m]=arguments[m+3],++m;m=new F(p,0,null)}return l.w(a,b,c,m)}throw Error("Invalid arity: "+arguments.length);};k.J=3;k.M=l.M;k.F=g;k.h=f;k.j=e;k.l=d;k.w=l.w;return k}()};
ng.w=function(a,b,c,d){return function(a){return function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(b){b=Pf(G(a),b);for(var c=J(a);;)if(c){var d=G(c);b=d.h?d.h(b):d.call(null,b);c=J(c)}else return b}b.J=0;b.M=function(a){a=E(a);return c(a)};b.w=c;return b}()}(qf(xe(a,xe(b,xe(c,d)))))};
ng.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);d=J(d);return this.w(b,a,c,d)};ng.J=3;
var og=function og(a){switch(arguments.length){case 1:return og.h(arguments[0]);case 2:return og.j(arguments[0],arguments[1]);case 3:return og.l(arguments[0],arguments[1],arguments[2]);case 4:return og.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return og.w(arguments[0],arguments[1],arguments[2],arguments[3],new F(c.slice(4),0,null))}};og.h=function(a){return a};
og.j=function(a,b){return function(){function c(c,d,e){return a.H?a.H(b,c,d,e):a.call(null,b,c,d,e)}function d(c,d){return a.l?a.l(b,c,d):a.call(null,b,c,d)}function e(c){return a.j?a.j(b,c):a.call(null,b,c)}function f(){return a.h?a.h(b):a.call(null,b)}var g=null,k=function(){function c(a,b,c,e){var f=null;if(3<arguments.length){f=0;for(var g=Array(arguments.length-3);f<g.length;)g[f]=arguments[f+3],++f;f=new F(g,0,null)}return d.call(this,a,b,c,f)}function d(c,d,e,f){return Ie(a,b,c,d,e,R([f]))}
c.J=3;c.M=function(a){var b=G(a);a=J(a);var c=G(a);a=J(a);var e=G(a);a=Zd(a);return d(b,c,e,a)};c.w=d;return c}();g=function(a,b,g,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,a);case 2:return d.call(this,a,b);case 3:return c.call(this,a,b,g);default:var l=null;if(3<arguments.length){l=0;for(var m=Array(arguments.length-3);l<m.length;)m[l]=arguments[l+3],++l;l=new F(m,0,null)}return k.w(a,b,g,l)}throw Error("Invalid arity: "+arguments.length);};g.J=3;g.M=k.M;g.F=
f;g.h=e;g.j=d;g.l=c;g.w=k.w;return g}()};
og.l=function(a,b,c){return function(){function d(d,e,f){return a.ga?a.ga(b,c,d,e,f):a.call(null,b,c,d,e,f)}function e(d,e){return a.H?a.H(b,c,d,e):a.call(null,b,c,d,e)}function f(d){return a.l?a.l(b,c,d):a.call(null,b,c,d)}function g(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,l=function(){function d(a,b,c,d){var f=null;if(3<arguments.length){f=0;for(var g=Array(arguments.length-3);f<g.length;)g[f]=arguments[f+3],++f;f=new F(g,0,null)}return e.call(this,a,b,c,f)}function e(d,e,f,g){return Ie(a,
b,c,d,e,R([f,g]))}d.J=3;d.M=function(a){var b=G(a);a=J(a);var c=G(a);a=J(a);var d=G(a);a=Zd(a);return e(b,c,d,a)};d.w=e;return d}();k=function(a,b,c,k){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,a);case 2:return e.call(this,a,b);case 3:return d.call(this,a,b,c);default:var m=null;if(3<arguments.length){m=0;for(var p=Array(arguments.length-3);m<p.length;)p[m]=arguments[m+3],++m;m=new F(p,0,null)}return l.w(a,b,c,m)}throw Error("Invalid arity: "+arguments.length);
};k.J=3;k.M=l.M;k.F=g;k.h=f;k.j=e;k.l=d;k.w=l.w;return k}()};
og.H=function(a,b,c,d){return function(){function e(e,f,g){return a.Ka?a.Ka(b,c,d,e,f,g):a.call(null,b,c,d,e,f,g)}function f(e,f){return a.ga?a.ga(b,c,d,e,f):a.call(null,b,c,d,e,f)}function g(e){return a.H?a.H(b,c,d,e):a.call(null,b,c,d,e)}function k(){return a.l?a.l(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function e(a,b,c,d){var e=null;if(3<arguments.length){e=0;for(var g=Array(arguments.length-3);e<g.length;)g[e]=arguments[e+3],++e;e=new F(g,0,null)}return f.call(this,a,b,c,e)}function f(e,
f,g,k){return Ie(a,b,c,d,e,R([f,g,k]))}e.J=3;e.M=function(a){var b=G(a);a=J(a);var c=G(a);a=J(a);var d=G(a);a=Zd(a);return f(b,c,d,a)};e.w=f;return e}();l=function(a,b,c,d){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,a);case 2:return f.call(this,a,b);case 3:return e.call(this,a,b,c);default:var l=null;if(3<arguments.length){l=0;for(var p=Array(arguments.length-3);l<p.length;)p[l]=arguments[l+3],++l;l=new F(p,0,null)}return m.w(a,b,c,l)}throw Error("Invalid arity: "+
arguments.length);};l.J=3;l.M=m.M;l.F=k;l.h=g;l.j=f;l.l=e;l.w=m.w;return l}()};og.w=function(a,b,c,d,e){return function(){function f(a){var b=null;if(0<arguments.length){b=0;for(var c=Array(arguments.length-0);b<c.length;)c[b]=arguments[b+0],++b;b=new F(c,0,null)}return g.call(this,b)}function g(f){return Rf(a,b,c,d,Hf.j(e,f))}f.J=0;f.M=function(a){a=E(a);return g(a)};f.w=g;return f}()};og.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);var e=J(d);d=G(e);e=J(e);return this.w(b,a,c,d,e)};
og.J=4;function pg(a,b){return new wf(null,function(){var c=E(b);if(c){if(Te(c)){for(var d=Bd(c),e=N(d),f=Af(e),g=0;;)if(g<e){var k=function(){var b=Fc.j(d,g);return a.h?a.h(b):a.call(null,b)}();null!=k&&f.add(k);g+=1}else break;return Cf(f.yb(),pg(a,Cd(c)))}e=function(){var b=G(c);return a.h?a.h(b):a.call(null,b)}();return null==e?pg(a,Zd(c)):xe(e,pg(a,Zd(c)))}return null},null,null)}function qg(a){this.state=a;this.qb=this.ad=this.meta=null;this.K=16386;this.v=6455296}h=qg.prototype;
h.equiv=function(a){return this.I(null,a)};h.I=function(a,b){return this===b};h.Ab=function(){return this.state};h.ca=function(){return this.meta};h.fe=function(a,b,c){a=E(this.qb);for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f),k=S(g,0);g=S(g,1);g.H?g.H(k,this,b,c):g.call(null,k,this,b,c);f+=1}else if(a=E(a))Te(a)?(d=Bd(a),a=Cd(a),k=d,e=N(d),d=k):(d=G(a),k=S(d,0),g=S(d,1),g.H?g.H(k,this,b,c):g.call(null,k,this,b,c),a=J(a),d=null,e=0),f=0;else return null};
h.ee=function(a,b,c){this.qb=T.l(this.qb,b,c);return this};h.ge=function(a,b){return this.qb=Fe.j(this.qb,b)};h.aa=function(){return la(this)};function rg(a){return new qg(a)}function sg(a,b){if(a instanceof qg){var c=a.ad;if(null!=c&&!z(c.h?c.h(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.qb&&sd(a,c,b);return b}return Fd(a,b)}
var tg=function tg(a){switch(arguments.length){case 2:return tg.j(arguments[0],arguments[1]);case 3:return tg.l(arguments[0],arguments[1],arguments[2]);case 4:return tg.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return tg.w(arguments[0],arguments[1],arguments[2],arguments[3],new F(c.slice(4),0,null))}};
tg.j=function(a,b){if(a instanceof qg){var c=a.state;b=b.h?b.h(c):b.call(null,c);a=sg(a,b)}else a=Gd.j(a,b);return a};tg.l=function(a,b,c){if(a instanceof qg){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=sg(a,b)}else a=Gd.l(a,b,c);return a};tg.H=function(a,b,c,d){if(a instanceof qg){var e=a.state;b=b.l?b.l(e,c,d):b.call(null,e,c,d);a=sg(a,b)}else a=Gd.H(a,b,c,d);return a};tg.w=function(a,b,c,d,e){return a instanceof qg?sg(a,Rf(b,a.state,c,d,e)):Gd.ga(a,b,c,d,e)};
tg.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);var e=J(d);d=G(e);e=J(e);return this.w(b,a,c,d,e)};tg.J=4;function ug(a){return K.j(a.Ab(null),!1)?(sg(a,!0),!0):!1}function vg(a){this.state=a;this.v=32768;this.K=0}vg.prototype.Oc=function(a,b){return this.state=b};vg.prototype.Ab=function(){return this.state};
var wg=function wg(a){switch(arguments.length){case 1:return wg.h(arguments[0]);case 2:return wg.j(arguments[0],arguments[1]);case 3:return wg.l(arguments[0],arguments[1],arguments[2]);case 4:return wg.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return wg.w(arguments[0],arguments[1],arguments[2],arguments[3],new F(c.slice(4),0,null))}};
wg.h=function(a){return function(b){return function(){function c(c,d){d=a.h?a.h(d):a.call(null,d);return b.j?b.j(c,d):b.call(null,c,d)}function d(a){return b.h?b.h(a):b.call(null,a)}function e(){return b.F?b.F():b.call(null)}var f=null,g=function(){function c(a,b,c){var e=null;if(2<arguments.length){e=0;for(var f=Array(arguments.length-2);e<f.length;)f[e]=arguments[e+2],++e;e=new F(f,0,null)}return d.call(this,a,b,e)}function d(c,d,e){d=Qf(a,d,e);return b.j?b.j(c,d):b.call(null,c,d)}c.J=2;c.M=function(a){var b=
G(a);a=J(a);var c=G(a);a=Zd(a);return d(b,c,a)};c.w=d;return c}();f=function(a,b,f){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b);default:var k=null;if(2<arguments.length){k=0;for(var l=Array(arguments.length-2);k<l.length;)l[k]=arguments[k+2],++k;k=new F(l,0,null)}return g.w(a,b,k)}throw Error("Invalid arity: "+arguments.length);};f.J=2;f.M=g.M;f.F=e;f.h=d;f.j=c;f.w=g.w;return f}()}};
wg.j=function(a,b){return new wf(null,function(){var c=E(b);if(c){if(Te(c)){for(var d=Bd(c),e=N(d),f=Af(e),g=0;;)if(g<e)Df(f,function(){var b=Fc.j(d,g);return a.h?a.h(b):a.call(null,b)}()),g+=1;else break;return Cf(f.yb(),wg.j(a,Cd(c)))}return xe(function(){var b=G(c);return a.h?a.h(b):a.call(null,b)}(),wg.j(a,Zd(c)))}return null},null,null)};
wg.l=function(a,b,c){return new wf(null,function(){var d=E(b),e=E(c);if(d&&e){var f=xe;var g=G(d);var k=G(e);g=a.j?a.j(g,k):a.call(null,g,k);d=f(g,wg.l(a,Zd(d),Zd(e)))}else d=null;return d},null,null)};wg.H=function(a,b,c,d){return new wf(null,function(){var e=E(b),f=E(c),g=E(d);if(e&&f&&g){var k=xe;var l=G(e);var m=G(f),p=G(g);l=a.l?a.l(l,m,p):a.call(null,l,m,p);e=k(l,wg.H(a,Zd(e),Zd(f),Zd(g)))}else e=null;return e},null,null)};
wg.w=function(a,b,c,d,e){var f=function l(a){return new wf(null,function(){var b=wg.j(E,a);return jg(cf,b)?xe(wg.j(G,b),l(wg.j(Zd,b))):null},null,null)};return wg.j(function(){return function(b){return Pf(a,b)}}(f),f(Ae.w(e,d,R([c,b]))))};wg.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);var e=J(d);d=G(e);e=J(e);return this.w(b,a,c,d,e)};wg.J=4;
function xg(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new wf(null,function(){if(0<a){var c=E(b);return c?xe(G(c),xg(a-1,Zd(c))):null}return null},null,null)}function yg(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new wf(null,function(c){return function(){return c(a,b)}}(function(a,b){for(;;)if(b=E(b),0<a&&b)--a,b=Zd(b);else return b}),null,null)}function zg(a){return wg.l(function(a){return a},a,yg(2,a))}
function Ag(a,b,c,d,e){this.meta=a;this.count=b;this.A=c;this.next=d;this.G=e;this.v=32374988;this.K=1}h=Ag.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,this.count)}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){return null==this.next?1<this.count?this.next=new Ag(null,this.count-1,this.A,null,null):-1===this.count?this:null:this.next};
h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.A,this.A):b.call(null,this.A,this.A);;){if(ke(c))return C(c);c=b.j?b.j(c,this.A):b.call(null,c,this.A)}else for(a=1,c=this.A;;)if(a<this.count){c=b.j?b.j(c,this.A):b.call(null,c,this.A);if(ke(c))return C(c);a+=1}else return c};
h.Fa=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.A):b.call(null,c,this.A);;){if(ke(c))return C(c);c=b.j?b.j(c,this.A):b.call(null,c,this.A)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.A):b.call(null,c,this.A);if(ke(c))return C(c);a+=1}else return c};h.La=function(){return this.A};h.Ta=function(){return null==this.next?1<this.count?this.next=new Ag(null,this.count-1,this.A,null,null):-1===this.count?this:$d:this.next};h.ba=function(){return this};
h.ea=function(a,b){return new Ag(b,this.count,this.A,this.next,null)};h.na=function(a,b){return xe(b,this)};var Bg=function Bg(a){switch(arguments.length){case 0:return Bg.F();case 1:return Bg.h(arguments[0]);case 2:return Bg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Bg.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};Bg.F=function(){return $d};Bg.h=function(a){return new wf(null,function(){return a},null,null)};
Bg.j=function(a,b){return new wf(null,function(){var c=E(a),d=E(b);return c&&d?xe(G(c),xe(G(d),Bg.j(Zd(c),Zd(d)))):null},null,null)};Bg.w=function(a,b,c){return new wf(null,function(){var d=wg.j(E,Ae.w(c,b,R([a])));return jg(cf,d)?Hf.j(wg.j(G,d),Pf(Bg,wg.j(Zd,d))):null},null,null)};Bg.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};Bg.J=2;
function Cg(){return function(a){return function(b){return function(){function c(c,d){if(z(C(b)))return c=a.j?a.j(c," "):a.call(null,c," "),ke(c)?c:a.j?a.j(c,d):a.call(null,c,d);Hd(b,!0);return a.j?a.j(c,d):a.call(null,c,d)}function d(b){return a.h?a.h(b):a.call(null,b)}function e(){return a.F?a.F():a.call(null)}var f=null;f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+arguments.length);
};f.F=e;f.h=d;f.j=c;return f}()}(new vg(!1))}}var Dg=function Dg(a){switch(arguments.length){case 0:return Dg.F();case 1:return Dg.h(arguments[0]);case 2:return Dg.j(arguments[0],arguments[1]);case 3:return Dg.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Dg.F=function(){return Be};Dg.h=function(a){return a};Dg.j=function(a,b){return null!=a?null!=a&&(a.K&4||r===a.Fg)?ad(xd(uc.l(wd,vd(a),b)),Ke(a)):uc.l(Dc,a,b):uc.l(Ae,$d,b)};
Dg.l=function(a,b,c){return null!=a&&(a.K&4||r===a.Fg)?ad(xd(ff(b,If,vd(a),c)),Ke(a)):ff(b,Ae,a,c)};Dg.J=3;function Eg(a,b){return xd(uc.l(function(b,d){return If.j(b,a.h?a.h(d):a.call(null,d))},vd(Be),b))}function Fg(a,b){return xd(uc.l(function(b,d){return z(a.h?a.h(d):a.call(null,d))?If.j(b,d):b},vd(Be),b))}function Gg(a,b){return uc.l(D,a,b)}function Hg(a,b,c){var d=Ve;for(b=E(b);;)if(null!=b){a=D.l(a,G(b),d);if(d===a)return c;b=J(b)}else return a}
var Ig=function Ig(a,b,c){b=E(b);var e=G(b),f=J(b);return f?T.l(a,e,function(){var b=D.j(a,e);return Ig.l?Ig.l(b,f,c):Ig.call(null,b,f,c)}()):T.l(a,e,c)},Jg=function Jg(a){switch(arguments.length){case 3:return Jg.l(arguments[0],arguments[1],arguments[2]);case 4:return Jg.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Jg.ga(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Jg.Ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Jg.w(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new F(c.slice(6),0,null))}};Jg.l=function(a,b,c){b=E(b);var d=G(b);return(b=J(b))?T.l(a,d,Jg.l(D.j(a,d),b,c)):T.l(a,d,function(){var b=D.j(a,d);return c.h?c.h(b):c.call(null,b)}())};
Jg.H=function(a,b,c,d){b=E(b);var e=G(b);return(b=J(b))?T.l(a,e,Jg.H(D.j(a,e),b,c,d)):T.l(a,e,function(){var b=D.j(a,e);return c.j?c.j(b,d):c.call(null,b,d)}())};Jg.ga=function(a,b,c,d,e){b=E(b);var f=G(b);return(b=J(b))?T.l(a,f,Jg.ga(D.j(a,f),b,c,d,e)):T.l(a,f,function(){var b=D.j(a,f);return c.l?c.l(b,d,e):c.call(null,b,d,e)}())};
Jg.Ka=function(a,b,c,d,e,f){b=E(b);var g=G(b);return(b=J(b))?T.l(a,g,Jg.Ka(D.j(a,g),b,c,d,e,f)):T.l(a,g,function(){var b=D.j(a,g);return c.H?c.H(b,d,e,f):c.call(null,b,d,e,f)}())};Jg.w=function(a,b,c,d,e,f,g){var k=E(b);b=G(k);return(k=J(k))?T.l(a,b,Ie(Jg,D.j(a,b),k,c,d,R([e,f,g]))):T.l(a,b,Ie(c,D.j(a,b),d,e,f,R([g])))};Jg.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);var e=J(d);d=G(e);var f=J(e);e=G(f);var g=J(f);f=G(g);g=J(g);return this.w(b,a,c,d,e,f,g)};Jg.J=6;
function Kg(a,b){this.ta=a;this.o=b}function Lg(a){return new Kg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Mg(a){return new Kg(a.ta,sc(a.o))}function Ng(a){a=a.B;return 32>a?0:a-1>>>5<<5}function Og(a,b,c){for(;;){if(0===b)return c;var d=Lg(a);d.o[0]=c;c=d;b-=5}}
var Pg=function Pg(a,b,c,d){var f=Mg(c),g=a.B-1>>>b&31;5===b?f.o[g]=d:(c=c.o[g],null!=c?(b-=5,a=Pg.H?Pg.H(a,b,c,d):Pg.call(null,a,b,c,d)):a=Og(null,b-5,d),f.o[g]=a);return f};function Qg(a,b){throw Error(["No item ",B.h(a)," in vector of length ",B.h(b)].join(""));}function Rg(a,b){if(b>=Ng(a))return a.ra;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.o[b>>>a&31];a=d}else return c.o}
var Sg=function Sg(a,b,c,d,e){var g=Mg(c);if(0===b)g.o[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.o[k];a=Sg.ga?Sg.ga(a,b,c,d,e):Sg.call(null,a,b,c,d,e);g.o[k]=a}return g},Tg=function Tg(a,b,c){var e=a.B-2>>>b&31;if(5<b){b-=5;var f=c.o[e];a=Tg.l?Tg.l(a,b,f):Tg.call(null,a,b,f);if(null==a&&0===e)return null;c=Mg(c);c.o[e]=a;return c}if(0===e)return null;c=Mg(c);c.o[e]=null;return c};function Ug(a,b,c,d,e,f){this.i=a;this.base=b;this.o=c;this.Qa=d;this.start=e;this.end=f}
Ug.prototype.pa=function(){return this.i<this.end};Ug.prototype.next=function(){32===this.i-this.base&&(this.o=Rg(this.Qa,this.i),this.base+=32);var a=this.o[this.i&31];this.i+=1;return a};function Vg(a,b,c){return new Ug(b,b-b%32,b<N(a)?Rg(a,b):null,a,b,c)}function Wg(a,b,c,d){return c<d?Xg(a,b,te(a,c),c+1,d):b.F?b.F():b.call(null)}
function Xg(a,b,c,d,e){var f=c;c=d;for(d=Rg(a,d);;)if(c<e){var g=c&31;d=0===g?Rg(a,c):d;g=d[g];f=b.j?b.j(f,g):b.call(null,f,g);if(ke(f))return C(f);c+=1}else return f}function W(a,b,c,d,e,f){this.meta=a;this.B=b;this.shift=c;this.root=d;this.ra=e;this.G=f;this.v=167666463;this.K=139268}h=W.prototype;h.nc=function(a,b){return 0<=b&&b<this.B?new Yg(b,Rg(this,b)[b&31],null):null};h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
h.oc=function(a,b,c){a=0;for(var d=c;;)if(a<this.B){var e=Rg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.l?b.l(d,g,k):b.call(null,d,g,k);if(ke(d)){e=d;break a}f+=1}else{e=d;break a}if(ke(e))return C(e);a+=c;d=e}else return d};h.Le=r;h.P=function(a,b){return(0<=b&&b<this.B?Rg(this,b):Qg(b,this.B))[b&31]};h.la=function(a,b,c){return 0<=b&&b<this.B?Rg(this,b)[b&31]:c};
h.Xb=function(a,b,c){if(0<=b&&b<this.B)return Ng(this)<=b?(a=sc(this.ra),a[b&31]=c,new W(this.meta,this.B,this.shift,this.root,a,null)):new W(this.meta,this.B,this.shift,Sg(this,this.shift,this.root,b,c),this.ra,null);if(b===this.B)return this.na(null,c);throw Error(["Index ",B.h(b)," out of bounds  [0,",B.h(this.B),"]"].join(""));};h.sb=function(){return Vg(this,0,this.B)};h.ca=function(){return this.meta};h.rb=function(){return new W(this.meta,this.B,this.shift,this.root,this.ra,this.G)};h.ka=function(){return this.B};
h.qc=function(){return 0<this.B?this.P(null,this.B-1):null};h.rc=function(){if(0===this.B)throw Error("Can't pop empty vector");if(1===this.B)return ad(Be,this.meta);if(1<this.B-Ng(this))return new W(this.meta,this.B-1,this.shift,this.root,this.ra.slice(0,-1),null);var a=Rg(this,this.B-2),b=Tg(this,this.shift,this.root);b=null==b?X:b;var c=this.B-1;return 5<this.shift&&null==b.o[1]?new W(this.meta,c,this.shift-5,b.o[0],a,null):new W(this.meta,c,this.shift,b,a,null)};
h.pc=function(){return 0<this.B?new ve(this,this.B-1,null):null};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){if(b instanceof W)if(this.B===N(b))for(a=this.sb(null),b=Jd(b);;)if(a.pa()){var c=a.next(),d=b.next();if(!K.j(c,d))return!1}else return!0;else return!1;else return we(this,b)};
h.gd=function(){var a=this.B,b=this.shift,c=new Kg({},sc(this.root.o)),d=this.ra,e=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Ue(d,0,e,0,d.length);return new Zg(a,b,c,e)};h.sa=function(){return ad(Be,this.meta)};h.Ea=function(a,b){return Wg(this,b,0,this.B)};
h.Fa=function(a,b,c){a=0;for(var d=c;;)if(a<this.B){var e=Rg(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.j?b.j(d,g):b.call(null,d,g);if(ke(d)){e=d;break a}f+=1}else{e=d;break a}if(ke(e))return C(e);a+=c;d=e}else return d};h.Va=function(a,b,c){if("number"===typeof b)return this.Xb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
h.ba=function(){if(0===this.B)var a=null;else if(32>=this.B)a=new F(this.ra,0,null);else{a:{a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.o[0];else{a=a.o;break a}}a=new $g(this,a,0,0,null,null)}return a};h.ea=function(a,b){return new W(b,this.B,this.shift,this.root,this.ra,this.G)};
h.na=function(a,b){if(32>this.B-Ng(this)){a=this.ra.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.ra[d],d+=1;else break;c[a]=b;return new W(this.meta,this.B+1,this.shift,this.root,c,null)}a=(c=this.B>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Lg(null),c.o[0]=this.root,d=Og(null,this.shift,new Kg(null,this.ra)),c.o[1]=d):c=Pg(this,this.shift,this.root,new Kg(null,this.ra));return new W(this.meta,this.B+1,a,c,[b],null)};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.P(null,c);case 3:return this.la(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.P(null,c)};a.l=function(a,c,d){return this.la(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.P(null,a)};h.j=function(a,b){return this.la(null,a,b)};
var X=new Kg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Be=new W(null,0,5,X,[],fe);function ah(a){var b=a.length;if(32>b)return new W(null,b,5,X,a,null);for(var c=32,d=(new W(null,32,5,X,a.slice(0,32),null)).gd(null);;)if(c<b){var e=c+1;d=If.j(d,a[c]);c=e}else return xd(d)}W.prototype[rc]=function(){return be(this)};
function bh(a){return ch(a)?new W(null,2,5,X,[Qc(a),Rc(a)],null):Se(a)?Je(a,null):mc(a)?ah(a):xd(uc.l(wd,vd(Be),a))}var dh=function dh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return dh.w(0<c.length?new F(c.slice(0),0,null):null)};dh.w=function(a){return a instanceof F&&0===a.i?ah(a.o):bh(a)};dh.J=0;dh.M=function(a){return this.w(E(a))};function $g(a,b,c,d,e,f){this.Ob=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.G=f;this.v=32375020;this.K=1536}
h=$g.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){if(this.off+1<this.node.length){var a=new $g(this.Ob,this.node,this.i,this.off+1,null,null);return null==a?null:a}return this.Rf()};
h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return $d};h.Ea=function(a,b){return Wg(this.Ob,b,this.i+this.off,N(this.Ob))};h.Fa=function(a,b,c){return Xg(this.Ob,b,c,this.i+this.off,N(this.Ob))};h.La=function(){return this.node[this.off]};h.Ta=function(){if(this.off+1<this.node.length){var a=new $g(this.Ob,this.node,this.i,this.off+1,null,null);return null==a?$d:a}return this.ce(null)};h.ba=function(){return this};
h.Me=function(){var a=this.node;return new zf(a,this.off,a.length)};h.ce=function(){var a=this.i+this.node.length;return a<zc(this.Ob)?new $g(this.Ob,Rg(this.Ob,a),a,0,null,null):$d};h.ea=function(a,b){return new $g(this.Ob,this.node,this.i,this.off,b,null)};h.na=function(a,b){return xe(b,this)};h.Rf=function(){var a=this.i+this.node.length;return a<zc(this.Ob)?new $g(this.Ob,Rg(this.Ob,a),a,0,null,null):null};$g.prototype[rc]=function(){return be(this)};
function eh(a,b,c,d,e){this.meta=a;this.Qa=b;this.start=c;this.end=d;this.G=e;this.v=167666463;this.K=139264}h=eh.prototype;h.nc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Yg(b,Lc.j(this.Qa,a),null):null};h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
h.oc=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Fc.j(this.Qa,a);c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(ke(c))return C(c);d+=1;a+=1}else return c};h.P=function(a,b){return 0>b||this.end<=this.start+b?Qg(b,this.end-this.start):Fc.j(this.Qa,this.start+b)};h.la=function(a,b,c){return 0>b||this.end<=this.start+b?c:Fc.l(this.Qa,this.start+b,c)};
h.Xb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.h(b)," out of bounds [0,",B.h(this.ka(null)),"]"].join(""));b=this.meta;c=T.l(this.Qa,a,c);var d=this.end;a+=1;return fh(b,c,this.start,d>a?d:a,null)};h.sb=function(){return null!=this.Qa&&r===this.Qa.Le?Vg(this.Qa,this.start,this.end):new $f(this)};h.ca=function(){return this.meta};h.rb=function(){return new eh(this.meta,this.Qa,this.start,this.end,this.G)};h.ka=function(){return this.end-this.start};
h.qc=function(){return Fc.j(this.Qa,this.end-1)};h.rc=function(){if(this.start===this.end)throw Error("Can't pop empty vector");return fh(this.meta,this.Qa,this.start,this.end-1,null)};h.pc=function(){return this.start!==this.end?new ve(this,this.end-this.start-1,null):null};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad(Be,this.meta)};
h.Ea=function(a,b){return null!=this.Qa&&r===this.Qa.Le?Wg(this.Qa,b,this.start,this.end):me(this,b)};h.Fa=function(a,b,c){return null!=this.Qa&&r===this.Qa.Le?Xg(this.Qa,b,c,this.start,this.end):ne(this,b,c)};h.Va=function(a,b,c){if("number"===typeof b)return this.Xb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};
h.ba=function(){var a=this;return function(b){return function e(d){return d===a.end?null:xe(Fc.j(a.Qa,d),new wf(null,function(){return function(){return e(d+1)}}(b),null,null))}}(this)(a.start)};h.ea=function(a,b){return fh(b,this.Qa,this.start,this.end,this.G)};h.na=function(a,b){return fh(this.meta,Xc(this.Qa,this.end,b),this.start,this.end+1,null)};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.P(null,c);case 3:return this.la(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.P(null,c)};a.l=function(a,c,d){return this.la(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.P(null,a)};h.j=function(a,b){return this.la(null,a,b)};eh.prototype[rc]=function(){return be(this)};
function fh(a,b,c,d,e){for(;;)if(b instanceof eh)c=b.start+c,d=b.start+d,b=b.Qa;else{if(!Se(b))throw Error("v must satisfy IVector");var f=N(b);if(0>c||0>d||c>f||d>f)throw Error("Index out of bounds");return new eh(a,b,c,d,e)}}function gh(a,b,c){if(null==b||null==c)throw Error("Assert failed: (and (not (nil? start)) (not (nil? end)))");return fh(null,a,b|0,c|0,null)}function hh(a,b){return a===b.ta?b:new Kg(a,sc(b.o))}
var ih=function ih(a,b,c,d){c=hh(a.root.ta,c);var f=a.B-1>>>b&31;if(5===b)a=d;else{var g=c.o[f];null!=g?(b-=5,a=ih.H?ih.H(a,b,g,d):ih.call(null,a,b,g,d)):a=Og(a.root.ta,b-5,d)}c.o[f]=a;return c};function Zg(a,b,c,d){this.B=a;this.shift=b;this.root=c;this.ra=d;this.K=88;this.v=275}h=Zg.prototype;
h.Nc=function(a,b){if(this.root.ta){if(32>this.B-Ng(this))this.ra[this.B&31]=b;else{a=new Kg(this.root.ta,this.ra);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.ra=c;this.B>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Og(this.root.ta,this.shift,a),this.root=new Kg(this.root.ta,b),this.shift=c):this.root=ih(this,this.shift,this.root,a)}this.B+=1;return this}throw Error("conj! after persistent!");};h.Ad=function(){if(this.root.ta){this.root.ta=null;var a=this.B-Ng(this),b=Array(a);Ue(this.ra,0,b,0,a);return new W(null,this.B,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.Fc=function(a,b,c){if("number"===typeof b)return jh(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function jh(a,b,c){if(a.root.ta){if(0<=b&&b<a.B){if(Ng(a)<=b)a.ra[b&31]=c;else{var d=function(){return function(){return function k(d,g){g=hh(a.root.ta,g);if(0===d)g.o[b&31]=c;else{var f=b>>>d&31;d=k(d-5,g.o[f]);g.o[f]=d}return g}}(a)(a.shift,a.root)}();a.root=d}return a}if(b===a.B)return a.Nc(null,c);throw Error(["Index ",B.h(b)," out of bounds for TransientVector of length",B.h(a.B)].join(""));}throw Error("assoc! after persistent!");}
h.ka=function(){if(this.root.ta)return this.B;throw Error("count after persistent!");};h.P=function(a,b){if(this.root.ta)return(0<=b&&b<this.B?Rg(this,b):Qg(b,this.B))[b&31];throw Error("nth after persistent!");};h.la=function(a,b,c){return 0<=b&&b<this.B?this.P(null,b):c};h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){return"number"===typeof b?this.la(null,b,c):c};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};function kh(a,b){this.kd=a;this.Ud=b}
kh.prototype.pa=function(){var a=null!=this.kd&&E(this.kd);return a?a:(a=null!=this.Ud)?this.Ud.pa():a};kh.prototype.next=function(){if(null!=this.kd){var a=G(this.kd);this.kd=J(this.kd);return a}if(null!=this.Ud&&this.Ud.pa())return this.Ud.next();throw Error("No such element");};kh.prototype.remove=function(){return Error("Unsupported operation")};function lh(a,b,c,d){this.meta=a;this.tb=b;this.Fb=c;this.G=d;this.v=31850700;this.K=0}h=lh.prototype;h.toString=function(){return Ld(this)};
h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){var a=J(this.tb);return a?new lh(this.meta,a,this.Fb,null):null!=this.Fb?new lh(this.meta,this.Fb,null,null):null};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.La=function(){return G(this.tb)};h.Ta=function(){var a=J(this.tb);return a?new lh(this.meta,a,this.Fb,null):null==this.Fb?this.sa(null):new lh(this.meta,this.Fb,null,null)};h.ba=function(){return this};h.ea=function(a,b){return new lh(b,this.tb,this.Fb,this.G)};h.na=function(a,b){return xe(b,this)};lh.prototype[rc]=function(){return be(this)};
function mh(a,b,c,d,e){this.meta=a;this.count=b;this.tb=c;this.Fb=d;this.G=e;this.K=139264;this.v=31858766}h=mh.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,this.count.h?this.count.h(this):this.count.call(null,this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.sb=function(){return new kh(this.tb,Jd(this.Fb))};h.ca=function(){return this.meta};h.rb=function(){return new mh(this.meta,this.count,this.tb,this.Fb,this.G)};h.ka=function(){return this.count};
h.qc=function(){return G(this.tb)};h.rc=function(){if(z(this.tb)){var a=J(this.tb);return a?new mh(this.meta,this.count-1,a,this.Fb,null):new mh(this.meta,this.count-1,E(this.Fb),Be,null)}return this};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad(nh,this.meta)};h.La=function(){return G(this.tb)};h.Ta=function(){return Zd(E(this))};
h.ba=function(){var a=E(this.Fb),b=this.tb;return z(z(b)?b:a)?new lh(null,this.tb,E(a),null):null};h.ea=function(a,b){return new mh(b,this.count,this.tb,this.Fb,this.G)};h.na=function(a,b){z(this.tb)?(a=this.Fb,b=new mh(this.meta,this.count+1,this.tb,Ae.j(z(a)?a:Be,b),null)):b=new mh(this.meta,this.count+1,Ae.j(this.tb,b),Be,null);return b};var nh=new mh(null,0,null,Be,fe);mh.prototype[rc]=function(){return be(this)};function oh(){this.v=2097152;this.K=0}
oh.prototype.equiv=function(a){return this.I(null,a)};oh.prototype.I=function(){return!1};var ph=new oh;function qh(a,b){return Xe(Qe(b)&&!Re(b)?N(a)===N(b)?(null!=a?a.v&1048576||r===a.rh||(a.v?0:oc(dd,a)):oc(dd,a))?bf(function(a,d,e){return K.j(D.l(b,d,ph),e)?!0:new je(!1)},!0,a):jg(function(a){return K.j(D.l(b,G(a),ph),G(J(a)))},a):null:null)}function rh(a,b,c,d){this.i=0;this.eh=a;this.Mf=b;this.fields=c;this.ag=d}rh.prototype.pa=function(){var a=this.i<this.Mf;return a?a:this.ag.pa()};
rh.prototype.next=function(){if(this.i<this.Mf){var a=te(this.fields,this.i);this.i+=1;return new Yg(a,Lc.j(this.eh,a),null)}return this.ag.next()};rh.prototype.remove=function(){return Error("Unsupported operation")};function sh(a){this.s=a}sh.prototype.next=function(){if(null!=this.s){var a=G(this.s),b=S(a,0);a=S(a,1);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function th(a){this.s=a}
th.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function uh(a,b){if(b instanceof U)a:{var c=a.length;b=b.Ma;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof U&&b===a[d].Ma){a=d;break a}d+=2}}else if(ea(b)||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Wd)a:for(c=a.length,b=b.Gb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Wd&&b===a[d].Gb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=a.length,
d=0;;){if(c<=d){a=-1;break a}if(K.j(b,a[d])){a=d;break a}d+=2}return a}function Yg(a,b,c){this.key=a;this.A=b;this.G=c;this.v=166619935;this.K=0}h=Yg.prototype;h.nc=function(a,b){switch(b){case 0:return new Yg(0,this.key,null);case 1:return new Yg(1,this.A,null);default:return null}};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.fa=function(a,b){return this.la(null,b,null)};h.N=function(a,b,c){return this.la(null,b,c)};h.P=function(a,b){if(0===b)return this.key;if(1===b)return this.A;throw Error("Index out of bounds");};
h.la=function(a,b,c){return 0===b?this.key:1===b?this.A:c};h.Xb=function(a,b,c){return(new W(null,2,5,X,[this.key,this.A],null)).Xb(null,b,c)};h.ca=function(){return null};h.ka=function(){return 2};h.Pe=function(){return this.key};h.Qe=function(){return this.A};h.qc=function(){return this.A};h.rc=function(){return new W(null,1,5,X,[this.key],null)};h.pc=function(){return new F([this.A,this.key],0,null)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return null};h.Ea=function(a,b){return me(this,b)};h.Fa=function(a,b,c){return ne(this,b,c)};h.Va=function(a,b,c){return T.l(new W(null,2,5,X,[this.key,this.A],null),b,c)};h.ba=function(){return new F([this.key,this.A],0,null)};h.ea=function(a,b){return Je(new W(null,2,5,X,[this.key,this.A],null),b)};h.na=function(a,b){return new W(null,3,5,X,[this.key,this.A,b],null)};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.P(null,c);case 3:return this.la(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.P(null,c)};a.l=function(a,c,d){return this.la(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.P(null,a)};h.j=function(a,b){return this.la(null,a,b)};function ch(a){return null!=a?a.v&2048||r===a.vh?!0:!1:!1}
function vh(a,b,c){this.o=a;this.i=b;this.xb=c;this.v=32374990;this.K=0}h=vh.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.xb};h.Sa=function(){return this.i<this.o.length-2?new vh(this.o,this.i+2,this.xb):null};h.ka=function(){return(this.o.length-this.i)/2};h.aa=function(){return ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.xb)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return new Yg(this.o[this.i],this.o[this.i+1],null)};h.Ta=function(){return this.i<this.o.length-2?new vh(this.o,this.i+2,this.xb):$d};h.ba=function(){return this};h.ea=function(a,b){return new vh(this.o,this.i,b)};h.na=function(a,b){return xe(b,this)};vh.prototype[rc]=function(){return be(this)};
function wh(a,b){this.o=a;this.i=0;this.B=b}wh.prototype.pa=function(){return this.i<this.B};wh.prototype.next=function(){var a=new Yg(this.o[this.i],this.o[this.i+1],null);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.B=b;this.o=c;this.G=d;this.v=16647951;this.K=139268}h=v.prototype;h.nc=function(a,b){a=uh(this.o,b);return-1===a?null:new Yg(this.o[a],this.o[a+1],null)};h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.keys=function(){return be(xh(this))};
h.entries=function(){return new sh(E(E(this)))};h.values=function(){return be(yh(this))};h.has=function(a){return Ze(this,a)};h.get=function(a,b){return this.N(null,a,b)};h.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){a=uh(this.o,b);return-1===a?c:this.o[a+1]};h.oc=function(a,b,c){a=this.o.length;for(var d=0;;)if(d<a){var e=this.o[d],f=this.o[d+1];c=b.l?b.l(c,e,f):b.call(null,c,e,f);if(ke(c))return C(c);d+=2}else return c};h.sb=function(){return new wh(this.o,2*this.B)};h.ca=function(){return this.meta};h.rb=function(){return new v(this.meta,this.B,this.o,this.G)};h.ka=function(){return this.B};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ge(this)};
h.I=function(a,b){if(Qe(b)&&!Re(b))if(a=this.o.length,this.B===b.ka(null))for(var c=0;;)if(c<a){var d=b.N(null,this.o[c],Ve);if(d!==Ve)if(K.j(this.o[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.gd=function(){return new zh(this.o.length,sc(this.o))};h.sa=function(){return ad(Z,this.meta)};h.Ea=function(a,b){return $e(this,b)};h.Fa=function(a,b,c){return af(this,b,c)};
h.Mc=function(a,b){if(0<=uh(this.o,b)){a=this.o.length;var c=a-2;if(0===c)return this.sa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.B-1,c,null);K.j(b,this.o[d])?d+=2:(c[e]=this.o[d],c[e+1]=this.o[d+1],e+=2,d+=2)}}else return this};
h.Va=function(a,b,c){a=uh(this.o,b);if(-1===a){if(this.B<Ah){a=this.o;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.B+1,e,null)}return ad(Mc(Dg.j(Ch,this),b,c),this.meta)}if(c===this.o[a+1])return this;b=sc(this.o);b[a+1]=c;return new v(this.meta,this.B,b,null)};h.ba=function(){var a=this.o;return 0<=a.length-2?new vh(a,0,null):null};h.ea=function(a,b){return new v(b,this.B,this.o,this.G)};
h.na=function(a,b){if(Se(b))return this.Va(null,Fc.j(b,0),Fc.j(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=G(b);if(Se(c))a=a.Va(null,Fc.j(c,0),Fc.j(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};var Z=new v(null,0,[],he),Ah=8;
function Dh(a){return new v(null,a.length/2,a,null)}function Ee(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=uh(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new v(null,b.length/2,b,null)}v.prototype[rc]=function(){return be(this)};function zh(a,b){this.Sc={};this.kc=a;this.o=b;this.v=259;this.K=56}h=zh.prototype;h.ka=function(){if(z(this.Sc))return kf(this.kc,2);throw Error("count after persistent!");};h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){if(z(this.Sc))return a=uh(this.o,b),-1===a?c:this.o[a+1];throw Error("lookup after persistent!");};h.Nc=function(a,b){if(z(this.Sc)){if(ch(b))return this.Fc(null,Qc(b),Rc(b));if(Se(b))return this.Fc(null,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));a=E(b);for(b=this;;){var c=G(a);if(z(c))a=J(a),b=b.Fc(null,Qc(c),Rc(c));else return b}}else throw Error("conj! after persistent!");};
h.Ad=function(){if(z(this.Sc))return this.Sc=!1,new v(null,kf(this.kc,2),this.o,null);throw Error("persistent! called twice");};h.Fc=function(a,b,c){if(z(this.Sc)){a=uh(this.o,b);if(-1===a){if(this.kc+2<=2*Ah)return this.kc+=2,this.o.push(b),this.o.push(c),this;a:{a=this.kc;for(var d=this.o,e=vd(Ch),f=0;;)if(f<a)e=yd(e,d[f],d[f+1]),f+=2;else break a}return yd(e,b,c)}c!==this.o[a+1]&&(this.o[a+1]=c);return this}throw Error("assoc! after persistent!");};
h.Xe=function(a,b){if(z(this.Sc))return a=uh(this.o,b),0<=a&&(this.o[a]=this.o[this.kc-2],this.o[a+1]=this.o[this.kc-1],a=this.o,a.pop(),a.pop(),this.kc-=2),this;throw Error("dissoc! after persistent!");};h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.N(null,c,null);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.N(null,c,null)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();
h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.N(null,a,null)};h.j=function(a,b){return this.N(null,a,b)};function Eh(){this.A=!1}function Fh(a,b){return a===b?!0:V(a,b)?!0:K.j(a,b)}function Gh(a,b,c){a=sc(a);a[b]=c;return a}function Hh(a,b){var c=Array(a.length-2);Ue(a,0,c,0,2*b);Ue(a,2*(b+1),c,2*b,c.length-2*b);return c}function Ih(a,b,c,d){a=a.wc(b);a.o[c]=d;return a}
function Jh(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.l?b.l(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.Yc(b,f):f;if(ke(c))return c;e+=2;f=c}else return f}function Kh(a){this.o=a;this.i=0;this.bc=this.Sd=null}Kh.prototype.advance=function(){for(var a=this.o.length;;)if(this.i<a){var b=this.o[this.i],c=this.o[this.i+1];null!=b?b=this.Sd=new Yg(b,c,null):null!=c?(b=Jd(c),b=b.pa()?this.bc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Kh.prototype.pa=function(){var a=null!=this.Sd;return a?a:(a=null!=this.bc)?a:this.advance()};Kh.prototype.next=function(){if(null!=this.Sd){var a=this.Sd;this.Sd=null;return a}if(null!=this.bc)return a=this.bc.next(),this.bc.pa()||(this.bc=null),a;if(this.advance())return this.next();throw Error("No such element");};Kh.prototype.remove=function(){return Error("Unsupported operation")};function Lh(a,b,c){this.ta=a;this.ma=b;this.o=c;this.K=131072;this.v=0}h=Lh.prototype;
h.wc=function(a){if(a===this.ta)return this;var b=lf(this.ma),c=Array(0>b?4:2*(b+1));Ue(this.o,0,c,0,2*b);return new Lh(a,this.ma,c)};h.Pd=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.ma&f))return this;var g=lf(this.ma&f-1),k=this.o[2*g],l=this.o[2*g+1];return null==k?(b=l.Pd(a,b+5,c,d,e),b===l?this:null!=b?Ih(this,a,2*g+1,b):this.ma===f?null:Mh(this,a,f,g)):Fh(d,k)?(e.A=!0,Mh(this,a,f,g)):this};
function Mh(a,b,c,d){if(a.ma===c)return null;a=a.wc(b);b=a.o;var e=b.length;a.ma^=c;Ue(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}h.Nd=function(){return Nh(this.o,0,null)};h.Yc=function(a,b){return Jh(this.o,a,b)};h.Wc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ma&e))return d;var f=lf(this.ma&e-1);e=this.o[2*f];f=this.o[2*f+1];return null==e?f.Wc(a+5,b,c,d):Fh(c,e)?f:d};
h.$b=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=lf(this.ma&g-1);if(0===(this.ma&g)){var l=lf(this.ma);if(2*l<this.o.length){a=this.wc(a);b=a.o;f.A=!0;a:for(c=2*(l-k),f=2*k+(c-1),l=2*(k+1)+(c-1);;){if(0===c)break a;b[l]=b[f];--l;--c;--f}b[2*k]=d;b[2*k+1]=e;a.ma|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Oh.$b(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.ma>>>d&1)?d+=1:(k[d]=null!=this.o[e]?Oh.$b(a,b+5,Ud(this.o[e]),this.o[e],this.o[e+1],f):this.o[e+1],e+=2,d+=1);else break;return new Ph(a,l+1,k)}b=Array(2*(l+4));Ue(this.o,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Ue(this.o,2*k,b,2*(k+1),2*(l-k));f.A=!0;a=this.wc(a);a.o=b;a.ma|=g;return a}l=this.o[2*k];g=this.o[2*k+1];if(null==l)return l=g.$b(a,b+5,c,d,e,f),l===g?this:Ih(this,a,2*k+1,l);if(Fh(d,l))return e===g?this:Ih(this,a,2*k+1,e);f.A=!0;f=b+5;b=Ud(l);if(b===c)e=new Qh(null,b,2,[l,g,d,e]);else{var m=
new Eh;e=Oh.$b(a,f,b,l,g,m).$b(a,f,c,d,e,m)}d=2*k;k=2*k+1;a=this.wc(a);a.o[d]=null;a.o[k]=e;return a};
h.Zb=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=lf(this.ma&f-1);if(0===(this.ma&f)){var k=lf(this.ma);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=Oh.Zb(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.ma>>>c&1)?c+=1:(g[c]=null!=this.o[d]?Oh.Zb(a+5,Ud(this.o[d]),this.o[d],this.o[d+1],e):this.o[d+1],d+=2,c+=1);else break;return new Ph(null,k+1,g)}a=Array(2*(k+1));Ue(this.o,
0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Ue(this.o,2*g,a,2*(g+1),2*(k-g));e.A=!0;return new Lh(null,this.ma|f,a)}var l=this.o[2*g];f=this.o[2*g+1];if(null==l)return k=f.Zb(a+5,b,c,d,e),k===f?this:new Lh(null,this.ma,Gh(this.o,2*g+1,k));if(Fh(c,l))return d===f?this:new Lh(null,this.ma,Gh(this.o,2*g+1,d));e.A=!0;e=this.ma;k=this.o;a+=5;var m=Ud(l);if(m===b)c=new Qh(null,m,2,[l,f,c,d]);else{var p=new Eh;c=Oh.Zb(a,m,l,f,p).Zb(a,b,c,d,p)}a=2*g;g=2*g+1;d=sc(k);d[a]=null;d[g]=c;return new Lh(null,e,d)};
h.Md=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ma&e))return d;var f=lf(this.ma&e-1);e=this.o[2*f];f=this.o[2*f+1];return null==e?f.Md(a+5,b,c,d):Fh(c,e)?new Yg(e,f,null):d};h.Od=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.ma&d))return this;var e=lf(this.ma&d-1),f=this.o[2*e],g=this.o[2*e+1];return null==f?(a=g.Od(a+5,b,c),a===g?this:null!=a?new Lh(null,this.ma,Gh(this.o,2*e+1,a)):this.ma===d?null:new Lh(null,this.ma^d,Hh(this.o,e))):Fh(c,f)?new Lh(null,this.ma^d,Hh(this.o,e)):this};
h.sb=function(){return new Kh(this.o)};var Oh=new Lh(null,0,[]);function Rh(a,b,c){var d=a.o,e=d.length;a=Array(2*(a.B-1));for(var f=0,g=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,k|=1<<f,f+=1):f+=1;else return new Lh(b,k,a)}function Sh(a){this.o=a;this.i=0;this.bc=null}Sh.prototype.pa=function(){for(var a=this.o.length;;){if(null!=this.bc&&this.bc.pa())return!0;if(this.i<a){var b=this.o[this.i];this.i+=1;null!=b&&(this.bc=Jd(b))}else return!1}};
Sh.prototype.next=function(){if(this.pa())return this.bc.next();throw Error("No such element");};Sh.prototype.remove=function(){return Error("Unsupported operation")};function Ph(a,b,c){this.ta=a;this.B=b;this.o=c;this.K=131072;this.v=0}h=Ph.prototype;h.wc=function(a){return a===this.ta?this:new Ph(a,this.B,sc(this.o))};
h.Pd=function(a,b,c,d,e){var f=c>>>b&31,g=this.o[f];if(null==g)return this;b=g.Pd(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.B)return Rh(this,a,f);a=Ih(this,a,f,b);--a.B;return a}return Ih(this,a,f,b)};h.Nd=function(){return Th(this.o,0,null)};h.Yc=function(a,b){for(var c=this.o.length,d=0;;)if(d<c){var e=this.o[d];if(null!=e){b=e.Yc(a,b);if(ke(b))return b;d+=1}else d+=1}else return b};h.Wc=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.Wc(a+5,b,c,d):d};
h.$b=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.o[g];if(null==k)return a=Ih(this,a,g,Oh.$b(a,b+5,c,d,e,f)),a.B+=1,a;b=k.$b(a,b+5,c,d,e,f);return b===k?this:Ih(this,a,g,b)};h.Zb=function(a,b,c,d,e){var f=b>>>a&31,g=this.o[f];if(null==g)return new Ph(null,this.B+1,Gh(this.o,f,Oh.Zb(a+5,b,c,d,e)));a=g.Zb(a+5,b,c,d,e);return a===g?this:new Ph(null,this.B,Gh(this.o,f,a))};h.Md=function(a,b,c,d){var e=this.o[b>>>a&31];return null!=e?e.Md(a+5,b,c,d):d};
h.Od=function(a,b,c){var d=b>>>a&31,e=this.o[d];return null!=e?(a=e.Od(a+5,b,c),a===e?this:null==a?8>=this.B?Rh(this,null,d):new Ph(null,this.B-1,Gh(this.o,d,a)):new Ph(null,this.B,Gh(this.o,d,a))):this};h.sb=function(){return new Sh(this.o)};function Uh(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Fh(c,a[d]))return d;d+=2}else return-1}function Qh(a,b,c,d){this.ta=a;this.tc=b;this.B=c;this.o=d;this.K=131072;this.v=0}h=Qh.prototype;
h.wc=function(a){if(a===this.ta)return this;var b=Array(2*(this.B+1));Ue(this.o,0,b,0,2*this.B);return new Qh(a,this.tc,this.B,b)};h.Pd=function(a,b,c,d,e){b=Uh(this.o,this.B,d);if(-1===b)return this;e.A=!0;if(1===this.B)return null;a=this.wc(a);e=a.o;e[b]=e[2*this.B-2];e[b+1]=e[2*this.B-1];e[2*this.B-1]=null;e[2*this.B-2]=null;--a.B;return a};h.Nd=function(){return Nh(this.o,0,null)};h.Yc=function(a,b){return Jh(this.o,a,b)};
h.Wc=function(a,b,c,d){a=Uh(this.o,this.B,c);return 0>a?d:Fh(c,this.o[a])?this.o[a+1]:d};
h.$b=function(a,b,c,d,e,f){if(c===this.tc){b=Uh(this.o,this.B,d);if(-1===b){if(this.o.length>2*this.B)return b=2*this.B,c=2*this.B+1,a=this.wc(a),a.o[b]=d,a.o[c]=e,f.A=!0,a.B+=1,a;c=this.o.length;b=Array(c+2);Ue(this.o,0,b,0,c);b[c]=d;b[c+1]=e;f.A=!0;d=this.B+1;a===this.ta?(this.o=b,this.B=d,a=this):a=new Qh(this.ta,this.tc,d,b);return a}return this.o[b+1]===e?this:Ih(this,a,b+1,e)}return(new Lh(a,1<<(this.tc>>>b&31),[null,this,null,null])).$b(a,b,c,d,e,f)};
h.Zb=function(a,b,c,d,e){return b===this.tc?(a=Uh(this.o,this.B,c),-1===a?(a=2*this.B,b=Array(a+2),Ue(this.o,0,b,0,a),b[a]=c,b[a+1]=d,e.A=!0,new Qh(null,this.tc,this.B+1,b)):K.j(this.o[a+1],d)?this:new Qh(null,this.tc,this.B,Gh(this.o,a+1,d))):(new Lh(null,1<<(this.tc>>>a&31),[null,this])).Zb(a,b,c,d,e)};h.Md=function(a,b,c,d){a=Uh(this.o,this.B,c);return 0>a?d:Fh(c,this.o[a])?new Yg(this.o[a],this.o[a+1],null):d};
h.Od=function(a,b,c){a=Uh(this.o,this.B,c);return-1===a?this:1===this.B?null:new Qh(null,this.tc,this.B-1,Hh(this.o,kf(a,2)))};h.sb=function(){return new Kh(this.o)};function Vh(a,b,c,d,e){this.meta=a;this.cc=b;this.i=c;this.s=d;this.G=e;this.v=32374988;this.K=0}h=Vh.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){return null==this.s?Nh(this.cc,this.i+2,null):Nh(this.cc,this.i,J(this.s))};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return null==this.s?new Yg(this.cc[this.i],this.cc[this.i+1],null):G(this.s)};h.Ta=function(){var a=null==this.s?Nh(this.cc,this.i+2,null):Nh(this.cc,this.i,J(this.s));return null!=a?a:$d};h.ba=function(){return this};h.ea=function(a,b){return new Vh(b,this.cc,this.i,this.s,this.G)};h.na=function(a,b){return xe(b,this)};
Vh.prototype[rc]=function(){return be(this)};function Nh(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Vh(null,a,b,null,null);var d=a[b+1];if(z(d)&&(d=d.Nd(),z(d)))return new Vh(null,a,b+2,d,null);b+=2}else return null;else return new Vh(null,a,b,c,null)}function Wh(a,b,c,d,e){this.meta=a;this.cc=b;this.i=c;this.s=d;this.G=e;this.v=32374988;this.K=0}h=Wh.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){return Th(this.cc,this.i,J(this.s))};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};
h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return G(this.s)};h.Ta=function(){var a=Th(this.cc,this.i,J(this.s));return null!=a?a:$d};h.ba=function(){return this};h.ea=function(a,b){return new Wh(b,this.cc,this.i,this.s,this.G)};h.na=function(a,b){return xe(b,this)};Wh.prototype[rc]=function(){return be(this)};
function Th(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(z(d)&&(d=d.Nd(),z(d)))return new Wh(null,a,b+1,d,null);b+=1}else return null;else return new Wh(null,a,b,c,null)}function Xh(a,b){this.Za=a;this.tg=b;this.Af=!1}Xh.prototype.pa=function(){return!this.Af||this.tg.pa()};Xh.prototype.next=function(){if(this.Af)return this.tg.next();this.Af=!0;return new Yg(null,this.Za,null)};Xh.prototype.remove=function(){return Error("Unsupported operation")};
function Yh(a,b,c,d,e,f){this.meta=a;this.B=b;this.root=c;this.Ya=d;this.Za=e;this.G=f;this.v=16123663;this.K=139268}h=Yh.prototype;h.nc=function(a,b){return null==b?this.Ya?new Yg(null,this.Za,null):null:null==this.root?null:this.root.Md(0,Ud(b),b,null)};h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.keys=function(){return be(xh(this))};h.entries=function(){return new sh(E(E(this)))};h.values=function(){return be(yh(this))};h.has=function(a){return Ze(this,a)};
h.get=function(a,b){return this.N(null,a,b)};h.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){return null==b?this.Ya?this.Za:c:null==this.root?c:this.root.Wc(0,Ud(b),b,c)};
h.oc=function(a,b,c){a=this.Ya?b.l?b.l(c,null,this.Za):b.call(null,c,null,this.Za):c;return ke(a)?C(a):null!=this.root?le(this.root.Yc(b,a)):a};h.sb=function(){var a=this.root?Jd(this.root):Uf();return this.Ya?new Xh(this.Za,a):a};h.ca=function(){return this.meta};h.rb=function(){return new Yh(this.meta,this.B,this.root,this.Ya,this.Za,this.G)};h.ka=function(){return this.B};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ge(this)};h.I=function(a,b){return qh(this,b)};
h.gd=function(){return new Zh(this.root,this.B,this.Ya,this.Za)};h.sa=function(){return ad(Ch,this.meta)};h.Mc=function(a,b){if(null==b)return this.Ya?new Yh(this.meta,this.B-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Od(0,Ud(b),b);return a===this.root?this:new Yh(this.meta,this.B-1,a,this.Ya,this.Za,null)};
h.Va=function(a,b,c){if(null==b)return this.Ya&&c===this.Za?this:new Yh(this.meta,this.Ya?this.B:this.B+1,this.root,!0,c,null);a=new Eh;b=(null==this.root?Oh:this.root).Zb(0,Ud(b),b,c,a);return b===this.root?this:new Yh(this.meta,a.A?this.B+1:this.B,b,this.Ya,this.Za,null)};h.ba=function(){if(0<this.B){var a=null!=this.root?this.root.Nd():null;return this.Ya?xe(new Yg(null,this.Za,null),a):a}return null};h.ea=function(a,b){return new Yh(b,this.B,this.root,this.Ya,this.Za,this.G)};
h.na=function(a,b){if(Se(b))return this.Va(null,Fc.j(b,0),Fc.j(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=G(b);if(Se(c))a=a.Va(null,Fc.j(c,0),Fc.j(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};var Ch=new Yh(null,0,null,!1,null,he);
function $h(a,b){for(var c=a.length,d=0,e=vd(Ch);;)if(d<c){var f=d+1;e=e.Fc(null,a[d],b[d]);d=f}else return xd(e)}Yh.prototype[rc]=function(){return be(this)};function Zh(a,b,c,d){this.ta={};this.root=a;this.count=b;this.Ya=c;this.Za=d;this.v=259;this.K=56}
function ai(a,b,c){if(a.ta){if(null==b)a.Za!==c&&(a.Za=c),a.Ya||(a.count+=1,a.Ya=!0);else{var d=new Eh;b=(null==a.root?Oh:a.root).$b(a.ta,0,Ud(b),b,c,d);b!==a.root&&(a.root=b);d.A&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=Zh.prototype;h.ka=function(){if(this.ta)return this.count;throw Error("count after persistent!");};h.fa=function(a,b){return null==b?this.Ya?this.Za:null:null==this.root?null:this.root.Wc(0,Ud(b),b)};
h.N=function(a,b,c){return null==b?this.Ya?this.Za:c:null==this.root?c:this.root.Wc(0,Ud(b),b,c)};h.Nc=function(a,b){a:if(this.ta)if(ch(b))a=ai(this,Qc(b),Rc(b));else if(Se(b))a=ai(this,b.h?b.h(0):b.call(null,0),b.h?b.h(1):b.call(null,1));else for(a=E(b),b=this;;){var c=G(a);if(z(c))a=J(a),b=ai(b,Qc(c),Rc(c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.Ad=function(){if(this.ta){this.ta=null;var a=new Yh(null,this.count,this.root,this.Ya,this.Za,null)}else throw Error("persistent! called twice");return a};h.Fc=function(a,b,c){return ai(this,b,c)};h.Xe=function(a,b){if(this.ta)null==b?this.Ya&&(this.Ya=!1,this.Za=null,--this.count):null!=this.root&&(a=new Eh,b=this.root.Pd(this.ta,0,Ud(b),b,a),b!==this.root&&(this.root=b),a.A&&--this.count);else throw Error("dissoc! after persistent!");return this};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};
function bi(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=Ae.j(d,a),a=b;else return d}function ci(a,b,c,d,e){this.meta=a;this.stack=b;this.Kc=c;this.B=d;this.G=e;this.v=32374990;this.K=0}h=ci.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.meta};h.Sa=function(){var a=G(this.stack);a=bi(this.Kc?a.right:a.left,J(this.stack),this.Kc);return null==a?null:new ci(null,a,this.Kc,this.B-1,null)};
h.ka=function(){return 0>this.B?N(J(this))+1:this.B};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){var a=this.stack;return null==a?null:Uc(a)};h.Ta=function(){var a=G(this.stack);a=bi(this.Kc?a.right:a.left,J(this.stack),this.Kc);return null!=a?new ci(null,a,this.Kc,this.B-1,null):$d};h.ba=function(){return this};
h.ea=function(a,b){return new ci(b,this.stack,this.Kc,this.B,this.G)};h.na=function(a,b){return xe(b,this)};ci.prototype[rc]=function(){return be(this)};function di(a,b,c){return new ci(null,bi(a,null,b),b,c,null)}function ei(a,b,c,d){return c instanceof fi?c.left instanceof fi?new fi(c.key,c.A,c.left.mc(),new gi(a,b,c.right,d)):c.right instanceof fi?new fi(c.right.key,c.right.A,new gi(c.key,c.A,c.left,c.right.left),new gi(a,b,c.right.right,d)):new gi(a,b,c,d):new gi(a,b,c,d)}
function hi(a,b,c,d){return d instanceof fi?d.right instanceof fi?new fi(d.key,d.A,new gi(a,b,c,d.left),d.right.mc()):d.left instanceof fi?new fi(d.left.key,d.left.A,new gi(a,b,c,d.left.left),new gi(d.key,d.A,d.left.right,d.right)):new gi(a,b,c,d):new gi(a,b,c,d)}
function ii(a,b,c,d){if(c instanceof fi)return new fi(a,b,c.mc(),d);if(d instanceof gi)return hi(a,b,c,d.Td());if(d instanceof fi&&d.left instanceof gi)return new fi(d.left.key,d.left.A,new gi(a,b,c,d.left.left),hi(d.key,d.A,d.left.right,d.right.Td()));throw Error("red-black tree invariant violation");}
function ji(a,b,c,d){if(d instanceof fi)return new fi(a,b,c,d.mc());if(c instanceof gi)return ei(a,b,c.Td(),d);if(c instanceof fi&&c.right instanceof gi)return new fi(c.right.key,c.right.A,ei(c.key,c.A,c.left.Td(),c.right.left),new gi(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var ki=function ki(a,b,c){var e=null!=a.left?function(){var e=a.left;return ki.l?ki.l(e,b,c):ki.call(null,e,b,c)}():c;if(ke(e))return e;var f=function(){var c=a.key,f=a.A;return b.l?b.l(e,c,f):b.call(null,e,c,f)}();if(ke(f))return f;if(null!=a.right){var g=a.right;return ki.l?ki.l(g,b,f):ki.call(null,g,b,f)}return f};function gi(a,b,c,d){this.key=a;this.A=b;this.left=c;this.right=d;this.G=null;this.v=166619935;this.K=0}h=gi.prototype;
h.nc=function(a,b){switch(b){case 0:return new Yg(0,this.key,null);case 1:return new Yg(1,this.A,null);default:return null}};h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();h.Jf=function(a){return a.Lf(this)};h.Td=function(){return new fi(this.key,this.A,this.left,this.right)};h.mc=function(){return this};h.If=function(a){return a.Kf(this)};h.replace=function(a,b,c,d){return new gi(a,b,c,d)};
h.Kf=function(a){return new gi(a.key,a.A,this,a.right)};h.Lf=function(a){return new gi(a.key,a.A,a.left,this)};h.Yc=function(a,b){return ki(this,a,b)};h.fa=function(a,b){return this.la(null,b,null)};h.N=function(a,b,c){return this.la(null,b,c)};h.P=function(a,b){if(0===b)return this.key;if(1===b)return this.A;throw Error("Index out of bounds");};h.la=function(a,b,c){return 0===b?this.key:1===b?this.A:c};h.Xb=function(a,b,c){return(new W(null,2,5,X,[this.key,this.A],null)).Xb(null,b,c)};h.ca=function(){return null};
h.ka=function(){return 2};h.Pe=function(){return this.key};h.Qe=function(){return this.A};h.qc=function(){return this.A};h.rc=function(){return new W(null,1,5,X,[this.key],null)};h.pc=function(){return new F([this.A,this.key],0,null)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return null};h.Ea=function(a,b){return me(this,b)};h.Fa=function(a,b,c){return ne(this,b,c)};
h.Va=function(a,b,c){return T.l(new W(null,2,5,X,[this.key,this.A],null),b,c)};h.ba=function(){return new F([this.key,this.A],0,null)};h.ea=function(a,b){return ad(new W(null,2,5,X,[this.key,this.A],null),b)};h.na=function(a,b){return new W(null,3,5,X,[this.key,this.A,b],null)};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.P(null,c);case 3:return this.la(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.P(null,c)};a.l=function(a,c,d){return this.la(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.P(null,a)};h.j=function(a,b){return this.la(null,a,b)};gi.prototype[rc]=function(){return be(this)};
function fi(a,b,c,d){this.key=a;this.A=b;this.left=c;this.right=d;this.G=null;this.v=166619935;this.K=0}h=fi.prototype;h.nc=function(a,b){switch(b){case 0:return new Yg(0,this.key,null);case 1:return new Yg(1,this.A,null);default:return null}};
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();h.Jf=function(a){return new fi(this.key,this.A,this.left,a)};h.Td=function(){throw Error("red-black tree invariant violation");};h.mc=function(){return new gi(this.key,this.A,this.left,this.right)};
h.If=function(a){return new fi(this.key,this.A,a,this.right)};h.replace=function(a,b,c,d){return new fi(a,b,c,d)};h.Kf=function(a){return this.left instanceof fi?new fi(this.key,this.A,this.left.mc(),new gi(a.key,a.A,this.right,a.right)):this.right instanceof fi?new fi(this.right.key,this.right.A,new gi(this.key,this.A,this.left,this.right.left),new gi(a.key,a.A,this.right.right,a.right)):new gi(a.key,a.A,this,a.right)};
h.Lf=function(a){return this.right instanceof fi?new fi(this.key,this.A,new gi(a.key,a.A,a.left,this.left),this.right.mc()):this.left instanceof fi?new fi(this.left.key,this.left.A,new gi(a.key,a.A,a.left,this.left.left),new gi(this.key,this.A,this.left.right,this.right)):new gi(a.key,a.A,a.left,this)};h.Yc=function(a,b){return ki(this,a,b)};h.fa=function(a,b){return this.la(null,b,null)};h.N=function(a,b,c){return this.la(null,b,c)};
h.P=function(a,b){if(0===b)return this.key;if(1===b)return this.A;throw Error("Index out of bounds");};h.la=function(a,b,c){return 0===b?this.key:1===b?this.A:c};h.Xb=function(a,b,c){return(new W(null,2,5,X,[this.key,this.A],null)).Xb(null,b,c)};h.ca=function(){return null};h.ka=function(){return 2};h.Pe=function(){return this.key};h.Qe=function(){return this.A};h.qc=function(){return this.A};h.rc=function(){return new W(null,1,5,X,[this.key],null)};
h.pc=function(){return new F([this.A,this.key],0,null)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return null};h.Ea=function(a,b){return me(this,b)};h.Fa=function(a,b,c){return ne(this,b,c)};h.Va=function(a,b,c){return T.l(new W(null,2,5,X,[this.key,this.A],null),b,c)};h.ba=function(){return new F([this.key,this.A],0,null)};h.ea=function(a,b){return ad(new W(null,2,5,X,[this.key,this.A],null),b)};
h.na=function(a,b){return new W(null,3,5,X,[this.key,this.A,b],null)};h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.P(null,c);case 3:return this.la(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.P(null,c)};a.l=function(a,c,d){return this.la(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.P(null,a)};
h.j=function(a,b){return this.la(null,a,b)};fi.prototype[rc]=function(){return be(this)};
var li=function li(a,b,c,d,e){if(null==b)return new fi(c,d,null,null);var g=function(){var d=b.key;return a.j?a.j(c,d):a.call(null,c,d)}();if(0===g)return e[0]=b,null;if(0>g)return g=function(){var g=b.left;return li.ga?li.ga(a,g,c,d,e):li.call(null,a,g,c,d,e)}(),null!=g?b.If(g):null;g=function(){var g=b.right;return li.ga?li.ga(a,g,c,d,e):li.call(null,a,g,c,d,e)}();return null!=g?b.Jf(g):null},mi=function mi(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof fi){if(b instanceof fi){var d=
function(){var d=a.right,f=b.left;return mi.j?mi.j(d,f):mi.call(null,d,f)}();return d instanceof fi?new fi(d.key,d.A,new fi(a.key,a.A,a.left,d.left),new fi(b.key,b.A,d.right,b.right)):new fi(a.key,a.A,a.left,new fi(b.key,b.A,d,b.right))}return new fi(a.key,a.A,a.left,function(){var d=a.right;return mi.j?mi.j(d,b):mi.call(null,d,b)}())}if(b instanceof fi)return new fi(b.key,b.A,function(){var d=b.left;return mi.j?mi.j(a,d):mi.call(null,a,d)}(),b.right);d=function(){var d=a.right,f=b.left;return mi.j?
mi.j(d,f):mi.call(null,d,f)}();return d instanceof fi?new fi(d.key,d.A,new gi(a.key,a.A,a.left,d.left),new gi(b.key,b.A,d.right,b.right)):ii(a.key,a.A,a.left,new gi(b.key,b.A,d,b.right))},ni=function ni(a,b,c,d){if(null!=b){var f=function(){var d=b.key;return a.j?a.j(c,d):a.call(null,c,d)}();if(0===f)return d[0]=b,mi(b.left,b.right);if(0>f)return f=function(){var f=b.left;return ni.H?ni.H(a,f,c,d):ni.call(null,a,f,c,d)}(),null!=f||null!=d[0]?b.left instanceof gi?ii(b.key,b.A,f,b.right):new fi(b.key,
b.A,f,b.right):null;f=function(){var f=b.right;return ni.H?ni.H(a,f,c,d):ni.call(null,a,f,c,d)}();return null!=f||null!=d[0]?b.right instanceof gi?ji(b.key,b.A,b.left,f):new fi(b.key,b.A,b.left,f):null}return null},oi=function oi(a,b,c,d){var f=b.key,g=a.j?a.j(c,f):a.call(null,c,f);return 0===g?b.replace(f,d,b.left,b.right):0>g?b.replace(f,b.A,function(){var f=b.left;return oi.H?oi.H(a,f,c,d):oi.call(null,a,f,c,d)}(),b.right):b.replace(f,b.A,b.left,function(){var f=b.right;return oi.H?oi.H(a,f,c,
d):oi.call(null,a,f,c,d)}())};function pi(a,b,c,d,e){this.Lb=a;this.tree=b;this.B=c;this.meta=d;this.G=e;this.v=418776847;this.K=8192}h=pi.prototype;h.nc=function(a,b){return qi(this,b)};h.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.get=function(a,b){return this.N(null,a,b)};h.entries=function(){return new sh(E(E(this)))};h.toString=function(){return Ld(this)};h.keys=function(){return be(xh(this))};h.values=function(){return be(yh(this))};h.equiv=function(a){return this.I(null,a)};function qi(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Lb.j?a.Lb.j(b,d):a.Lb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}h.has=function(a){return Ze(this,a)};h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){a=qi(this,b);return null!=a?a.A:c};h.oc=function(a,b,c){return null!=this.tree?le(ki(this.tree,b,c)):c};h.ca=function(){return this.meta};h.rb=function(){return new pi(this.Lb,this.tree,this.B,this.meta,this.G)};h.ka=function(){return this.B};h.pc=function(){return 0<this.B?di(this.tree,!1,this.B):null};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ge(this)};h.I=function(a,b){return qh(this,b)};h.sa=function(){return new pi(this.Lb,null,0,this.meta,0)};
h.Mc=function(a,b){a=[null];b=ni(this.Lb,this.tree,b,a);return null==b?null==te(a,0)?this:new pi(this.Lb,null,0,this.meta,null):new pi(this.Lb,b.mc(),this.B-1,this.meta,null)};h.Va=function(a,b,c){a=[null];var d=li(this.Lb,this.tree,b,c,a);return null==d?(a=te(a,0),K.j(c,a.A)?this:new pi(this.Lb,oi(this.Lb,this.tree,b,c),this.B,this.meta,null)):new pi(this.Lb,d.mc(),this.B+1,this.meta,null)};h.ba=function(){return 0<this.B?di(this.tree,!0,this.B):null};
h.ea=function(a,b){return new pi(this.Lb,this.tree,this.B,b,this.G)};h.na=function(a,b){if(Se(b))return this.Va(null,Fc.j(b,0),Fc.j(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=G(b);if(Se(c))a=a.Va(null,Fc.j(c,0),Fc.j(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};pi.prototype[rc]=function(){return be(this)};
var ri=function ri(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ri.w(0<c.length?new F(c.slice(0),0,null):null)};ri.w=function(a){a=E(a);for(var b=vd(Ch);;)if(a){var c=J(J(a));b=Kf(b,G(a),G(J(a)));a=c}else return xd(b)};ri.J=0;ri.M=function(a){return this.w(E(a))};var si=function si(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return si.w(0<c.length?new F(c.slice(0),0,null):null)};
si.w=function(a){a=a instanceof F&&0===a.i?a.o:tc(a);return Ee(a)};si.J=0;si.M=function(a){return this.w(E(a))};function ti(a,b){this.ia=a;this.xb=b;this.v=32374988;this.K=0}h=ti.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.xb};h.Sa=function(){var a=(null!=this.ia?this.ia.v&128||r===this.ia.de||(this.ia.v?0:oc(Jc,this.ia)):oc(Jc,this.ia))?this.ia.Sa():J(this.ia);return null==a?null:new ti(a,this.xb)};h.aa=function(){return ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.xb)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return this.ia.La(null).key};h.Ta=function(){var a=(null!=this.ia?this.ia.v&128||r===this.ia.de||(this.ia.v?0:oc(Jc,this.ia)):oc(Jc,this.ia))?this.ia.Sa():J(this.ia);return null!=a?new ti(a,this.xb):$d};h.ba=function(){return this};h.ea=function(a,b){return new ti(this.ia,b)};h.na=function(a,b){return xe(b,this)};
ti.prototype[rc]=function(){return be(this)};function xh(a){return(a=E(a))?new ti(a,null):null}function ui(a){return Qc(a)}function vi(a,b){this.ia=a;this.xb=b;this.v=32374988;this.K=0}h=vi.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.ca=function(){return this.xb};h.Sa=function(){var a=(null!=this.ia?this.ia.v&128||r===this.ia.de||(this.ia.v?0:oc(Jc,this.ia)):oc(Jc,this.ia))?this.ia.Sa():J(this.ia);return null==a?null:new vi(a,this.xb)};h.aa=function(){return ee(this)};
h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.xb)};h.Ea=function(a,b){return ye(b,this)};h.Fa=function(a,b,c){return ze(b,c,this)};h.La=function(){return this.ia.La(null).A};h.Ta=function(){var a=(null!=this.ia?this.ia.v&128||r===this.ia.de||(this.ia.v?0:oc(Jc,this.ia)):oc(Jc,this.ia))?this.ia.Sa():J(this.ia);return null!=a?new vi(a,this.xb):$d};h.ba=function(){return this};h.ea=function(a,b){return new vi(this.ia,b)};h.na=function(a,b){return xe(b,this)};
vi.prototype[rc]=function(){return be(this)};function yh(a){return(a=E(a))?new vi(a,null):null}var wi=function wi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return wi.w(0<c.length?new F(c.slice(0),0,null):null)};wi.w=function(a){return z(kg(a))?uc.j(function(a,c){return Ae.j(z(a)?a:Z,c)},a):null};wi.J=0;wi.M=function(a){return this.w(E(a))};
function xi(a){for(var b=Z,c=E(new W(null,3,5,X,[yi,zi,Ai],null));;)if(c){var d=G(c),e=D.l(a,d,Bi);b=Sf(e,Bi)?T.l(b,d,e):b;c=J(c)}else return ad(b,Ke(a))}function Ci(a){this.lf=a}Ci.prototype.pa=function(){return this.lf.pa()};Ci.prototype.next=function(){if(this.lf.pa())return this.lf.next().key;throw Error("No such element");};Ci.prototype.remove=function(){return Error("Unsupported operation")};function Di(a,b,c){this.meta=a;this.jc=b;this.G=c;this.v=15077647;this.K=139268}h=Di.prototype;
h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.keys=function(){return be(E(this))};h.entries=function(){return new th(E(E(this)))};h.values=function(){return be(E(this))};h.has=function(a){return Ze(this,a)};
h.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){a=Nc(this.jc,b);return z(a)?Qc(a):c};h.sb=function(){return new Ci(Jd(this.jc))};h.ca=function(){return this.meta};
h.rb=function(){return new Di(this.meta,this.jc,this.G)};h.ka=function(){return zc(this.jc)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ge(this)};h.I=function(a,b){if(a=Oe(b)){var c=N(this)===N(b);if(c)try{return bf(function(){return function(a,c){return(a=Ze(b,c))?a:new je(!1)}}(c,a,this),!0,this.jc)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};h.gd=function(){return new Ei(vd(this.jc))};h.sa=function(){return ad(Fi,this.meta)};
h.Se=function(a,b){return new Di(this.meta,Pc(this.jc,b),null)};h.ba=function(){return xh(this.jc)};h.ea=function(a,b){return new Di(b,this.jc,this.G)};h.na=function(a,b){return new Di(this.meta,T.l(this.jc,b,null),null)};h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();
h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};var Fi=new Di(null,Z,he);Di.prototype[rc]=function(){return be(this)};function Ei(a){this.Ac=a;this.K=136;this.v=259}h=Ei.prototype;h.Nc=function(a,b){this.Ac=yd(this.Ac,b,null);return this};h.Ad=function(){return new Di(null,xd(this.Ac),null)};h.ka=function(){return N(this.Ac)};h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){return Lc.l(this.Ac,b,Ve)===Ve?c:b};h.call=function(){function a(a,b,c){return Lc.l(this.Ac,b,Ve)===Ve?c:b}function b(a,b){return Lc.l(this.Ac,b,Ve)===Ve?null:b}var c=null;c=function(c,e,f){switch(arguments.length){case 2:return b.call(this,c,e);case 3:return a.call(this,c,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.j=b;c.l=a;return c}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};
h.h=function(a){return Lc.l(this.Ac,a,Ve)===Ve?null:a};h.j=function(a,b){return Lc.l(this.Ac,a,Ve)===Ve?b:a};function Gi(a,b,c){this.meta=a;this.ec=b;this.G=c;this.v=417730831;this.K=8192}h=Gi.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};h.keys=function(){return be(E(this))};h.entries=function(){return new th(E(E(this)))};h.values=function(){return be(E(this))};h.has=function(a){return Ze(this,a)};
h.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){a=qi(this.ec,b);return null!=a?a.key:c};h.ca=function(){return this.meta};h.rb=function(){return new Gi(this.meta,this.ec,this.G)};h.ka=function(){return N(this.ec)};
h.pc=function(){return 0<N(this.ec)?wg.j(ui,od(this.ec)):null};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ge(this)};h.I=function(a,b){if(a=Oe(b)){var c=N(this)===N(b);if(c)try{return bf(function(){return function(a,c){return(a=Ze(b,c))?a:new je(!1)}}(c,a,this),!0,this.ec)}catch(d){if(d instanceof Error)return!1;throw d;}else return c}else return a};h.sa=function(){return new Gi(this.meta,Bc(this.ec),0)};h.Se=function(a,b){return new Gi(this.meta,Fe.j(this.ec,b),null)};h.ba=function(){return xh(this.ec)};
h.ea=function(a,b){return new Gi(b,this.ec,this.G)};h.na=function(a,b){return new Gi(this.meta,T.l(this.ec,b,null),null)};h.call=function(){var a=null;a=function(a,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.N(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.j=function(a,c){return this.fa(null,c)};a.l=function(a,c,d){return this.N(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};
h.h=function(a){return this.fa(null,a)};h.j=function(a,b){return this.N(null,a,b)};Gi.prototype[rc]=function(){return be(this)};function Hi(a){if(Oe(a))return Je(a,null);a=E(a);if(null==a)return Fi;if(a instanceof F&&0===a.i){a=a.o;for(var b=a.length,c=vd(Fi),d=0;;)if(d<b)wd(c,a[d]),d+=1;else break;return xd(c)}for(c=vd(Fi);;)if(null!=a)b=J(a),c=c.Nc(null,a.La(null)),a=b;else return xd(c)}
function vf(a){if(null!=a&&(a.K&4096||r===a.Re))return a.yd(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.h(a)].join(""));}function Ii(a,b){var c=vd(Z);a=E(a);for(b=E(b);;)if(a&&b)c=Kf(c,G(a),G(b)),a=J(a),b=J(b);else return xd(c)}function Ji(){this.o=[]}h=Ji.prototype;h.add=function(a){return this.o.push(a)};h.size=function(){return this.o.length};h.clear=function(){return this.o=[]};h.Db=function(){return 0===this.o.length};h.toArray=function(){return this.o};
function Ki(){return function(a){return function(b){return function(){function c(c,d){b.add(d);return 2===b.size()?(d=bh(b.toArray()),b.clear(),a.j?a.j(c,d):a.call(null,c,d)):c}function d(c){if(!z(b.Db())){var d=bh(b.toArray());b.clear();c=le(a.j?a.j(c,d):a.call(null,c,d))}return a.h?a.h(c):a.call(null,c)}function e(){return a.F?a.F():a.call(null)}var f=null;f=function(a,b){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,b)}throw Error("Invalid arity: "+
arguments.length);};f.F=e;f.h=d;f.j=c;return f}()}(new Ji)}}function Li(a,b,c){this.i=a;this.end=b;this.step=c}Li.prototype.pa=function(){return 0<this.step?this.i<this.end:this.i>this.end};Li.prototype.next=function(){var a=this.i;this.i+=this.step;return a};function Mi(a,b,c,d,e){this.meta=a;this.start=b;this.end=c;this.step=d;this.G=e;this.v=32375006;this.K=139264}h=Mi.prototype;h.toString=function(){return Ld(this)};h.equiv=function(a){return this.I(null,a)};
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.P=function(a,b){if(0<=b&&b<this.ka(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
h.la=function(a,b,c){return 0<=b&&b<this.ka(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};h.sb=function(){return new Li(this.start,this.end,this.step)};h.ca=function(){return this.meta};h.rb=function(){return new Mi(this.meta,this.start,this.end,this.step,this.G)};
h.Sa=function(){return 0<this.step?this.start+this.step<this.end?new Mi(this.meta,this.start+this.step,this.end,this.step,null):null:this.start+this.step>this.end?new Mi(this.meta,this.start+this.step,this.end,this.step,null):null};h.ka=function(){return nc(this.ba(null))?0:Math.ceil((this.end-this.start)/this.step)};h.aa=function(){var a=this.G;return null!=a?a:this.G=a=ee(this)};h.I=function(a,b){return we(this,b)};h.sa=function(){return ad($d,this.meta)};h.Ea=function(a,b){return me(this,b)};
h.Fa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(ke(c))return C(c);a+=this.step}else return c};h.La=function(){return null==this.ba(null)?null:this.start};h.Ta=function(){return null!=this.ba(null)?new Mi(this.meta,this.start+this.step,this.end,this.step,null):$d};h.ba=function(){return 0<this.step?this.start<this.end?this:null:0>this.step?this.start>this.end?this:null:this.start===this.end?null:this};
h.ea=function(a,b){return new Mi(b,this.start,this.end,this.step,this.G)};h.na=function(a,b){return xe(b,this)};Mi.prototype[rc]=function(){return be(this)};function Ni(a,b){if("number"!==typeof a)throw Error("Assert failed: (number? n)");return new wf(null,function(){var c=E(b);return c?xe(G(c),Ni(a,yg(a,c))):null},null,null)}function Oi(a){return xd(uc.l(function(a,c){return Kf(a,c,D.l(a,c,0)+1)},vd(Z),a))}
function Pi(){var a=vf;return function(){function b(b,c,d){return new W(null,2,5,X,[tf.l?tf.l(b,c,d):tf.call(null,b,c,d),a.l?a.l(b,c,d):a.call(null,b,c,d)],null)}function c(b,c){return new W(null,2,5,X,[tf.j?tf.j(b,c):tf.call(null,b,c),a.j?a.j(b,c):a.call(null,b,c)],null)}function d(b){return new W(null,2,5,X,[tf.h?tf.h(b):tf.call(null,b),a.h?a.h(b):a.call(null,b)],null)}function e(){return new W(null,2,5,X,[tf.F?tf.F():tf.call(null),a.F?a.F():a.call(null)],null)}var f=null,g=function(){function b(a,
b,d,e){var f=null;if(3<arguments.length){f=0;for(var g=Array(arguments.length-3);f<g.length;)g[f]=arguments[f+3],++f;f=new F(g,0,null)}return c.call(this,a,b,d,f)}function c(b,c,d,e){return new W(null,2,5,X,[Rf(tf,b,c,d,e),Rf(a,b,c,d,e)],null)}b.J=3;b.M=function(a){var b=G(a);a=J(a);var d=G(a);a=J(a);var e=G(a);a=Zd(a);return c(b,d,e,a)};b.w=c;return b}();f=function(a,f,m,p){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,a);case 2:return c.call(this,a,f);case 3:return b.call(this,
a,f,m);default:var k=null;if(3<arguments.length){k=0;for(var l=Array(arguments.length-3);k<l.length;)l[k]=arguments[k+3],++k;k=new F(l,0,null)}return g.w(a,f,m,k)}throw Error("Invalid arity: "+arguments.length);};f.J=3;f.M=g.M;f.F=e;f.h=d;f.j=c;f.l=b;f.w=g.w;return f}()}function Qi(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function Ri(a,b){if("string"===typeof b)return a=a.exec(b),K.j(G(a),b)?1===N(a)?G(a):bh(a):null;throw new TypeError("re-matches must match against a string.");}function Si(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===N(a)?G(a):bh(a);throw new TypeError("re-find must match against a string.");}
var Ti=function Ti(a,b){var d=Si(a,b),e=b.search(a),f=Ne(d)?G(d):d,g=e+function(){var a=N(f);return 1>a?1:a}(),k=b.substring(g);return z(d)?new wf(null,function(d,e,f,g,k){return function(){return xe(d,g<=N(b)?Ti.j?Ti.j(a,k):Ti.call(null,a,k):null)}}(d,e,f,g,k),null,null):null};function Ui(a){if(a instanceof RegExp)return a;var b=Si(/^\(\?([idmsux]*)\)/,a),c=S(b,0);b=S(b,1);c=N(c);return new RegExp(a.substring(c),z(b)?b:"")}
function Vi(a,b,c,d,e,f,g){var k=cc;cc=null==cc?null:cc-1;try{if(null!=cc&&0>cc)return pd(a,"#");pd(a,c);if(0===kc.h(f))E(g)&&pd(a,function(){var a=Wi.h(f);return z(a)?a:"..."}());else{if(E(g)){var l=G(g);b.l?b.l(l,a,f):b.call(null,l,a,f)}for(var m=J(g),p=kc.h(f)-1;;)if(!m||null!=p&&0===p){E(m)&&0===p&&(pd(a,d),pd(a,function(){var a=Wi.h(f);return z(a)?a:"..."}()));break}else{pd(a,d);var q=G(m);c=a;g=f;b.l?b.l(q,c,g):b.call(null,q,c,g);var t=J(m);c=p-1;m=t;p=c}}return pd(a,e)}finally{cc=k}}
function Xi(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);pd(a,f);e+=1}else if(b=E(b))c=b,Te(c)?(b=Bd(c),d=Cd(c),c=b,f=N(b),b=d,d=f):(f=G(c),pd(a,f),b=J(c),c=null,d=0),e=0;else return null}var Yi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function Zi(a){return[B.h('"'),B.h(a.replace(/[\\"\b\f\n\r\t]/g,function(a){return Yi[a]})),B.h('"')].join("")}
function $i(a,b){return(a=Xe(D.j(a,ic)))?(a=null!=b?b.v&131072||r===b.Tf?!0:!1:!1)?null!=Ke(b):a:a}
function aj(a,b,c){if(null==a)return pd(b,"nil");$i(c,a)&&(pd(b,"^"),bj(Ke(a),b,c),pd(b," "));if(a.Pc)return a.hd(a,b,c);if(null!=a?a.v&2147483648||r===a.oa||(a.v?0:oc(qd,a)):oc(qd,a))return rd(a,b,c);if(!0===a||!1===a)return pd(b,B.h(a));if("number"===typeof a)return pd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.h(a));if(null!=a&&a.constructor===Object)return pd(b,"#js "),cj(wg.j(function(b){return new Yg(null!=Ri(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
b)?uf.h(b):b,a[b],null)},Va(a)),b,c);if(mc(a))return Vi(b,bj,"#js ["," ","]",c,a);if(ea(a))return z(hc.h(c))?pd(b,Zi(a)):pd(b,a);if(ja(a)){var d=a.name;c=z(function(){var a=null==d;return a?a:ya(d)}())?"Function":d;return Xi(b,R(["#object[",c,"","]"]))}if(a instanceof Date)return c=function(a,b){for(a=B.h(a);;)if(N(a)<b)a=["0",B.h(a)].join("");else return a},Xi(b,R(['#inst "',B.h(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),
2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Xi(b,R(['#"',a.source,'"']));if(z(function(){var b=null==a?null:a.constructor;return null==b?null:b.sc}()))return Xi(b,R(["#object[",a.constructor.sc.replace(/\//g,"."),"]"]));d=function(){var b=null==a?null:a.constructor;return null==b?null:b.name}();c=z(function(){var a=null==d;return a?a:ya(d)}())?"Object":d;return null==a.constructor?Xi(b,R(["#object[",c,"]"])):Xi(b,R(["#object[",c," ",
B.h(a),"]"]))}function bj(a,b,c){var d=dj.h(c);return z(d)?(c=T.l(c,ej,aj),d.l?d.l(a,b,c):d.call(null,a,b,c)):aj(a,b,c)}function fj(a,b){var c=new Cb;a:{var d=new Kd(c);bj(G(a),d,b);a=E(J(a));for(var e=null,f=0,g=0;;)if(g<f){var k=e.P(null,g);pd(d," ");bj(k,d,b);g+=1}else if(a=E(a))e=a,Te(e)?(a=Bd(e),f=Cd(e),e=a,k=N(a),a=f,f=k):(k=G(e),pd(d," "),bj(k,d,b),a=J(e),e=null,f=0),g=0;else break a}return c}function gj(a){var b=ec();return Me(a)?"":B.h(fj(a,b))}
function hj(a,b,c,d,e){return Vi(d,function(a,b,d){var e=Qc(a);c.l?c.l(e,b,d):c.call(null,e,b,d);pd(b," ");a=Rc(a);return c.l?c.l(a,b,d):c.call(null,a,b,d)},[B.h(a),"{"].join(""),", ","}",e,E(b))}function cj(a,b,c){var d=bj,e=(Qe(a),null),f=S(e,0);e=S(e,1);return z(f)?hj(["#:",B.h(f)].join(""),e,d,b,c):hj(null,a,d,b,c)}vg.prototype.oa=r;vg.prototype.T=function(a,b,c){pd(b,"#object [cljs.core.Volatile ");bj(new v(null,1,[ij,this.state],null),b,c);return pd(b,"]")};F.prototype.oa=r;
F.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};wf.prototype.oa=r;wf.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};Yg.prototype.oa=r;Yg.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};ci.prototype.oa=r;ci.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};Vh.prototype.oa=r;Vh.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};gi.prototype.oa=r;gi.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};
vh.prototype.oa=r;vh.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};Gi.prototype.oa=r;Gi.prototype.T=function(a,b,c){return Vi(b,bj,"#{"," ","}",c,this)};$g.prototype.oa=r;$g.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};sf.prototype.oa=r;sf.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};ve.prototype.oa=r;ve.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};Yh.prototype.oa=r;Yh.prototype.T=function(a,b,c){return cj(this,b,c)};
Wh.prototype.oa=r;Wh.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};eh.prototype.oa=r;eh.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};pi.prototype.oa=r;pi.prototype.T=function(a,b,c){return cj(this,b,c)};Di.prototype.oa=r;Di.prototype.T=function(a,b,c){return Vi(b,bj,"#{"," ","}",c,this)};Bf.prototype.oa=r;Bf.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};qg.prototype.oa=r;
qg.prototype.T=function(a,b,c){pd(b,"#object [cljs.core.Atom ");bj(new v(null,1,[ij,this.state],null),b,c);return pd(b,"]")};vi.prototype.oa=r;vi.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};fi.prototype.oa=r;fi.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};Ag.prototype.oa=r;Ag.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};W.prototype.oa=r;W.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};lh.prototype.oa=r;
lh.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};pf.prototype.oa=r;pf.prototype.T=function(a,b){return pd(b,"()")};mh.prototype.oa=r;mh.prototype.T=function(a,b,c){return Vi(b,bj,"#queue ["," ","]",c,E(this))};v.prototype.oa=r;v.prototype.T=function(a,b,c){return cj(this,b,c)};Mi.prototype.oa=r;Mi.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};hg.prototype.oa=r;hg.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};ti.prototype.oa=r;
ti.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};Ce.prototype.oa=r;Ce.prototype.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};function jj(a,b){td(a,kj,b)}var lj=null;function mj(){null==lj&&(lj=rg(0));return Xd.h([B.h("reagent"),B.h(tg.j(lj,ie))].join(""))}function nj(a){this.ob=a;this.value=null;this.v=2147516416;this.K=1}nj.prototype.Ab=function(){z(this.ob)&&(this.value=this.ob.F?this.ob.F():this.ob.call(null),this.ob=null);return this.value};
nj.prototype.T=function(a,b,c){pd(b,"#object[cljs.core.Delay ");bj(new v(null,2,[oj,null==this.ob?pj:qj,ij,this.value],null),b,c);return pd(b,"]")};function rj(a){return a instanceof nj?C(a):a}function sj(a,b){this.Ee=a;this.je=b;this.v=2173173760;this.K=131072}h=sj.prototype;
h.indexOf=function(){var a=null;a=function(a,c){switch(arguments.length){case 1:return M(this,a,0);case 2:return M(this,a,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(a){return M(this,a,0)};a.j=function(a,c){return M(this,a,c)};return a}();
h.lastIndexOf=function(){function a(a){return O(this,a,N(this))}var b=null;b=function(b,d){switch(arguments.length){case 1:return a.call(this,b);case 2:return O(this,b,d)}throw Error("Invalid arity: "+arguments.length);};b.h=a;b.j=function(a,b){return O(this,a,b)};return b}();h.sb=function(){var a=ag(this.je);return ig(this.Ee,a)};h.ba=function(){var a=ag(this.je);a=ig(this.Ee,a);a=gg(a);return E(z(a)?a:$d)};h.Ea=function(a,b){return ef(this.Ee,df(b,cf),this.je)};
h.Fa=function(a,b,c){return ff(this.Ee,df(b,cf),c,this.je)};h.T=function(a,b,c){return Vi(b,bj,"("," ",")",c,this)};sj.prototype[rc]=function(){return be(this)};function tj(){}
var uj=function uj(a){if(null!=a&&null!=a.Ig)return a.Ig(a);var c=uj[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=uj._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IEncodeJS.-clj-\x3ejs",a);},vj=function vj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return vj.w(arguments[0],1<c.length?new F(c.slice(1),0,null):null)};
vj.w=function(a,b){var c=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b,d=D.l(c,wj,vf),e=function(){return function(a){var b=f;return(null!=a?r===a.Hg||(a.ie?0:oc(tj,a)):oc(tj,a))?uj(a):"string"===typeof a||"number"===typeof a||a instanceof U||a instanceof Wd?b.h?b.h(a):b.call(null,a):gj(R([a]))}}(b,c,c,d),f=function(a,b,c,d){return function t(a){if(null==a)return null;if(null!=a?r===a.Hg||(a.ie?0:oc(tj,a)):oc(tj,a))return uj(a);if(a instanceof U)return d.h?d.h(a):d.call(null,a);if(a instanceof Wd)return B.h(a);
if(Qe(a)){var b={};a=E(a);for(var c=null,f=0,g=0;;)if(g<f){var k=c.P(null,g),l=S(k,0),m=S(k,1);k=b;l=e(l);m=t(m);k[l]=m;g+=1}else if(a=E(a))Te(a)?(f=Bd(a),a=Cd(a),c=f,f=N(f)):(c=G(a),f=S(c,0),g=S(c,1),c=b,f=e(f),g=t(g),c[f]=g,a=J(a),c=null,f=0),g=0;else break;return b}if(Ne(a)){b=[];a=E(wg.j(t,a));c=null;for(g=f=0;;)if(g<f)k=c.P(null,g),b.push(k),g+=1;else if(a=E(a))c=a,Te(c)?(a=Bd(c),g=Cd(c),c=a,f=N(a),a=g):(a=G(c),b.push(a),a=J(c),c=null,f=0),g=0;else break;return b}return a}}(b,c,c,d);return f(a)};
vj.J=1;vj.M=function(a){var b=G(a);a=J(a);return this.w(b,a)};function xj(){}var yj=function yj(a,b){if(null!=a&&null!=a.Gg)return a.Gg(a,b);var d=yj[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=yj._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IEncodeClojure.-js-\x3eclj",a);};
function zj(a){var b=R([Aj,!1]),c=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b,d=D.j(c,Aj);return function(a,c,d,k){return function p(e){return(null!=e?r===e.oh||(e.ie?0:oc(xj,e)):oc(xj,e))?yj(e,Pf(si,b)):We(e)?Qi(wg.j(p,e)):ch(e)?new Yg(p(Qc(e)),p(Rc(e)),null):Ne(e)?Dg.l(null==e?null:Bc(e),wg.h(p),e):mc(e)?xd(uc.l(function(){return function(a,b){return If.j(a,p(b))}}(a,c,d,k),vd(Be),e)):pc(e)===Object?xd(uc.l(function(a,b,c,d){return function(a,b){return Kf(a,d.h?d.h(b):d.call(null,b),p(Wa(e,b)))}}(a,
c,d,k),vd(Z),Va(e))):e}}(b,c,d,z(d)?uf:B)(a)}var Bj=null;function Cj(){null==Bj&&(Bj=rg(new v(null,3,[Dj,Z,Ej,Z,Fj,Z],null)));return Bj}function Gj(a,b,c){var d=K.j(b,c);if(d)return d;d=Fj.h(a);d=d.h?d.h(b):d.call(null,b);if(!(d=Ze(d,c))&&(d=Se(c)))if(d=Se(b))if(d=N(c)===N(b)){d=!0;for(var e=0;;)if(d&&e!==N(c))d=Gj(a,b.h?b.h(e):b.call(null,e),c.h?c.h(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Hj(a){var b=C(Cj());return Tf(D.j(Dj.h(b),a))}
function Ij(a,b,c,d){tg.j(a,function(){return C(b)});tg.j(c,function(){return C(d)})}
var Jj=function Jj(a,b,c){var e=function(){var b=C(c);return b.h?b.h(a):b.call(null,a)}();e=z(z(e)?e.h?e.h(b):e.call(null,b):e)?!0:null;if(z(e))return e;e=function(){for(var e=Hj(b);;)if(0<N(e)){var g=G(e);Jj.l?Jj.l(a,g,c):Jj.call(null,a,g,c);e=Zd(e)}else return null}();if(z(e))return e;e=function(){for(var e=Hj(a);;)if(0<N(e)){var g=G(e);Jj.l?Jj.l(g,b,c):Jj.call(null,g,b,c);e=Zd(e)}else return null}();return z(e)?e:!1};function Kj(a,b,c,d){c=Jj(a,b,c);return z(c)?c:Gj(d,a,b)}
var Lj=function Lj(a,b,c,d,e,f,g,k){var m=uc.l(function(d,f){var g=S(f,0);S(f,1);if(Gj(C(c),b,g)){var k=(k=null==d)?k:Kj(g,G(d),e,C(c));d=z(k)?f:d;if(!z(Kj(G(d),g,e,C(c))))throw Error(["Multiple methods in multimethod '",B.h(a),"' match dispatch value: ",B.h(b)," -\x3e ",B.h(g)," and ",B.h(G(d)),", and neither is preferred"].join(""));}return d},null,C(d)),p=function(){var a;if(a=null==m)a=C(d),a=a.h?a.h(k):a.call(null,k);return z(a)?new W(null,2,5,X,[k,a],null):m}();if(z(p)){if(K.j(C(g),C(c)))return tg.H(f,
T,b,G(J(p))),G(J(p));Ij(f,d,g,c);return Lj.Wa?Lj.Wa(a,b,c,d,e,f,g,k):Lj.call(null,a,b,c,d,e,f,g,k)}return null};function Mj(a,b){throw Error(["No method in multimethod '",B.h(a),"' for dispatch value: ",B.h(b)].join(""));}function Nj(a,b,c,d,e,f,g){var k=Oj;this.name=a;this.D=b;this.Qg=k;this.oe=c;this.te=d;this.dh=e;this.se=f;this.ae=g;this.v=4194305;this.K=4352}h=Nj.prototype;
h.call=function(){function a(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I,ua){a=this;var ca=Ie(a.D,b,c,d,e,R([f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I,ua])),Q=Pj(this,ca);z(Q)||Mj(a.name,ca);return Ie(Q,b,c,d,e,R([f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I,ua]))}function b(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I){a=this;var ca=a.D.lb?a.D.lb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I),Q=Pj(this,ca);z(Q)||Mj(a.name,ca);return Q.lb?Q.lb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,
H,L,P,I):Q.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P,I)}function c(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P){a=this;var ca=a.D.kb?a.D.kb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P),Q=Pj(this,ca);z(Q)||Mj(a.name,ca);return Q.kb?Q.kb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P):Q.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L,P)}function d(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L){a=this;var ca=a.D.jb?a.D.jb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L):a.D.call(null,
b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L),Q=Pj(this,ca);z(Q)||Mj(a.name,ca);return Q.jb?Q.jb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L):Q.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H,L)}function e(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H){a=this;var ca=a.D.ib?a.D.ib(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H),Q=Pj(this,ca);z(Q)||Mj(a.name,ca);return Q.ib?Q.ib(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H):Q.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x,H)}function f(a,b,c,d,e,f,g,k,l,m,p,q,
t,u,w,y,x){a=this;var ca=a.D.hb?a.D.hb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x),H=Pj(this,ca);z(H)||Mj(a.name,ca);return H.hb?H.hb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x):H.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y,x)}function g(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y){a=this;var x=a.D.gb?a.D.gb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w,y),H=Pj(this,x);z(H)||Mj(a.name,x);return H.gb?H.gb(b,c,d,e,f,g,k,l,m,p,q,t,u,w,y):H.call(null,b,c,d,e,f,g,k,
l,m,p,q,t,u,w,y)}function k(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w){a=this;var y=a.D.fb?a.D.fb(b,c,d,e,f,g,k,l,m,p,q,t,u,w):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w),x=Pj(this,y);z(x)||Mj(a.name,y);return x.fb?x.fb(b,c,d,e,f,g,k,l,m,p,q,t,u,w):x.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u,w)}function l(a,b,c,d,e,f,g,k,l,m,p,q,t,u){a=this;var w=a.D.eb?a.D.eb(b,c,d,e,f,g,k,l,m,p,q,t,u):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t,u),y=Pj(this,w);z(y)||Mj(a.name,w);return y.eb?y.eb(b,c,d,e,f,g,k,l,m,p,q,t,u):y.call(null,b,
c,d,e,f,g,k,l,m,p,q,t,u)}function m(a,b,c,d,e,f,g,k,l,m,p,q,t){a=this;var u=a.D.cb?a.D.cb(b,c,d,e,f,g,k,l,m,p,q,t):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q,t),w=Pj(this,u);z(w)||Mj(a.name,u);return w.cb?w.cb(b,c,d,e,f,g,k,l,m,p,q,t):w.call(null,b,c,d,e,f,g,k,l,m,p,q,t)}function p(a,b,c,d,e,f,g,k,l,m,p,q){a=this;var t=a.D.bb?a.D.bb(b,c,d,e,f,g,k,l,m,p,q):a.D.call(null,b,c,d,e,f,g,k,l,m,p,q),u=Pj(this,t);z(u)||Mj(a.name,t);return u.bb?u.bb(b,c,d,e,f,g,k,l,m,p,q):u.call(null,b,c,d,e,f,g,k,l,m,p,q)}function q(a,
b,c,d,e,f,g,k,l,m,p){a=this;var q=a.D.ab?a.D.ab(b,c,d,e,f,g,k,l,m,p):a.D.call(null,b,c,d,e,f,g,k,l,m,p),t=Pj(this,q);z(t)||Mj(a.name,q);return t.ab?t.ab(b,c,d,e,f,g,k,l,m,p):t.call(null,b,c,d,e,f,g,k,l,m,p)}function t(a,b,c,d,e,f,g,k,l,m){a=this;var p=a.D.nb?a.D.nb(b,c,d,e,f,g,k,l,m):a.D.call(null,b,c,d,e,f,g,k,l,m),q=Pj(this,p);z(q)||Mj(a.name,p);return q.nb?q.nb(b,c,d,e,f,g,k,l,m):q.call(null,b,c,d,e,f,g,k,l,m)}function u(a,b,c,d,e,f,g,k,l){a=this;var m=a.D.Wa?a.D.Wa(b,c,d,e,f,g,k,l):a.D.call(null,
b,c,d,e,f,g,k,l),p=Pj(this,m);z(p)||Mj(a.name,m);return p.Wa?p.Wa(b,c,d,e,f,g,k,l):p.call(null,b,c,d,e,f,g,k,l)}function w(a,b,c,d,e,f,g,k){a=this;var l=a.D.mb?a.D.mb(b,c,d,e,f,g,k):a.D.call(null,b,c,d,e,f,g,k),m=Pj(this,l);z(m)||Mj(a.name,l);return m.mb?m.mb(b,c,d,e,f,g,k):m.call(null,b,c,d,e,f,g,k)}function x(a,b,c,d,e,f,g){a=this;var k=a.D.Ka?a.D.Ka(b,c,d,e,f,g):a.D.call(null,b,c,d,e,f,g),l=Pj(this,k);z(l)||Mj(a.name,k);return l.Ka?l.Ka(b,c,d,e,f,g):l.call(null,b,c,d,e,f,g)}function y(a,b,c,d,
e,f){a=this;var g=a.D.ga?a.D.ga(b,c,d,e,f):a.D.call(null,b,c,d,e,f),k=Pj(this,g);z(k)||Mj(a.name,g);return k.ga?k.ga(b,c,d,e,f):k.call(null,b,c,d,e,f)}function L(a,b,c,d,e){a=this;var f=a.D.H?a.D.H(b,c,d,e):a.D.call(null,b,c,d,e),g=Pj(this,f);z(g)||Mj(a.name,f);return g.H?g.H(b,c,d,e):g.call(null,b,c,d,e)}function H(a,b,c,d){a=this;var e=a.D.l?a.D.l(b,c,d):a.D.call(null,b,c,d),f=Pj(this,e);z(f)||Mj(a.name,e);return f.l?f.l(b,c,d):f.call(null,b,c,d)}function P(a,b,c){a=this;var d=a.D.j?a.D.j(b,c):
a.D.call(null,b,c),e=Pj(this,d);z(e)||Mj(a.name,d);return e.j?e.j(b,c):e.call(null,b,c)}function Ca(a,b){a=this;var c=a.D.h?a.D.h(b):a.D.call(null,b),d=Pj(this,c);z(d)||Mj(a.name,c);return d.h?d.h(b):d.call(null,b)}function ua(a){a=this;var b=a.D.F?a.D.F():a.D.call(null),c=Pj(this,b);z(c)||Mj(a.name,b);return c.F?c.F():c.call(null)}var I=null;I=function(I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd,ce,Jf,Bh,Dm){switch(arguments.length){case 1:return ua.call(this,I);case 2:return Ca.call(this,
I,Y);case 3:return P.call(this,I,Y,Q);case 4:return H.call(this,I,Y,Q,ta);case 5:return L.call(this,I,Y,Q,ta,wa);case 6:return y.call(this,I,Y,Q,ta,wa,za);case 7:return x.call(this,I,Y,Q,ta,wa,za,ma);case 8:return w.call(this,I,Y,Q,ta,wa,za,ma,da);case 9:return u.call(this,I,Y,Q,ta,wa,za,ma,da,Za);case 10:return t.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb);case 11:return q.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc);case 12:return p.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb);case 13:return m.call(this,I,
Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb);case 14:return l.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub);case 15:return k.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db);case 16:return g.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc);case 17:return f.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac);case 18:return e.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd);case 19:return d.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd,ce);case 20:return c.call(this,
I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd,ce,Jf);case 21:return b.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd,ce,Jf,Bh);case 22:return a.call(this,I,Y,Q,ta,wa,za,ma,da,Za,eb,Yc,tb,fb,ub,Db,gc,Ac,nd,ce,Jf,Bh,Dm)}throw Error("Invalid arity: "+(arguments.length-1));};I.h=ua;I.j=Ca;I.l=P;I.H=H;I.ga=L;I.Ka=y;I.mb=x;I.Wa=w;I.nb=u;I.ab=t;I.bb=q;I.cb=p;I.eb=m;I.fb=l;I.gb=k;I.hb=g;I.ib=f;I.jb=e;I.kb=d;I.lb=c;I.Ne=b;I.Jg=a;return I}();
h.apply=function(a,b){return this.call.apply(this,[this].concat(sc(b)))};h.F=function(){var a=this.D.F?this.D.F():this.D.call(null),b=Pj(this,a);z(b)||Mj(this.name,a);return b.F?b.F():b.call(null)};h.h=function(a){var b=this.D.h?this.D.h(a):this.D.call(null,a),c=Pj(this,b);z(c)||Mj(this.name,b);return c.h?c.h(a):c.call(null,a)};h.j=function(a,b){var c=this.D.j?this.D.j(a,b):this.D.call(null,a,b),d=Pj(this,c);z(d)||Mj(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};
h.l=function(a,b,c){var d=this.D.l?this.D.l(a,b,c):this.D.call(null,a,b,c),e=Pj(this,d);z(e)||Mj(this.name,d);return e.l?e.l(a,b,c):e.call(null,a,b,c)};h.H=function(a,b,c,d){var e=this.D.H?this.D.H(a,b,c,d):this.D.call(null,a,b,c,d),f=Pj(this,e);z(f)||Mj(this.name,e);return f.H?f.H(a,b,c,d):f.call(null,a,b,c,d)};h.ga=function(a,b,c,d,e){var f=this.D.ga?this.D.ga(a,b,c,d,e):this.D.call(null,a,b,c,d,e),g=Pj(this,f);z(g)||Mj(this.name,f);return g.ga?g.ga(a,b,c,d,e):g.call(null,a,b,c,d,e)};
h.Ka=function(a,b,c,d,e,f){var g=this.D.Ka?this.D.Ka(a,b,c,d,e,f):this.D.call(null,a,b,c,d,e,f),k=Pj(this,g);z(k)||Mj(this.name,g);return k.Ka?k.Ka(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};h.mb=function(a,b,c,d,e,f,g){var k=this.D.mb?this.D.mb(a,b,c,d,e,f,g):this.D.call(null,a,b,c,d,e,f,g),l=Pj(this,k);z(l)||Mj(this.name,k);return l.mb?l.mb(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};
h.Wa=function(a,b,c,d,e,f,g,k){var l=this.D.Wa?this.D.Wa(a,b,c,d,e,f,g,k):this.D.call(null,a,b,c,d,e,f,g,k),m=Pj(this,l);z(m)||Mj(this.name,l);return m.Wa?m.Wa(a,b,c,d,e,f,g,k):m.call(null,a,b,c,d,e,f,g,k)};h.nb=function(a,b,c,d,e,f,g,k,l){var m=this.D.nb?this.D.nb(a,b,c,d,e,f,g,k,l):this.D.call(null,a,b,c,d,e,f,g,k,l),p=Pj(this,m);z(p)||Mj(this.name,m);return p.nb?p.nb(a,b,c,d,e,f,g,k,l):p.call(null,a,b,c,d,e,f,g,k,l)};
h.ab=function(a,b,c,d,e,f,g,k,l,m){var p=this.D.ab?this.D.ab(a,b,c,d,e,f,g,k,l,m):this.D.call(null,a,b,c,d,e,f,g,k,l,m),q=Pj(this,p);z(q)||Mj(this.name,p);return q.ab?q.ab(a,b,c,d,e,f,g,k,l,m):q.call(null,a,b,c,d,e,f,g,k,l,m)};h.bb=function(a,b,c,d,e,f,g,k,l,m,p){var q=this.D.bb?this.D.bb(a,b,c,d,e,f,g,k,l,m,p):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p),t=Pj(this,q);z(t)||Mj(this.name,q);return t.bb?t.bb(a,b,c,d,e,f,g,k,l,m,p):t.call(null,a,b,c,d,e,f,g,k,l,m,p)};
h.cb=function(a,b,c,d,e,f,g,k,l,m,p,q){var t=this.D.cb?this.D.cb(a,b,c,d,e,f,g,k,l,m,p,q):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q),u=Pj(this,t);z(u)||Mj(this.name,t);return u.cb?u.cb(a,b,c,d,e,f,g,k,l,m,p,q):u.call(null,a,b,c,d,e,f,g,k,l,m,p,q)};h.eb=function(a,b,c,d,e,f,g,k,l,m,p,q,t){var u=this.D.eb?this.D.eb(a,b,c,d,e,f,g,k,l,m,p,q,t):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t),w=Pj(this,u);z(w)||Mj(this.name,u);return w.eb?w.eb(a,b,c,d,e,f,g,k,l,m,p,q,t):w.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t)};
h.fb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u){var w=this.D.fb?this.D.fb(a,b,c,d,e,f,g,k,l,m,p,q,t,u):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u),x=Pj(this,w);z(x)||Mj(this.name,w);return x.fb?x.fb(a,b,c,d,e,f,g,k,l,m,p,q,t,u):x.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u)};
h.gb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w){var x=this.D.gb?this.D.gb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w),y=Pj(this,x);z(y)||Mj(this.name,x);return y.gb?y.gb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w):y.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w)};
h.hb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x){var y=this.D.hb?this.D.hb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x),L=Pj(this,y);z(L)||Mj(this.name,y);return L.hb?L.hb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x):L.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x)};
h.ib=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y){var L=this.D.ib?this.D.ib(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y),H=Pj(this,L);z(H)||Mj(this.name,L);return H.ib?H.ib(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y):H.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y)};
h.jb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L){var H=this.D.jb?this.D.jb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L),P=Pj(this,H);z(P)||Mj(this.name,H);return P.jb?P.jb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L):P.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L)};
h.kb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H){var P=this.D.kb?this.D.kb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H),Ca=Pj(this,P);z(Ca)||Mj(this.name,P);return Ca.kb?Ca.kb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H):Ca.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H)};
h.lb=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P){var Ca=this.D.lb?this.D.lb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P):this.D.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P),ua=Pj(this,Ca);z(ua)||Mj(this.name,Ca);return ua.lb?ua.lb(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P):ua.call(null,a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P)};
h.Ne=function(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca){var ua=Ie(this.D,a,b,c,d,R([e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca])),I=Pj(this,ua);z(I)||Mj(this.name,ua);return Ie(I,a,b,c,d,R([e,f,g,k,l,m,p,q,t,u,w,x,y,L,H,P,Ca]))};function Qj(a,b,c){tg.H(a.te,T,b,c);Ij(a.se,a.te,a.ae,a.oe)}function Pj(a,b){K.j(C(a.ae),C(a.oe))||Ij(a.se,a.te,a.ae,a.oe);var c=C(a.se);c=c.h?c.h(b):c.call(null,b);return z(c)?c:Lj(a.name,b,a.oe,a.te,a.dh,a.se,a.ae,a.Qg)}h.yd=function(){return Dd(this.name)};h.zd=function(){return Ed(this.name)};
h.aa=function(){return la(this)};function Rj(a,b){this.Bc=a;this.G=b;this.v=2153775104;this.K=2048}h=Rj.prototype;h.toString=function(){return this.Bc};h.equiv=function(a){return this.I(null,a)};h.I=function(a,b){return b instanceof Rj&&this.Bc===b.Bc};h.T=function(a,b){return pd(b,['#uuid "',B.h(this.Bc),'"'].join(""))};h.aa=function(){null==this.G&&(this.G=Ud(this.Bc));return this.G};
function Sj(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Pf=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Sj.prototype.__proto__=Error.prototype;Sj.prototype.oa=r;
Sj.prototype.T=function(a,b,c){pd(b,"#error {:message ");bj(this.message,b,c);z(this.data)&&(pd(b,", :data "),bj(this.data,b,c));z(this.Pf)&&(pd(b,", :cause "),bj(this.Pf,b,c));return pd(b,"}")};Sj.prototype.toString=function(){return Ld(this)};function Tj(a,b){return new Sj(a,b,null)}if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof Uj)var Uj=null;"undefined"!==typeof console&&lc();
if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof Vj)var Vj=function(){throw Error("cljs.core/*eval* not bound");};var Wj=new U(null,"curr-xhr_","curr-xhr_",-1318773696),Xj=new U("chsk","closed","chsk/closed",-922855264),Yj=new U(null,"args","args",1315556576),Zj=new U(null,"?reply-fn","?reply-fn",-1479510592),ak=new Wd(null,"uuid","uuid",-504564192,null),bk=new U(null,"ws-kalive-ms","ws-kalive-ms",1442179968),ck=new U(null,"ex-kind","ex-kind",1581199296),dk=new U(null,"ever-opened?_","ever-opened?_",1641338913),ek=new U(null,"requested-disconnect","requested-disconnect",1037120641),fk=new U("taoensso.encore",
"dynamic","taoensso.encore/dynamic",-1726758399),gk=new U(null,"flush?","flush?",-108887231),hk=new U(null,"reader-error","reader-error",1610253121),ik=new U(null,"?ratio","?ratio",-1275760831),jk=new U(null,"cb","cb",589947841),kk=new U(null,"min","min",444991522),lk=new U(null,"errors","errors",-908790718),mk=new U(null,"on-set","on-set",-140953470),nk=new U(null,"first-open?","first-open?",396686530),ok=new U(null,"*?data*","*?data*",1047537922),pk=new U(null,"given","given",716253602),qk=new U(null,
"ns-whitelist","ns-whitelist",-1717299774),rk=new U(null,"inherit","inherit",-1840815422),sk=new U(null,"report","report",1394055010),tk=new U(null,"ws","ws",86841443),uk=new U(null,"impl_","impl_",1218818179),vk=new U("mem","all","mem/all",892075139),wk=new U(null,"get","get",1683182755),xk=new U("chsk","recv","chsk/recv",561097091),yk=new U(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),zk=new U(null,"client-uuid","client-uuid",-1717531965),Ak=new U(null,"handshake","handshake",68079331),
pj=new U(null,"ready","ready",1086465795),Bk=new U(null,"ch-recv","ch-recv",-990916861),Ck=new U(null,"fn","fn",-1175266204),Dk=new U(null,"hash","hash",-13781596),Ek=new U(null,"client-id","client-id",-464622140),Fk=new U(null,"namespaced-map","namespaced-map",1235665380),Gk=new U("rl","reset","rl/reset",-800926172),ic=new U(null,"meta","meta",1499536964),Hk=new U(null,"ev","ev",-406827324),Ik=new U(null,"hash_","hash_",-827203612),Jk=new Wd(null,"blockable","blockable",-28395259,null),jc=new U(null,
"dup","dup",556298533),Kk=new U(null,"key","key",-1516042587),Lk=new U("rl","peek","rl/peek",-291391771),Mk=new U(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Nk=new U(null,"ns-blacklist","ns-blacklist",1957763142),Ok=new U(null,"instant","instant",655498374),Pk=new U(null,"?content","?content",1697782054),Qk=new U(null,"noop","noop",-673731258),Rk=new U(null,"reader-exception","reader-exception",-1938323098),Sk=new U(null,"rate-limit","rate-limit",1748082022),Tk=new U(null,"protocol","protocol",
652470118),Uk=new U(null,"unknown","unknown",-935977881),Vk=new U(null,"wrong-id-type","wrong-id-type",-1213601689),Wk=new U(null,"connected-uids","connected-uids",1454332231),Xk=new U(null,"config","config",994861415),Yk=new U(null,"vargs","vargs",-966597273),Vf=new Wd(null,"meta38751","meta38751",-712086841,null),Zk=new U(null,"displayName","displayName",-809144601),$k=new U(null,"validator","validator",-1966190681),al=new U("rl","all","rl/all",892118056),bl=new U(null,"method","method",55703592),
Oj=new U(null,"default","default",-1987822328),cl=new U(null,"simple-auto-threading?","simple-auto-threading?",1950754184),dl=new U(null,"pathname","pathname",-1420497528),el=new U(null,"finally-block","finally-block",832982472),fl=new U(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),gl=new Wd(null,"cb","cb",-2064487928,null),hl=new U(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),il=new U(null,"output_","output_",-36797880),kl=new U(null,"msg_","msg_",-1925147E3),ll=new U(null,"middleware-fn",
"middleware-fn",-61585752),ml=new U(null,"uid","uid",-1447769400),nl=new U(null,"trace-evs?","trace-evs?",1502453512),ol=new U(null,"symbol","symbol",-1038572696),pl=new U(null,"packer","packer",66077544),ql=new U(null,"chs","chs",376886120),rl=new U(null,"warn","warn",-436710552),sl=new U(null,"server","server",1499190120),tl=new U("chsk","ws-ping","chsk/ws-ping",191675304),ul=new U(null,"msecs","msecs",1711980553),wl=new U(null,"name","name",1843675177),xl=new U(null,"elidable?","elidable?",248362249),
yl=new Wd(null,"NaN","NaN",666918153,null),qj=new U(null,"pending","pending",-220036727),zl=new U(null,"trace","trace",-1082747415),Al=new U(null,"udt-last-comms_","udt-last-comms_",-145799639),Bl=new Wd(null,"meta43182","meta43182",-1208130999,null),Cl=new U(null,"dt","dt",-368444759),Dl=new U(null,"value","value",305978217),El=new U(null,"req-id","req-id",-471642231),Fl=new U(null,"last-ws-error","last-ws-error",-820288502),Gl=new U(null,"qualifier","qualifier",125841738),Hl=new U(null,"component-did-mount",
"component-did-mount",-1126910518),Il=new U(null,"file","file",-1269645878),Jl=new U("swap","dissoc","swap/dissoc",-605373782),Kl=new Wd(null,"js","js",-886355190,null),Ll=new U(null,"readers","readers",-2118263030),Ml=new U(null,"secs","secs",1532330091),Nl=new U(null,"mode","mode",654403691),Ol=new U(null,"loaded","loaded",-1246482293),Pl=new U("mem","del","mem/del",574870667),Ql=new U(null,"div#vis","div#vis",730109291),Rl=new U(null,"handshake?","handshake?",-423743093),Sl=new U(null,"months",
"months",-45571637),Tl=new U(null,"err","err",-2089457205),Ul=new U(null,"params","params",710516235),Vl=new U(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Wl=new U(null,"?file","?file",1533429675),Xl=new U(null,"component-did-update","component-did-update",-1468549173),Yl=new U(null,"days","days",-1394072564),ij=new U(null,"val","val",128701612),Zl=new Wd(null,"inst","inst",-2008473268,null),$l=new U(null,"recur","recur",-437573268),am=new U(null,"type","type",1174270348),bm=new U(null,
"catch-block","catch-block",1175212748),cm=new U(null,"mins","mins",467369676),dm=new U("chsk","state","chsk/state",-1991397620),em=new U(null,"unnamespaced-id","unnamespaced-id",1976189772),fm=new U(null,"debug","debug",-1608172596),gm=new U("debug","timeout","debug/timeout",309499949),hm=new U(null,"ns-str","ns-str",-2062616499),im=new U(null,"state","state",-1988618099),jm=new U(null,"hostname","hostname",2105669933),km=new U(null,"ajax","ajax",814345549),ej=new U(null,"fallback-impl","fallback-impl",
-1501286995),wj=new U(null,"keyword-fn","keyword-fn",-64566675),lm=new U(null,"hostname_","hostname_",-2091647379),mm=new Wd(null,"Inf","Inf",647172781,null),nm=new U(null,"qname","qname",-1983612179),om=new U(null,"error-level?","error-level?",778415885),pm=new U(null,"retry-count_","retry-count_",20238093),qm=new U(null,"handlers","handlers",79528781),fc=new U(null,"flush-on-newline","flush-on-newline",-151457939),rm=new U("chsk","bad-event","chsk/bad-event",-565206930),sm=new U(null,"componentWillUnmount",
"componentWillUnmount",1573788814),tm=new U(null,"appender","appender",1267426510),um=new U(null,"appender-id","appender-id",-1917983538),vm=new U(null,"component-will-update","component-will-update",335247566),wm=new U(null,"string","string",-1989541586),xm=new Wd(null,"queue","queue",-1198599890,null),ym=new U(null,"vector","vector",1902966158),zm=new Wd(null,"meta43007","meta43007",-45870610,null),Am=new U(null,"?ns-str","?ns-str",2012733966),Bm=new U(null,"search","search",1564939822),Cm=new U(null,
"illegal-argument","illegal-argument",-1845493170),Em=new U(null,"abort","abort",521193198),Fm=new U(null,"strable","strable",1877668047),Gm=new U(null,"udt","udt",2011712751),Ej=new U(null,"descendants","descendants",1824886031),Hm=new U(null,"renderer","renderer",336841071),Im=new U("chsk","bad-package","chsk/bad-package",501893679),Jm=new U(null,"stub","stub",1339145807),Km=new U(null,"http-error","http-error",-1040049553),Lm=new U(null,"enabled?","enabled?",-1376075057),Mm=new Wd("oz","start-server!",
"oz/start-server!",203433743,null),Nm=new U(null,"column","column",2078222095),Om=new U(null,"headers","headers",-835030129),Pm=new U(null,"internal","internal",-854870097),Qm=new U(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),Rm=new U(null,"error-handler","error-handler",-484945776),Fj=new U(null,"ancestors","ancestors",-776045424),Sm=new U(null,"middleware","middleware",1462115504),Tm=new U(null,"fatal","fatal",1874419888),Um=new Wd(null,"flag","flag",-1565787888,null),Vm=new U(null,
"level","level",1290497552),Wm=new U(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Xm=new U(null,"handshake-data","handshake-data",-278378864),Ym=new U(null,"div","div",1057191632),hc=new U(null,"readably","readably",1129599760),kj=new U("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Wi=new U(null,"more-marker","more-marker",-14717935),Zm=new U("chsk","error","chsk/error",-984175439),$m=new U(null,"progress-fn","progress-fn",-1146547855),zi=new U(null,"reagentRender",
"reagentRender",-358306383),an=new U(null,"reason","reason",-2070751759),bn=new U(null,"host","host",-1558485167),cn=new U(null,"\x3c\x3e","\x3c\x3e",1280186386),dn=new U(null,"total","total",1916810418),en=new U(null,"with-credentials?","with-credentials?",-1773202222),fn=new U(null,"no-cache","no-cache",1588056370),yi=new U(null,"render","render",-1408033454),gn=new U(null,"event","event",301435442),hn=new U(null,"val-type","val-type",-279850094),jn=new U(null,"blacklist","blacklist",1248093170),
kn=new U(null,"reagent-render","reagent-render",-985383853),ln=new U(null,"backoff-ms-fn","backoff-ms-fn",772895955),mn=new U(null,"output-fn","output-fn",1600951539),nn=new U("ajax","resp-as-text","ajax/resp-as-text",141416819),on=new U(null,"line","line",212345235),pn=new U(null,"wrong-type","wrong-type",929556915),qn=new U(null,"priority","priority",1431093715),rn=new U(null,"list","list",765357683),sn=new Wd(null,"val","val",1769233139,null),tn=new U(null,"on-write","on-write",31519475),un=new U(null,
"recv-buf-or-n","recv-buf-or-n",1363950355),vn=new U(null,"?err","?err",549653299),wn=new U(null,"keyword","keyword",811389747),xn=new U("mem","fresh","mem/fresh",-1179989133),yn=new U(null,"*assert*","*assert*",-160895053),zn=new U(null,"data-error","data-error",-1058016301),oj=new U(null,"status","status",-1997798413),An=new U(null,"socket_","socket_",-361048908),kc=new U(null,"print-length","print-length",1931866356),Bn=new U(null,"max","max",61366548),Cn=new U(null,"factor","factor",-2103172748),
Dn=new U(null,"ever-opened?","ever-opened?",1128459732),En=new U(null,"ppstr","ppstr",1557495252),Fn=new U(null,"col","col",-1959363084),Gn=new U(null,"vargs_","vargs_",552132148),Hn=new U(null,"id","id",-1388402092),In=new U(null,"class","class",-2030961996),Jn=new U(null,"catch-exception","catch-exception",-1997306795),Kn=new U(null,"open?","open?",1238443125),Ln=new U(null,"nil","nil",99600501),Mn=new U(null,"auto-run","auto-run",1958400437),Dj=new U(null,"parents","parents",-2027538891),Nn=new U(null,
"expected","expected",1583670997),On=new Wd(null,"/","/",-1371932971,null),Pn=new Wd(null,"meta41250","meta41250",519523285,null),Qn=new U(null,"edn","edn",1317840885),Rn=new U(null,"component-will-unmount","component-will-unmount",-2058314698),Sn=new U(null,"prev","prev",-1597069226),Tn=new U(null,"raw-resp","raw-resp",-1924342506),Un=new U(null,"info","info",-317069002),Vn=new U(null,"chsk-url-fn","chsk-url-fn",1968894294),Wn=new U(null,"url","url",276297046),Xn=new U(null,"code","code",1586293142),
Yn=new U(null,"stacktrace-fonts","stacktrace-fonts",830799382),Zn=new U(null,"continue-block","continue-block",-1852047850),$n=new U(null,"no-stacktrace?","no-stacktrace?",1701072694),ao=new U(null,"lp-timeout","lp-timeout",1149461302),bo=new U(null,"ring-req","ring-req",-747861961),co=new U(null,"view-spec","view-spec",-1642989449),eo=new U(null,"?content-type","?content-type",-2129759049),fo=new U("chsk","timeout","chsk/timeout",-319776489),go=new U(null,"http","http",382524695),ho=new U(null,"wrap-recv-evs?",
"wrap-recv-evs?",-1996694153),io=new U(null,"timestamp_","timestamp_",-954533417),jo=new U(null,"context","context",-830191113),ko=new U("ajax","bad-response-type","ajax/bad-response-type",789441015),lo=new U(null,"display-name","display-name",694513143),mo=new U(null,"hours","hours",58380855),no=new U(null,"?data","?data",-9471433),oo=new U(null,"vega","vega",-1657843081),po=new U(null,"post","post",269697687),qo=new U(null,"?line","?line",-631853385),ro=new U(null,"years","years",-1298579689),so=
new Wd(null,"-Inf","-Inf",-2123243689,null),to=new U(null,"instance-handle_","instance-handle_",-1923384457),uo=new U(null,"chsk","chsk",-863703081),vo=new U(null,"min-level","min-level",1634684919),wo=new U(null,"csrf-token","csrf-token",-1872302856),xo=new U(null,"on-dispose","on-dispose",2105306360),yo=new U(null,"f","f",-1597136552),zo=new U(null,"error","error",-978969032),Ao=new U(null,"unexpected","unexpected",-1137752424),Ai=new U(null,"componentFunction","componentFunction",825866104),Bo=
new U(null,"?status","?status",938730360),Co=new U(null,"exception","exception",-335277064),Do=new U(null,"console","console",1228072057),Eo=new U(null,"send-fn","send-fn",351002041),Fo=new U(null,"tag","tag",-1290361223),Go=new U(null,"wrong-length","wrong-length",1367572281),Ho=new Wd(null,"meta43160","meta43160",1711332634,null),Io=new U(null,"json","json",1279968570),Jo=new U(null,"?err_","?err_",789480858),Ko=new U(null,"set","set",304602554),Lo=new U(null,"timeout","timeout",-318625318),Mo=
new U(null,"resp-type","resp-type",1050675962),No=new U(null,"last-close","last-close",-2054255782),Oo=new U(null,"h1","h1",-1896887462),Po=new U(null,"version","version",425292698),Qo=new U(null,"min-version","min-version",-1697197126),Ro=new U(null,"requested-reconnect","requested-reconnect",2008347707),So=new U(null,"raw-console?","raw-console?",-2061489061),To=new U(null,"your-version","your-version",-351781765),Uo=new U(null,"ajax-opts","ajax-opts",-518239109),Vo=new U(null,"cbs-waiting_","cbs-waiting_",
-1519029061),Wo=new U(null,"eof","eof",-489063237),Xo=new U(null,"?meta","?meta",-793560773),Yo=new U(null,"autobind","autobind",-570650245),Zo=new U(null,"hierarchy","hierarchy",-1053470341),$o=new U(null,"actual","actual",107306363),ap=new U(null,"form-str","form-str",871608859),dj=new U(null,"alt-impl","alt-impl",670969595),bp=new U(null,"whitelist","whitelist",-979294437),cp=new U(null,"ms","ms",-1152709733),dp=new U(null,"xml","xml",-1170142052),ep=new U(null,"location","location",1815599388),
fp=new U(null,"success?","success?",-122854052),gp=new U(null,"length-computable?","length-computable?",1915473276),lp=new U(null,"last-ws-close","last-ws-close",-798104932),mp=new U(null,"auto","auto",-566279492),Aj=new U(null,"keywordize-keys","keywordize-keys",1310784252),np=new U(null,"p","p",151049309),op=new U(null,"xhr","xhr",-177710851),pp=new U(null,"weeks","weeks",1844596125),qp=new U(null,"character","character",380652989),rp=new U(null,"map","map",1371690461),sp=new U(null,"?msg-fmt",
"?msg-fmt",-852453891),tp=new U(null,"componentWillMount","componentWillMount",-285327619),up=new U(null,"async?","async?",1523057758),vp=new U(null,"href","href",-793805698),wp=new U(null,"timeout-ms","timeout-ms",754221406),xp=new U("chsk","handshake","chsk/handshake",64910686),yp=new U(null,"apparent-success","apparent-success",242592222),zp=new U(null,"?error","?error",1070752222),Ap=new U(null,"appenders","appenders",1245583998),Bp=new U(null,"vega-lite","vega-lite",-650304770),Cp=new U(null,
"state_","state_",957667102),Dp=new U(null,"ajax-cb","ajax-cb",-807060321),Ep=new U("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),Fp=new U(null,"\x3cserver","\x3cserver",-2135373537),Bi=new U("cljs.core","not-found","cljs.core/not-found",-1572889185),Gp=new Wd(null,"meta43185","meta43185",-536433121,null),Hp=new U(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Ip=new U(null,"text","text",-1790561697),Jp=new U(null,"clean?","clean?",-1675631009),Kp=new U(null,"namespaced-keyword","namespaced-keyword",
131372895),Lp=new Wd(null,"f","f",43394975,null);var Mp={};var Np={},Op="undefined"!==typeof console;if("undefined"===typeof Mp||"undefined"===typeof Np||"undefined"===typeof Pp)var Pp=rg(null);
if("undefined"===typeof Mp||"undefined"===typeof Np||"undefined"===typeof Qp)var Qp=function(){var a={};a.warn=function(){return function(){function a(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(a){return tg.w(Pp,Jg,new W(null,1,5,X,[rl],null),Ae,R([Pf(B,a)]))}a.J=0;a.M=function(a){a=E(a);return c(a)};a.w=c;return a}()}(a);a.error=function(){return function(){function a(a){var b=
null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(a){return tg.w(Pp,Jg,new W(null,1,5,X,[zo],null),Ae,R([Pf(B,a)]))}a.J=0;a.M=function(a){a=E(a);return c(a)};a.w=c;return a}()}(a);return a}();function Rp(a,b,c){var d=RegExp,e=b.source,f=z(b.ignoreCase)?[B.h("g"),"i"].join(""):"g";f=z(b.multiline)?[B.h(f),"m"].join(""):f;b=z(b.Dh)?[B.h(f),"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function Sp(a){return function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(b){b=zg(b);if(K.j(N(b),1))return b=G(b),a.h?a.h(b):a.call(null,b);b=bh(b);return a.h?a.h(b):a.call(null,b)}b.J=0;b.M=function(a){a=E(a);return c(a)};b.w=c;return b}()}
function Tp(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?Rp(a,b,c):Rp(a,b,Sp(c));throw["Invalid match arg: ",B.h(b)].join("");}function Up(a,b){var c=new Cb;for(b=E(b);;)if(null!=b)c.append(B.h(G(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function Vp(a,b){if(0>=b||b>=2+N(a))return Ae.j(bh(xe("",wg.j(B,E(a)))),"");if(z(nf?fd(1,b):mf.call(null,1,b)))return new W(null,1,5,X,[a],null);if(z(nf?fd(2,b):mf.call(null,2,b)))return new W(null,2,5,X,["",a],null);b-=2;return Ae.j(bh(xe("",gh(bh(wg.j(B,E(a))),0,b))),a.substring(b))}function Wp(a,b){return Xp(a,b,0)}
function Xp(a,b,c){if("/(?:)/"===B.h(b))b=Vp(a,c);else if(1>c)b=bh(B.h(a).split(b));else a:for(var d=c,e=Be;;){if(1===d){b=Ae.j(e,a);break a}var f=Si(b,a);if(null!=f){var g=a.indexOf(f);f=a.substring(g+N(f));--d;e=Ae.j(e,a.substring(0,g));a=f}else{b=Ae.j(e,a);break a}}if(0===c&&1<N(b))a:for(c=b;;)if(""===(null==c?null:Uc(c)))c=null==c?null:Vc(c);else break a;else c=b;return c};var Yp={},Zp=new Di(null,new v(null,2,["aria",null,"data",null],null),null);function $p(a){return 2>N(a)?a.toUpperCase():[B.h(a.substring(0,1).toUpperCase()),B.h(a.substring(1))].join("")}function aq(a){if("string"===typeof a)return a;a=vf(a);var b=Wp(a,/-/),c=E(b);b=G(c);c=J(c);return z(Zp.h?Zp.h(b):Zp.call(null,b))?a:Qf(B,b,wg.j($p,c))}
function bq(a){var b=function(){var b=function(){var b=Ge(a);return b?(b=a.displayName,z(b)?b:a.name):b}();if(z(b))return b;b=function(){var b=null!=a?a.K&4096||r===a.Re?!0:!1:!1;return b?vf(a):b}();if(z(b))return b;b=Ke(a);return Qe(b)?wl.h(b):null}();return Tp(B.h(b),"$",".")}var cq=!1;var dq={};if("undefined"===typeof Mp||"undefined"===typeof Yp||"undefined"===typeof dq||"undefined"===typeof eq)var eq=0;function fq(a){return setTimeout(a,16)}var gq="undefined"===typeof window||null==window.document?fq:function(){var a=window,b=a.requestAnimationFrame;if(z(b))return b;b=a.webkitRequestAnimationFrame;if(z(b))return b;b=a.mozRequestAnimationFrame;if(z(b))return b;a=a.msRequestAnimationFrame;return z(a)?a:fq}();function hq(a,b){return a.cljsMountOrder-b.cljsMountOrder}
if("undefined"===typeof Mp||"undefined"===typeof Yp||"undefined"===typeof dq||"undefined"===typeof iq)var iq=function(){return null};function jq(){this.xe=!1}function kq(a,b){var c=a[b];if(null==c)return null;a[b]=null;a=c.length;for(b=0;;)if(b<a){var d=c[b];d.F?d.F():d.call(null);b+=1}else return null}
function lq(a){if(a.xe)return null;a.xe=!0;a=function(a){return function(){a.xe=!1;kq(a,"beforeFlush");iq();var b=a.componentQueue;if(null!=b){a.componentQueue=null;b.sort(hq);for(var d=b.length,e=0;;)if(e<d){var f=b[e];!0===f.cljsIsDirty&&f.forceUpdate();e+=1}else break}return kq(a,"afterRender")}}(a);return gq.h?gq.h(a):gq.call(null,a)}
jq.prototype.enqueue=function(a,b){if(!z(b))throw Error(["Assert failed: ",B.h("Enqueued function must not be nil"),"\nf"].join(""));null==this[a]&&(this[a]=[]);this[a].push(b);return lq(this)};if("undefined"===typeof Mp||"undefined"===typeof Yp||"undefined"===typeof dq||"undefined"===typeof mq){var mq;mq=new jq}function nq(a){if(z(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return mq.enqueue("componentQueue",a)};var oq=function oq(a){switch(arguments.length){case 1:return oq.h(arguments[0]);case 2:return oq.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return oq.w(arguments[0],arguments[1],new F(c.slice(2),0,null))}};oq.h=function(a){return a};oq.j=function(a,b){return N(a)<N(b)?uc.l(function(a,d){return Ze(b,d)?Le.j(a,d):a},a,a):uc.l(Le,a,b)};oq.w=function(a,b,c){return uc.l(oq,a,Ae.j(c,b))};
oq.M=function(a){var b=G(a),c=J(a);a=G(c);c=J(c);return this.w(b,a,c)};oq.J=2;var pq={},qq;if("undefined"===typeof Mp||"undefined"===typeof pq||"undefined"===typeof rq)var rq=!1;if("undefined"===typeof Mp||"undefined"===typeof pq||"undefined"===typeof sq)var sq=0;if("undefined"===typeof Mp||"undefined"===typeof pq||"undefined"===typeof tq)var tq=rg(0);function uq(a,b){var c=qq;qq=a;try{return b.F?b.F():b.call(null)}finally{qq=c}}
function vq(a,b){b.captured=null;b.Ch=sq+=1;a=uq(b,a);var c=b.captured;b.Gc=!1;a:{var d=b.bd;var e=null==c?0:c.length,f=e===(null==d?0:d.length);if(f)for(f=0;;){var g=f===e;if(g){d=g;break a}if(c[f]===d[f])f+=1;else{d=!1;break a}}else d=f}if(!d)a:{d=Hi(c);e=Hi(b.bd);b.bd=c;c=E(oq.j(d,e));f=null;for(var k=g=0;;)if(k<g){var l=f.P(null,k);td(l,b,wq);k+=1}else if(c=E(c))f=c,Te(f)?(c=Bd(f),k=Cd(f),f=c,g=N(c),c=k):(c=G(f),td(c,b,wq),c=J(f),f=null,g=0),k=0;else break;d=E(oq.j(e,d));e=null;for(g=f=0;;)if(g<
f)c=e.P(null,g),ud(c,b),g+=1;else if(d=E(d))e=d,Te(e)?(d=Bd(e),f=Cd(e),e=d,c=N(d),d=f,f=c):(c=G(e),ud(c,b),d=J(e),e=null,f=0),g=0;else break a}return a}function xq(a){var b=qq;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function yq(a,b){rq&&tg.l(tq,gf,N(b)-N(a));return b}function zq(a,b,c){var d=a.qb;a.qb=yq(d,T.l(d,b,c));return a.Ff=null}function Aq(a,b){var c=a.qb;a.qb=yq(c,Fe.j(c,b));return a.Ff=null}
function Bq(a,b,c){var d=a.Ff;d=null==d?a.Ff=bf(function(){return function(a,b,c){a.push(b);a.push(c);return a}}(d),[],a.qb):d;for(var e=d.length,f=0;;)if(f<e){var g=d[f],k=d[f+1];k.H?k.H(g,a,b,c):k.call(null,g,a,b,c);f=2+f}else return null}function Cq(a,b,c,d){pd(b,["#\x3c",B.h(d)," "].join(""));a:{d=qq;qq=null;try{var e=C(a);break a}finally{qq=d}e=void 0}bj(e,b,c);return pd(b,"\x3e")}if("undefined"===typeof Mp||"undefined"===typeof pq||"undefined"===typeof Dq)var Dq=null;
function Eq(){for(;;){var a=Dq;if(null==a)return null;Dq=null;for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.Gc&&null!=d.bd&&Fq(d,!0);c+=1}else break}}iq=Eq;function Gq(a,b,c,d){this.state=a;this.meta=b;this.ad=c;this.qb=d;this.v=2154201088;this.K=114690}h=Gq.prototype;h.T=function(a,b,c){return Cq(this,b,c,"Atom:")};h.ca=function(){return this.meta};h.aa=function(){return la(this)};h.I=function(a,b){return this===b};
h.Wb=function(a,b){if(null!=this.ad&&!z(this.ad.h?this.ad.h(b):this.ad.call(null,b)))throw Error("Assert failed: Validator rejected reference state\n(validator new-value)");a=this.state;this.state=b;null!=this.qb&&Bq(this,a,b);return b};h.Te=function(a,b){return this.Wb(null,b.h?b.h(this.state):b.call(null,this.state))};h.Ue=function(a,b,c){return this.Wb(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};
h.Ve=function(a,b,c,d){return this.Wb(null,b.l?b.l(this.state,c,d):b.call(null,this.state,c,d))};h.We=function(a,b,c,d,e){return this.Wb(null,Rf(b,this.state,c,d,e))};h.fe=function(a,b,c){return Bq(this,b,c)};h.ee=function(a,b,c){return zq(this,b,c)};h.ge=function(a,b){return Aq(this,b)};h.ea=function(a,b){return new Gq(this.state,b,this.ad,this.qb)};h.Ab=function(){xq(this);return this.state};
var Hq=function Hq(a){switch(arguments.length){case 1:return Hq.h(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Hq.w(arguments[0],new F(c.slice(1),0,null))}};Hq.h=function(a){return new Gq(a,null,null,null)};Hq.w=function(a,b){var c=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b;b=D.j(c,ic);c=D.j(c,$k);return new Gq(a,b,c,null)};Hq.M=function(a){var b=G(a);a=J(a);return this.w(b,a)};Hq.J=1;
var Iq=function Iq(a){if(null!=a&&null!=a.xf)return a.xf(a);var c=Iq[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Iq._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IDisposable.dispose!",a);};function wq(a,b,c,d){c===d||a.Gc?a=null:null==a.gc?(a.Gc=!0,null==Dq&&(Dq=[],!1===mq.xe&&lq(mq)),a=Dq.push(a)):a=!0===a.gc?Fq(a,!1):a.gc.h?a.gc.h(a):a.gc.call(null,a);return a}
function Jq(a){this.ob=a;this.state=null;this.Gc=!0;this.hg=!1;this.Je=this.gc=this.qb=this.bd=null;this.v=2153807872;this.K=114690}function Kq(a){var b=qq;qq=null;try{return a.Ab(null)}finally{qq=b}}function Fq(a,b){var c=a.state;if(z(b)){b=a.ob;try{a.Je=null;var d=vq(b,a)}catch(e){d=e,a.state=d,a.Je=d,d=a.Gc=!1}}else d=vq(a.ob,a);a.hg||(a.state=d,null==a.qb||K.j(c,d)||Bq(a,c,d));return d}
function Lq(a,b){var c=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b;b=D.j(c,Mn);var d=D.j(c,mk),e=D.j(c,xo);c=D.j(c,fn);null!=b&&(a.gc=b);null!=d&&(a.mg=d);null!=e&&(a.lg=e);null!=c&&(a.hg=c)}h=Jq.prototype;h.T=function(a,b,c){return Cq(this,b,c,["Reaction ",B.h(Ud(this)),":"].join(""))};h.aa=function(){return la(this)};h.I=function(a,b){return this===b};
h.xf=function(){var a=this.state,b=this.bd;this.gc=this.state=this.bd=null;this.Gc=!0;b=E(Hi(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);ud(f,this);e+=1}else if(b=E(b))c=b,Te(c)?(b=Bd(c),e=Cd(c),c=b,d=N(b),b=e):(b=G(c),ud(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.lg&&this.lg(a);a=this.Bh;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.h?d.h(this):d.call(null,this),c+=1;else return null};
h.Wb=function(a,b){if(!Ge(this.mg))throw Error("Assert failed: Reaction is read only; on-set is not allowed\n(fn? (.-on-set a))");a=this.state;this.state=b;this.mg(a,b);Bq(this,a,b);return b};h.Te=function(a,b){var c=this;return c.Wb(null,function(){var a=Kq(c);return b.h?b.h(a):b.call(null,a)}())};h.Ue=function(a,b,c){var d=this;return d.Wb(null,function(){var a=Kq(d);return b.j?b.j(a,c):b.call(null,a,c)}())};
h.Ve=function(a,b,c,d){var e=this;return e.Wb(null,function(){var a=Kq(e);return b.l?b.l(a,c,d):b.call(null,a,c,d)}())};h.We=function(a,b,c,d,e){return this.Wb(null,Rf(b,Kq(this),c,d,e))};h.fe=function(a,b,c){return Bq(this,b,c)};h.ee=function(a,b,c){return zq(this,b,c)};h.ge=function(a,b){a=Me(this.qb);Aq(this,b);return!a&&Me(this.qb)&&null==this.gc?this.xf(null):null};
h.Ab=function(){var a=this.Je;if(null!=a)throw a;(a=null==qq)&&Eq();a&&null==this.gc?this.Gc&&(a=this.state,this.state=this.ob.F?this.ob.F():this.ob.call(null),null==this.qb||K.j(a,this.state)||Bq(this,a,this.state)):(xq(this),this.Gc&&Fq(this,!1));return this.state};
function Mq(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];b=1<b.length?new F(b.slice(1),0,null):null;var e=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b;b=D.j(e,Mn);d=D.j(e,mk);e=D.j(e,xo);c=new Jq(c);Lq(c,new v(null,3,[Mn,b,mk,d,xo,e],null));return c}var Nq=Mq(null);function Oq(a,b){var c=Pq,d=Nq,e=vq(a,d);null!=d.bd&&(Nq=Mq(null),Lq(d,c),d.ob=a,d.gc=function(){return function(){return nq.h?nq.h(b):nq.call(null,b)}}(d,e),b.cljsRatom=d);return e}
function Qq(a){var b={};a=uq(b,a);return new W(null,2,5,X,[a,null!=b.captured],null)};var Rq={},Sq,Tq=ba.createReactClass;function Uq(a,b){var c=b.argv;if(null==c){c=X;a=a.constructor;a:for(var d=Va(b),e=d.length,f=Z,g=0;;)if(g<e){var k=d[g];f=T.l(f,uf.h(k),b[k]);g+=1}else break a;b=new W(null,2,5,c,[a,f],null)}else b=c;return b}function Vq(a){var b;if(b=Ge(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.reagentRender);return b}function Wq(a){var b;if(b=Ge(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
if("undefined"===typeof Mp||"undefined"===typeof Yp||"undefined"===typeof Rq||"undefined"===typeof Xq)var Xq=null;
function Yq(a){for(;;){var b=a.reagentRender;if(Ye(b))var c=null;else throw Error(["Assert failed: ",B.h(["Expected something callable, not ",B.h(gj(R([b])))].join("")),"\n(clojure.core/ifn? f)"].join(""));var d=!0===a.cljsLegacyRender?b.call(a,a):function(){var c=Uq(a,a.props);switch(N(c)){case 1:return b.call(a);case 2:return b.call(a,te(c,1));case 3:return b.call(a,te(c,1),te(c,2));case 4:return b.call(a,te(c,1),te(c,2),te(c,3));case 5:return b.call(a,te(c,1),te(c,2),te(c,3),te(c,4));default:return b.apply(a,
tc(c).slice(1))}}();if(Se(d))return Xq.h?Xq.h(d):Xq.call(null,d);if(Ye(d))c=Vq(d)?function(a,b,c,d){return function(){function a(a){var c=null;if(0<arguments.length){c=0;for(var d=Array(arguments.length-0);c<d.length;)d[c]=arguments[c+0],++c;c=new F(d,0,null)}return b.call(this,c)}function b(a){a=Qf(dh,d,a);return Xq.h?Xq.h(a):Xq.call(null,a)}a.J=0;a.M=function(a){a=E(a);return b(a)};a.w=b;return a}()}(a,b,c,d):d,a.reagentRender=c;else return d}}
var Pq=new v(null,1,[fn,!0],null),$q=new v(null,1,[yi,function(){var a=this.cljsRatom;this.cljsIsDirty=!1;return null==a?Oq(function(a,c){return function(){a:{var a=Sq;Sq=c;try{var b=[!1];try{var f=Yq(c);b[0]=!0;var g=f;break a}finally{z(b[0])||z(Op)&&(z(!1)?Qp:console).error(B.h(["Error rendering component",B.h(Zq.F?Zq.F():Zq.call(null))].join("")))}}finally{Sq=a}g=void 0}return g}}(a,this),this):Fq(a,!1)}],null);
function ar(a,b){var c=a instanceof U?a.Ma:null;switch(c){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getInitialState":return function(){return function(){var a=this.cljsState;a=null!=a?a:this.cljsState=Hq.h(null);return sg(a,b.call(this,this))}}(a,c);case "componentWillReceiveProps":return function(){return function(a){return b.call(this,this,Uq(this,a))}}(a,c);case "shouldComponentUpdate":return function(){return function(a){var c=cq;if(c)return c;c=this.props.argv;
var d=a.argv,g=null==c||null==d;if(null==b){if(g)return g;try{return Sf(c,d)}catch(k){return a=k,z(Op)&&(z(!1)?Qp:console).warn(["Warning: Exception thrown while comparing argv's in shouldComponentUpdate: ",B.h(c)," ",B.h(d)," ",B.h(a)].join("")),!1}}else return g?b.call(this,this,Uq(this,this.props),Uq(this,a)):b.call(this,this,c,d)}}(a,c);case "componentWillUpdate":return function(){return function(a){return b.call(this,this,Uq(this,a))}}(a,c);case "componentDidUpdate":return function(){return function(a){return b.call(this,
this,Uq(this,a))}}(a,c);case "componentWillMount":return function(){return function(){this.cljsMountOrder=eq+=1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidMount":return function(){return function(){return b.call(this,this)}}(a,c);case "componentWillUnmount":return function(){return function(){var a=this.cljsRatom;null!=a&&Iq(a);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)}}(a,c);case "componentDidCatch":return function(){return function(a,c){return b.call(this,this,
a,c)}}(a,c);default:return null}}function br(a,b){a=ar(a,b);if(z(z(a)?b:a)&&!Ye(b))throw Error(["Assert failed: ",B.h(["Expected something callable, not ",B.h(gj(R([b])))].join("")),"\n(clojure.core/ifn? f)"].join(""));return z(a)?a:b}var cr=new v(null,3,[Qm,null,tp,null,sm,null],null),dr=function(a){return function(b){return function(c){var d=D.j(C(b),c);if(null!=d)return d;d=a.h?a.h(c):a.call(null,c);tg.H(b,T,c,d);return d}}(rg(Z))}(aq);
function er(a){return bf(function(a,c,d){return T.l(a,uf.h(dr.h?dr.h(c):dr.call(null,c)),d)},Z,a)}
function fr(a){var b=xi(a),c=G(yh(b));if(!(0<N(b)))throw Error("Assert failed: Missing reagent-render\n(pos? (count renders))");if(1!==N(b))throw Error("Assert failed: Too many render functions supplied\n(\x3d\x3d 1 (count renders))");if(!Ye(c))throw Error(["Assert failed: ",B.h(["Expected something callable, not ",B.h(gj(R([c])))].join("")),"\n(clojure.core/ifn? render-fun)"].join(""));var d=function(){var b=zi.h(a);return z(b)?b:Ai.h(a)}();b=null==d;var e=z(d)?d:yi.h(a),f=B.h(function(){var b=Zk.h(a);
return z(b)?b:bq(e)}());a:switch(f){case "":c=B.h(mj());break a;default:c=f}d=bf(function(){return function(a,b,c){return T.l(a,b,br(b,c))}}(d,b,e,f,c),Z,a);return T.w(d,Zk,c,R([Yo,!1,yk,b,zi,e,yi,yi.h($q)]))}function gr(a){return bf(function(a,c,d){a[vf(c)]=d;return a},{},a)}function hr(a){if(!Qe(a))throw Error("Assert failed: (map? body)");a=gr(fr(wi.w(R([cr,er(a)]))));return Tq.h?Tq.h(a):Tq.call(null,a)}
var ir=function ir(a){var c=function(){var c=null==a?null:a.type;return null==c?null:c.displayName}(),d=null==a?null:a["return"],e=function(){var a=null==d?null:ir.h?ir.h(d):ir.call(null,d);return null==a?null:[B.h(a)," \x3e "].join("")}();c=[B.h(e),B.h(c)].join("");return Me(c)?null:c},jr=function jr(a){var c=function(){var c=null==a?null:a._reactInternalFiber;return z(c)?c:null==a?null:a.kh}();if(z(c))return ir(c);var d=function(){var c=null==a?null:a._reactInternalInstance;if(z(c))return c;c=null==
a?null:a.lh;return z(c)?c:a}(),e=function(){var a=null==d?null:d._currentElement;return z(a)?a:null==d?null:d.ih}();c=function(){var a=null==e?null:e.type;return null==a?null:a.displayName}();var f=function(){var a=null==e?null:e._owner;return z(a)?a:null==e?null:e.jh}(),g=function(){var a=null==f?null:jr.h?jr.h(f):jr.call(null,f);return null==a?null:[B.h(a)," \x3e "].join("")}();c=[B.h(g),B.h(c)].join("");return Me(c)?null:c};
function Zq(){var a=Sq;var b=jr(a);z(b)?a=b:(a=null==a?null:a.constructor,a=null==a?null:bq(a));return Me(a)?"":[" (in ",B.h(a),")"].join("")}
function kr(a){if(!Ye(a))throw Error(["Assert failed: ",B.h(["Expected something callable, not ",B.h(gj(R([a])))].join("")),"\n(clojure.core/ifn? f)"].join(""));Wq(a)&&!Vq(a)&&z(Op)&&(z(!1)?Qp:console).warn(["Warning: Using native React classes directly in Hiccup forms is not supported. Use create-element or adapt-react-class instead: ",B.h(function(){var b=bq(a);return Me(b)?a:b}()),B.h(Zq())].join(""));if(Vq(a))return a.cljsReactClass=a;var b=Ke(a);b=T.l(b,kn,a);b=hr(b);return a.cljsReactClass=
b};function lr(a,b,c){if(of(c))return c=Pf(rf,wg.j(a,c)),b.h?b.h(c):b.call(null,c);if(ch(c))return c=bh(wg.j(a,c)),b.h?b.h(c):b.call(null,c);if(We(c))return c=Qi(wg.j(a,c)),b.h?b.h(c):b.call(null,c);if(Re(c))return c=uc.l(function(b,c){return Ae.j(b,a.h?a.h(c):a.call(null,c))},c,c),b.h?b.h(c):b.call(null,c);Ne(c)&&(c=Dg.j(null==c?null:Bc(c),wg.j(a,c)));return b.h?b.h(c):b.call(null,c)}var mr=function mr(a,b){return lr(og.j(mr,a),cf,a.h?a.h(b):a.call(null,b))};var nr={},or=ba.React,pr=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;function qr(a){return a instanceof U||a instanceof Wd}var rr={"class":"className","for":"htmlFor",charset:"charSet"};function sr(a,b){return a.hasOwnProperty(b)?a[b]:null}function tr(a,b,c){if(qr(b)){var d=sr(rr,vf(b));b=null==d?rr[vf(b)]=aq(b):d}a[b]=ur.h?ur.h(c):ur.call(null,c);return a}
function ur(a){return"object"!==n(a)?a:qr(a)?vf(a):Qe(a)?bf(tr,{},a):Ne(a)?vj(a):Ye(a)?function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(b){return Pf(a,b)}b.J=0;b.M=function(a){a=E(a);return c(a)};b.w=c;return b}():vj(a)}var vr={};function wr(a,b,c){if(qr(b)){var d=sr(vr,vf(b));b=null==d?vr[vf(b)]=aq(b):d}a[b]=ur(c);return a}
function xr(a){return"object"!==n(a)?a:qr(a)?vf(a):Qe(a)?bf(wr,{},a):Ne(a)?vj(a):Ye(a)?function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(b){return Pf(a,b)}b.J=0;b.M=function(a){a=E(a);return c(a)};b.w=c;return b}():vj(a)}function yr(a,b){a=null==a?{}:a;a.key=b;return a}
function zr(a,b){var c=b.id,d=b["class"];b=null!=c&&null==Hn.h(a)?T.l(a,Hn,c):a;return z(d)?T.l(b,In,function(){var b=In.h(a);return null==b?d:[B.h(d)," ",B.h(qr(b)?vf(b):b)].join("")}()):b}function Ar(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,In);return Ne(c)?T.l(b,In,Up(" ",pg(function(){return function(a){return z(a)?qr(a)?vf(a):a:null}}(a,b,b,c),c))):b}if("undefined"===typeof Mp||"undefined"===typeof Yp||"undefined"===typeof nr||"undefined"===typeof Br)var Br=null;
var Cr=new Di(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Dr(a,b,c,d){var e=Z,f=null!=e&&(e.v&64||r===e.ha)?Pf(ri,e):e,g=D.j(f,tn);if(a===document.activeElement&&Ze(Cr,a.type)&&"string"===typeof b&&"string"===typeof c){var k=a.value;if(Sf(k,c))return mq.enqueue("afterRender",function(){return function(){return Er.h?Er.h(d):Er.call(null,d)}}(k,e,f,g));c=N(k)-a.selectionStart;c=N(b)-c;d.cljsDOMValue=b;a.value=b;Ge(g)&&(g.h?g.h(b):g.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.cljsDOMValue=b;a.value=b;return Ge(g)?g.h?g.h(b):g.call(null,
b):null}function Er(a){if(z(a.cljsInputLive)){a.cljsInputDirty=!1;var b=a.cljsRenderedValue,c=a.cljsDOMValue,d=Br.h?Br.h(a):Br.call(null,a);return Sf(b,c)?Dr(d,b,c,a):null}return null}function Fr(a,b,c){a.cljsDOMValue=c.target.value;z(a.cljsInputDirty)||(a.cljsInputDirty=!0,mq.enqueue("afterRender",function(){return Er(a)}));return b.h?b.h(c):b.call(null,c)}
function Gr(a){var b=Sq;if(z(function(){var b=null!=a;return b?(b=a.hasOwnProperty("onChange"),z(b)?a.hasOwnProperty("value"):b):b}())){if(!z(Br))throw Error("Assert failed: reagent.dom needs to be loaded for controlled input to work\nfind-dom-node");var c=a.value,d=null==c?"":c,e=a.onChange;z(b.cljsInputLive)||(b.cljsInputLive=!0,b.cljsDOMValue=d);b.cljsRenderedValue=d;delete a.value;a.defaultValue=d;a.onChange=function(a,c,d,e){return function(a){return Fr(b,e,a)}}(a,c,d,e)}}
var Hr=null,Jr=new v(null,4,[lo,"ReagentInput",Xl,Er,Rn,function(a){return a.cljsInputLive=null},kn,function(a,b,c,d){Gr(c);return Ir.H?Ir.H(a,b,c,d):Ir.call(null,a,b,c,d)}],null);function Kr(a){if(Qe(a))try{var b=D.j(a,Kk)}catch(c){b=null}else b=null;return b}function Lr(a){var b=Kr(Ke(a));return null==b?Kr(S(a,1)):b}var Mr={};
function Nr(a,b,c){var d=a.name,e=S(b,c),f=null==e||Qe(e);e=zr(Ar(f?e:null),a);a=z(a.custom)?xr(e):ur(e);c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=X,null==Hr&&(Hr=hr(Jr)),b=Je(new W(null,5,5,f,[Hr,b,d,a,c],null),Ke(b)),Or.h?Or.h(b):Or.call(null,b);f=Kr(Ke(b));a=null==f?a:yr(a,f);return Ir.H?Ir.H(b,d,a,c):Ir.call(null,b,d,a,c)}
function Pr(a){return B.h(mr(function(a){if(Ge(a)){var b=bq(a);switch(b){case "":return a;default:return Xd.h(b)}}else return a},a))}function Qr(a,b){return[B.h(Pf(B,b)),": ",B.h(Pr(a)),"\n",B.h(Zq())].join("")}
function Rr(a){for(;;){if(!(0<N(a)))throw Error(["Assert failed: ",B.h(Qr(a,R(["Hiccup form should not be empty"]))),"\n(pos? (count v))"].join(""));var b=S(a,0);if(!qr(b)&&"string"!==typeof b&&!Ye(b))throw Error(["Assert failed: ",B.h(Qr(a,R(["Invalid Hiccup form"]))),"\n(valid-tag? tag)"].join(""));if(V(cn,b)){b=S(a,1);var c=null==b||Qe(b);b=ur(c?b:null);c=1+(c?1:0);var d=Lr(a);null!=d&&yr(b,d);return Ir.H?Ir.H(a,or.Fragment,b,c):Ir.call(null,a,or.Fragment,b,c)}if(qr(b)||"string"===typeof b)switch(b=
vf(b),c=b.indexOf("\x3e"),c){case -1:c=b;b=sr(Mr,c);if(null==b){b=c;var e=J(Ri(pr,vf(c)));d=S(e,0);var f=S(e,1);e=S(e,2);e=null==e?null:Tp(e,/\./," ");if(!z(d))throw Error(["Assert failed: ",B.h(["Invalid tag: '",B.h(c),"'",B.h(Zq())].join("")),"\ntag"].join(""));c={name:d,id:f,"class":e,custom:Sf(-1,d.indexOf("-"))};b=Mr[b]=c}return Nr(b,a,1);case 0:c=S(a,1);if(!K.j("\x3e",b))throw Error(["Assert failed: ",B.h(Qr(a,R(["Invalid Hiccup tag"]))),'\n(\x3d "\x3e" n)'].join(""));return Nr({name:c},a,2);
default:a=Je(new W(null,2,5,X,[b.substring(0,c),T.l(Je(a,null),0,b.substring(c+1))],null),Ke(a))}else return c=b.cljsReactClass,b=null==c?kr(b):c,c={argv:a},a=Lr(a),null!=a&&(c.key=a),or.createElement.j?or.createElement.j(b,c):or.createElement.call(null,b,c)}}function Or(a){return"object"!==n(a)?a:Se(a)?Rr(a):We(a)?Sr.h?Sr.h(a):Sr.call(null,a):qr(a)?vf(a):(null!=a?a.v&2147483648||r===a.oa||(a.v?0:oc(qd,a)):oc(qd,a))?gj(R([a])):a}Xq=Or;
function Sr(a){var b={},c=Qq(function(b){return function(){for(var c=tc(a),d=c.length,e=0;;)if(e<d){var l=c[e];Se(l)&&null==Lr(l)&&(b["no-key"]=!0);c[e]=Or(l);e+=1}else break;return c}}(b)),d=S(c,0);c=S(c,1);z(c)&&z(Op)&&(z(!1)?Qp:console).warn(["Warning: ",B.h(Qr(a,R(["Reactive deref not supported in lazy seq, ","it should be wrapped in doall"])))].join(""));z(b["no-key"])&&z(Op)&&(z(!1)?Qp:console).warn(["Warning: ",B.h(Qr(a,R(["Every element in a seq should have a unique :key"])))].join(""));return d}
function Ir(a,b,c,d){var e=N(a)-d;switch(e){case 0:return or.createElement.j?or.createElement.j(b,c):or.createElement.call(null,b,c);case 1:return a=Or(S(a,d)),or.createElement.l?or.createElement.l(b,c,a):or.createElement.call(null,b,c,a);default:return or.createElement.apply(null,bf(function(){return function(a,b,c){b>=d&&a.push(Or(c));return a}}(e),[b,c],a))}};var Tr={},Ur=ba.ReactDOM;if("undefined"===typeof Mp||"undefined"===typeof Tr||"undefined"===typeof Vr)var Vr=null;if("undefined"===typeof Mp||"undefined"===typeof Tr||"undefined"===typeof Wr)var Wr=rg(Z);function Xr(a,b){var c=cq;cq=!0;try{var d=a.F?a.F():a.call(null),e=function(){return function(){var c=cq;cq=!1;try{return tg.H(Wr,T,b,new W(null,2,5,X,[a,b],null)),kq(mq,"afterRender"),null}finally{cq=c}}}(d,b,c,!0);return Ur.render.l?Ur.render.l(d,b,e):Ur.render.call(null,d,b,e)}finally{cq=c}}
function Yr(a,b){return Xr(a,b)}function Zr(a){return Ur.findDOMNode.h?Ur.findDOMNode.h(a):Ur.findDOMNode.call(null,a)}Br=Zr;function $r(){Eq();Eq();for(var a=E(yh(C(Wr))),b=null,c=0,d=0;;)if(d<c){var e=b.P(null,d);Pf(Yr,e);d+=1}else if(a=E(a))b=a,Te(b)?(a=Bd(b),d=Cd(b),b=a,c=N(a),a=d):(a=G(b),Pf(Yr,a),a=J(b),b=null,c=0),d=0;else break;return kq(mq,"afterRender")}var as=["reagent","core","force_update_all"],bs=ba;as[0]in bs||!bs.execScript||bs.execScript("var "+as[0]);for(var cs;as.length&&(cs=as.shift());)as.length||void 0===$r?bs=bs[cs]&&bs[cs]!==Object.prototype[cs]?bs[cs]:bs[cs]={}:bs[cs]=$r;var ds={},es,fs,gs,hs={},is=function is(a,b){if(null!=a&&null!=a.$e)return a.$e(a,b);var d=is[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=is._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("ReadPort.take!",a);},js=function js(a,b,c){if(null!=a&&null!=a.he)return a.he(a,b,c);var e=js[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=js._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("WritePort.put!",a);},ks=function ks(a){if(null!=
a&&null!=a.Bd)return a.Bd(a);var c=ks[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=ks._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("Channel.close!",a);},ls=function ls(a){if(null!=a&&null!=a.Hb)return a.Hb(a);var c=ls[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=ls._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("Handler.active?",a);},ms=function ms(a){if(null!=a&&null!=a.Bb)return a.Bb(a);var c=ms[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):
c.call(null,a);c=ms._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("Handler.commit",a);},ns=function ns(a,b){if(null!=a&&null!=a.Ye)return a.Ye(a,b);var d=ns[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=ns._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("Buffer.add!*",a);},os=function os(a){switch(arguments.length){case 1:return os.h(arguments[0]);case 2:return os.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));
}};os.h=function(a){return a};os.j=function(a,b){if(null==b)throw Error("Assert failed: (not (nil? itm))");return ns(a,b)};os.J=2;var ps={};function qs(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function rs(a){this.length=this.ra=this.head=0;this.o=a}rs.prototype.pop=function(){if(0===this.length)return null;var a=this.o[this.ra];this.o[this.ra]=null;this.ra=(this.ra+1)%this.o.length;--this.length;return a};rs.prototype.unshift=function(a){this.o[this.head]=a;this.head=(this.head+1)%this.o.length;this.length+=1;return null};function ss(a,b){a.length+1===a.o.length&&a.resize();a.unshift(b)}
rs.prototype.resize=function(){var a=Array(2*this.o.length);return this.ra<this.head?(qs(this.o,this.ra,a,0,this.length),this.ra=0,this.head=this.length,this.o=a):this.ra>this.head?(qs(this.o,this.ra,a,0,this.o.length-this.ra),qs(this.o,0,a,this.o.length-this.ra,this.head),this.ra=0,this.head=this.length,this.o=a):this.ra===this.head?(this.head=this.ra=0,this.o=a):null};function ts(a,b){for(var c=a.length,d=0;;)if(d<c){var e=a.pop();(b.h?b.h(e):b.call(null,e))&&a.unshift(e);d+=1}else break}
function us(a){if(!(0<a))throw Error("Assert failed: Can't create a ring buffer of size 0\n(\x3e n 0)");return new rs(Array(a))}function vs(a,b){this.X=a;this.n=b;this.v=2;this.K=0}vs.prototype.Ze=function(){return this.X.length===this.n};vs.prototype.Ye=function(a,b){ss(this.X,b);return this};vs.prototype.ka=function(){return this.X.length};function ws(a,b){this.X=a;this.n=b;this.v=2;this.K=0}ws.prototype.Ze=function(){return!1};
ws.prototype.Ye=function(a,b){this.X.length===this.n&&this.X.pop();this.X.unshift(b);return this};ws.prototype.ka=function(){return this.X.length};function xs(a){return new ws(us(a),a)}if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof hs||"undefined"===typeof ps||"undefined"===typeof ys)var ys={};var zs;a:{var As=ba.navigator;if(As){var Bs=As.userAgent;if(Bs){zs=Bs;break a}}zs=""}function Cs(a){return-1!=zs.indexOf(a)};var Ds;
function Es(){var a=ba.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Cs("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;a=ra(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Cs("Trident")&&!Cs("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.wd;c.wd=null;a()}};return function(a){d.next={wd:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){ba.setTimeout(a,0)}};var Fs=us(32),Gs=!1,Hs=!1;function Is(){Gs=!0;Hs=!1;for(var a=0;;){var b=Fs.pop();if(null!=b&&(b.F?b.F():b.call(null),1024>a)){a+=1;continue}break}Gs=!1;return 0<Fs.length?Js.F?Js.F():Js.call(null):null}function Js(){if(Hs&&Gs)return null;Hs=!0;!ja(ba.setImmediate)||ba.Window&&ba.Window.prototype&&!Cs("Edge")&&ba.Window.prototype.setImmediate==ba.setImmediate?(Ds||(Ds=Es()),Ds(Is)):ba.setImmediate(Is)}function Ks(a){ss(Fs,a);Js()}function Ls(a,b){setTimeout(a,b)};var Ms={},Ns;
function Os(a){if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof hs||"undefined"===typeof Ms||"undefined"===typeof Ns)Ns=function(a,c){this.A=a;this.Vg=c;this.v=425984;this.K=0},Ns.prototype.ea=function(a,c){return new Ns(this.A,c)},Ns.prototype.ca=function(){return this.Vg},Ns.prototype.Ab=function(){return this.A},Ns.Kd=function(){return new W(null,2,5,X,[sn,Pn],null)},Ns.Pc=!0,Ns.sc="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels41249",Ns.hd=
function(a,c){return pd(c,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels41249")};return new Ns(a,Z)}function Ps(a,b){this.Ib=a;this.A=b}function Qs(a){return ls(a.Ib)}function Rs(a,b,c,d){this.$c=a;this.le=0;this.lc=b;this.ke=0;this.X=c;this.closed=!1;this.Qb=d}
function Ss(a){for(;;){var b=a.lc.pop();if(null!=b){var c=b.Ib,d=b.A;if(c.Hb(null)){var e=c.Bb(null);Ks(function(a){return function(){return a.h?a.h(!0):a.call(null,!0)}}(e,c,d,b,a))}else continue}break}ts(a.lc,mg(!1));a.Bd(null)}
Rs.prototype.he=function(a,b,c){var d=this,e=this;if(null==b)throw Error("Assert failed: Can't put nil on a channel\n(not (nil? val))");var f=d.closed;if(f||!c.Hb(null))return Os(!f);if(z(function(){var a=d.X;return z(a)?nc(d.X.Ze()):a}())){c.Bb(null);var g=ke(d.Qb.j?d.Qb.j(d.X,b):d.Qb.call(null,d.X,b));c=function(){for(var a=Be;;)if(0<d.$c.length&&0<N(d.X)){var b=d.$c.pop();if(b.Hb(null)){var c=b.Bb(null),k=d.X.X.pop();a=Ae.j(a,function(a,b,c){return function(){return b.h?b.h(c):b.call(null,c)}}(a,
c,k,b,g,f,e))}}else return a}();g&&Ss(e);if(E(c)){c=E(c);a=null;for(var k=0,l=0;;)if(l<k){var m=a.P(null,l);Ks(m);l+=1}else if(c=E(c))a=c,Te(a)?(c=Bd(a),l=Cd(a),a=c,k=N(c),c=l):(c=G(a),Ks(c),c=J(a),a=null,k=0),l=0;else break}return Os(!0)}a=function(){for(;;){var a=d.$c.pop();if(z(a)){if(z(a.Hb(null)))return a}else return null}}();if(z(a))return k=ms(a),c.Bb(null),Ks(function(a){return function(){return a.h?a.h(b):a.call(null,b)}}(k,a,f,e)),Os(!0);64<d.ke?(d.ke=0,ts(d.lc,Qs)):d.ke+=1;if(z(c.Cd(null))){if(!(1024>
d.lc.length))throw Error(["Assert failed: ",B.h(["No more than ",B.h(1024)," pending puts are allowed on a single channel. Consider using a windowed buffer."].join("")),"\n(\x3c (.-length puts) impl/MAX-QUEUE-SIZE)"].join(""));ss(d.lc,new Ps(c,b))}return null};
Rs.prototype.$e=function(a,b){var c=this;if(b.Hb(null)){if(null!=c.X&&0<N(c.X)){a=b.Bb(null);if(z(a)){var d=c.X.X.pop(),e=0<c.lc.length?function(){for(var a=Be;;){var b=c.lc.pop(),d=b.Ib;b=b.A;var e=d.Hb(null);d=e?d.Bb(null):e;a=z(d)?Ae.j(a,d):a;b=z(d)?ke(c.Qb.j?c.Qb.j(c.X,b):c.Qb.call(null,c.X,b)):null;if(!(nc(b)&&nc(c.X.Ze())&&0<c.lc.length))return new W(null,2,5,X,[b,a],null)}}():null,f=S(e,0),g=S(e,1);z(f)&&Ss(this);for(var k=E(g),l=null,m=0,p=0;;)if(p<m){var q=l.P(null,p);Ks(function(a,b,c,d,
e){return function(){return e.h?e.h(!0):e.call(null,!0)}}(k,l,m,p,q,d,e,f,g,a,a,this));p+=1}else{var t=E(k);if(t){q=t;if(Te(q))k=Bd(q),p=Cd(q),l=k,m=N(k),k=p;else{var u=G(q);Ks(function(a,b,c,d,e){return function(){return e.h?e.h(!0):e.call(null,!0)}}(k,l,m,p,u,q,t,d,e,f,g,a,a,this));k=J(q);l=null;m=0}p=0}else break}return Os(d)}return null}a=function(){for(;;){var a=c.lc.pop();if(z(a)){if(ls(a.Ib))return a}else return null}}();if(z(a))return d=ms(a.Ib),b.Bb(null),Ks(function(a){return function(){return a.h?
a.h(!0):a.call(null,!0)}}(d,a,this)),Os(a.A);if(z(c.closed))return z(c.X)&&(c.Qb.h?c.Qb.h(c.X):c.Qb.call(null,c.X)),z(function(){var a=b.Hb(null);return z(a)?b.Bb(null):a}())?(a=function(){var a=c.X;return z(a)?0<N(c.X):a}(),d=z(a)?c.X.X.pop():null,Os(d)):null;64<c.le?(c.le=0,ts(c.$c,ls)):c.le+=1;if(z(b.Cd(null))){if(!(1024>c.$c.length))throw Error(["Assert failed: ",B.h(["No more than ",B.h(1024)," pending takes are allowed on a single channel."].join("")),"\n(\x3c (.-length takes) impl/MAX-QUEUE-SIZE)"].join(""));
ss(c.$c,b)}}return null};Rs.prototype.Bd=function(){var a=this;if(!a.closed)for(a.closed=!0,z(function(){var b=a.X;return z(b)?0===a.lc.length:b}())&&(a.Qb.h?a.Qb.h(a.X):a.Qb.call(null,a.X));;){var b=a.$c.pop();if(null!=b){if(b.Hb(null)){var c=b.Bb(null),d=z(function(){var b=a.X;return z(b)?0<N(a.X):b}())?a.X.X.pop():null;Ks(function(a,b){return function(){return a.h?a.h(b):a.call(null,b)}}(c,d,b,this))}}else break}return null};function Ts(a){console.log(a);return null}
function Us(a,b){var c=z(null)?null:Ts;b=c.h?c.h(b):c.call(null,b);return null==b?a:os.j(a,b)}
function Vs(a,b){return new Rs(us(32),us(32),a,function(){return function(a){return function(){function b(b,c){try{return a.j?a.j(b,c):a.call(null,b,c)}catch(l){return Us(b,l)}}function c(b){try{return a.h?a.h(b):a.call(null,b)}catch(k){return Us(b,k)}}var f=null;f=function(a,d){switch(arguments.length){case 1:return c.call(this,a);case 2:return b.call(this,a,d)}throw Error("Invalid arity: "+arguments.length);};f.h=c;f.j=b;return f}()}(z(b)?b.h?b.h(os):b.call(null,os):os)}())};var Ws={},Xs;
function Ys(a){if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof hs||"undefined"===typeof Ws||"undefined"===typeof Xs)Xs=function(a,c){this.ob=a;this.Wg=c;this.v=393216;this.K=0},Xs.prototype.ea=function(a,c){return new Xs(this.ob,c)},Xs.prototype.ca=function(){return this.Wg},Xs.prototype.Hb=function(){return!0},Xs.prototype.Cd=function(){return!0},Xs.prototype.Bb=function(){return this.ob},Xs.Kd=function(){return new W(null,2,5,X,[Lp,zm],null)},Xs.Pc=
!0,Xs.sc="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers43006",Xs.hd=function(a,c){return pd(c,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers43006")};return new Xs(a,Z)}function Zs(a){try{var b=a[0];return b.h?b.h(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Bd(null),b;throw c;}}function $s(a,b,c){c=c.$e(null,Ys(function(c){a[2]=c;a[1]=b;return Zs(a)}));return z(c)?(a[2]=C(c),a[1]=b,$l):null}
function at(a,b,c){b=b.he(null,c,Ys(function(b){a[2]=b;a[1]=11;return Zs(a)}));return z(b)?(a[2]=C(b),a[1]=11,$l):null}function bt(a,b){a=a[6];null!=b&&a.he(null,b,Ys(function(){return function(){return null}}(a)));a.Bd(null);return a}
function ct(a){for(;;){var b=a[4],c=bm.h(b),d=Jn.h(b),e=a[5];if(z(function(){var a=e;return z(a)?nc(b):a}()))throw e;if(z(function(){var a=e;return z(a)?(a=c,z(a)?K.j(Oj,d)||e instanceof d:a):a}())){a[1]=c;a[2]=e;a[5]=null;a[4]=T.w(b,bm,null,R([Jn,null]));break}if(z(function(){var a=e;return z(a)?nc(c)&&nc(el.h(b)):a}()))a[4]=Sn.h(b);else{if(z(function(){var a=e;return z(a)?(a=nc(c))?el.h(b):a:a}())){a[1]=el.h(b);a[4]=T.l(b,el,null);break}if(z(function(){var a=nc(e);return a?el.h(b):a}())){a[1]=el.h(b);
a[4]=T.l(b,el,null);break}if(nc(e)&&nc(el.h(b))){a[1]=Zn.h(b);a[4]=Sn.h(b);break}throw Error("No matching clause");}}};function dt(a,b,c){this.key=a;this.A=b;this.forward=c;this.v=2155872256;this.K=0}dt.prototype.ba=function(){return new Ce(null,this.key,new Ce(null,this.A,null,1,null),2,null)};dt.prototype.T=function(a,b,c){return Vi(b,bj,"["," ","]",c,this)};function et(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new dt(a,b,c)}
function ft(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(z(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function gt(){this.header=et(null,null,0);this.level=0;this.v=2155872256;this.K=0}
gt.prototype.put=function(a,b){var c=Array(15),d=ft(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.A=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}for(a=et(a,b,Array(d));;)return 0<=this.level?(c=c[0].forward,a.forward[0]=c[0],c[0]=a):null};
gt.prototype.remove=function(a){var b=Array(15),c=ft(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
function ht(a){for(var b=it,c=b.header,d=b.level;;){if(0>d)return c===b.header?null:c;var e;a:for(e=c;;){e=d<e.forward.length?e.forward[d]:null;if(null==e){e=null;break a}if(e.key>=a)break a}null!=e?(--d,c=e):--d}}gt.prototype.ba=function(){return function(a){return function d(c){return new wf(null,function(){return function(){return null==c?null:xe(new W(null,2,5,X,[c.key,c.A],null),d(c.forward[0]))}}(a),null,null)}}(this)(this.header.forward[0])};
gt.prototype.T=function(a,b,c){return Vi(b,function(){return function(a){return Vi(b,bj,""," ","",c,a)}}(this),"{",", ","}",c,this)};var it=new gt;function jt(a){var b=(new Date).valueOf()+a,c=ht(b),d=z(z(c)?c.key<b+10:c)?c.A:null;if(z(d))return d;var e=Vs(null,null);it.put(b,e);Ls(function(a,b,c){return function(){it.remove(c);return ks(a)}}(e,d,b,c),a);return e};function kt(a,b){return lt(a,b)}function lt(a,b){a=K.j(a,0)?null:a;if(z(b)&&!z(a))throw Error("Assert failed: buffer must be supplied when transducer is\nbuf-or-n");a="number"===typeof a?new vs(us(a),a):a;return Vs(a,b)}
var mt=function(a){if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof es)es=function(a,c,d){this.ob=a;this.Nf=c;this.Xg=d;this.v=393216;this.K=0},es.prototype.ea=function(a,c){return new es(this.ob,this.Nf,c)},es.prototype.ca=function(){return this.Xg},es.prototype.Hb=function(){return!0},es.prototype.Cd=function(){return this.Nf},es.prototype.Bb=function(){return this.ob},es.Kd=function(){return new W(null,3,5,X,[Lp,Jk,Ho],null)},es.Pc=!0,es.sc="cljs.core.async/t_cljs$core$async43159",
es.hd=function(a,c){return pd(c,"cljs.core.async/t_cljs$core$async43159")};return new es(a,!0,Z)}(function(){return null});function nt(a,b){a=js(a,b,mt);return z(a)?C(a):!0}function ot(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=0,c+=1;else break;for(c=1;;){if(K.j(c,a))return b;var d=Math.floor(Math.random()*c);b[c]=b[d];b[d]=c;c+=1}}
function pt(){var a=rg(!0);if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof fs)fs=function(a,c){this.Tc=a;this.Yg=c;this.v=393216;this.K=0},fs.prototype.ea=function(){return function(a,c){return new fs(this.Tc,c)}}(a),fs.prototype.ca=function(){return function(){return this.Yg}}(a),fs.prototype.Hb=function(){return function(){return C(this.Tc)}}(a),fs.prototype.Cd=function(){return function(){return!0}}(a),fs.prototype.Bb=function(){return function(){sg(this.Tc,
null);return!0}}(a),fs.Kd=function(){return function(){return new W(null,2,5,X,[Um,Bl],null)}}(a),fs.Pc=!0,fs.sc="cljs.core.async/t_cljs$core$async43181",fs.hd=function(){return function(a,c){return pd(c,"cljs.core.async/t_cljs$core$async43181")}}(a);return new fs(a,Z)}
function qt(a,b){if("undefined"===typeof Xb||"undefined"===typeof Yb||"undefined"===typeof ds||"undefined"===typeof gs)gs=function(a,b,e){this.Tc=a;this.wd=b;this.Zg=e;this.v=393216;this.K=0},gs.prototype.ea=function(a,b){return new gs(this.Tc,this.wd,b)},gs.prototype.ca=function(){return this.Zg},gs.prototype.Hb=function(){return ls(this.Tc)},gs.prototype.Cd=function(){return!0},gs.prototype.Bb=function(){ms(this.Tc);return this.wd},gs.Kd=function(){return new W(null,3,5,X,[Um,gl,Gp],null)},gs.Pc=
!0,gs.sc="cljs.core.async/t_cljs$core$async43184",gs.hd=function(a,b){return pd(b,"cljs.core.async/t_cljs$core$async43184")};return new gs(a,b,Z)}
function rt(a,b,c){var d=pt(),e=N(b),f=ot(e),g=qn.h(c),k=function(){for(var c=0;;)if(c<e){var k=z(g)?c:f[c],p=te(b,k),q=Se(p)?p.h?p.h(0):p.call(null,0):null,t=z(q)?function(){var b=p.h?p.h(1):p.call(null,1);return js(q,b,qt(d,function(b,c,d,e,f){return function(b){b=new W(null,2,5,X,[b,f],null);return a.h?a.h(b):a.call(null,b)}}(c,b,k,p,q,d,e,f,g)))}():is(p,qt(d,function(b,c,d){return function(b){b=new W(null,2,5,X,[b,d],null);return a.h?a.h(b):a.call(null,b)}}(c,k,p,q,d,e,f,g)));if(z(t))return Os(new W(null,
2,5,X,[C(t),function(){var a=q;return z(a)?a:p}()],null));c+=1}else return null}();return z(k)?k:Ze(c,Oj)?(k=function(){var a=d.Hb(null);return z(a)?d.Bb(null):a}(),z(k)?Os(new W(null,2,5,X,[Oj.h(c),Oj],null)):null):null}
function st(a,b){var c=lt(1,null);Ks(function(c){return function(){var d=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!V(c,$l)){var d=c;break a}}}catch(u){if(u instanceof Object)b[5]=u,ct(b),d=$l;else throw u;}if(!V(d,$l))return d}}function c(){var a=[null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+
arguments.length);};d.F=c;d.h=b;return d}()}(function(){return function(c){var d=c[1];return 7===d?(c[2]=c[2],c[1]=3,$l):1===d?(c[2]=null,c[1]=2,$l):4===d?(d=c[2],c[7]=d,c[1]=z(null==d)?5:6,$l):13===d?(c[2]=null,c[1]=14,$l):6===d?(d=c[7],at(c,b,d)):3===d?bt(c,c[2]):12===d?(c[2]=null,c[1]=2,$l):2===d?$s(c,4,a):11===d?(c[1]=z(c[2])?12:13,$l):9===d?(c[2]=null,c[1]=10,$l):5===d?(c[1]=z(!0)?8:9,$l):14===d||10===d?(c[2]=c[2],c[1]=7,$l):8===d?(d=ks(b),c[2]=d,c[1]=10,$l):null}}(c),c)}(),f=function(){var a=
d.F?d.F():d.call(null);a[6]=c;return a}();return Zs(f)}}(c))}function tt(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return ut(arguments[0],arguments[1],arguments[2],3<b.length?new F(b.slice(3),0,null):null)}function ut(a,b,c,d){var e=null!=d&&(d.v&64||r===d.ha)?Pf(ri,d):d;a[1]=b;b=rt(function(){return function(b){a[2]=b;return Zs(a)}}(d,e,e),c,e);return z(b)?(a[2]=C(b),$l):null}
function vt(a,b){b=lt(b,null);var c=lt(1,null);Ks(function(b,c){return function(){var d=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!V(c,$l)){var d=c;break a}}}catch(w){if(w instanceof Object)b[5]=w,ct(b),d=$l;else throw w;}if(!V(d,$l))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,
a)}throw Error("Invalid arity: "+arguments.length);};d.F=c;d.h=b;return d}()}(function(b,c){return function(d){var e=d[1];if(7===e){var f=d[7],g=d[8],k=d[2],l=S(k,0),m=S(k,1);d[9]=m;d[7]=k;d[8]=l;d[1]=z(null==l)?8:9;return $l}if(1===e){var y=bh(a);d[10]=y;d[2]=null;d[1]=2;return $l}return 4===e?(y=d[10],tt(d,7,y)):6===e?(d[2]=d[2],d[1]=3,$l):3===e?bt(d,d[2]):2===e?(y=d[10],k=0<N(y),d[1]=z(k)?4:5,$l):11===e?(y=d[10],k=d[2],d[10]=y,d[11]=k,d[2]=null,d[1]=2,$l):9===e?(g=d[8],at(d,c,g)):5===e?(k=ks(c),
d[2]=k,d[1]=6,$l):10===e?(d[2]=d[2],d[1]=6,$l):8===e?(y=d[10],m=d[9],f=d[7],g=d[8],k=Fg(function(){return function(a,b,c,d){return function(a){return Sf(d,a)}}(y,f,g,m,y,m,f,g,e,b,c)}(),y),d[10]=k,d[2]=null,d[1]=2,$l):null}}(b,c),b,c)}(),e=function(){var a=d.F?d.F():d.call(null);a[6]=b;return a}();return Zs(e)}}(c,b));return b};function wt(){0!=xt&&(yt[la(this)]=this);this.jd=this.jd;this.ue=this.ue}var xt=0,yt={};wt.prototype.jd=!1;wt.prototype.Zf=function(){if(!this.jd&&(this.jd=!0,this.vc(),0!=xt)){var a=la(this);delete yt[a]}};wt.prototype.vc=function(){if(this.ue)for(;this.ue.length;)this.ue.shift()()};function zt(){return Cs("iPhone")&&!Cs("iPod")&&!Cs("iPad")};var At=Cs("Opera"),Bt=Cs("Trident")||Cs("MSIE"),Ct=Cs("Edge"),Dt=Cs("Gecko")&&!(-1!=zs.toLowerCase().indexOf("webkit")&&!Cs("Edge"))&&!(Cs("Trident")||Cs("MSIE"))&&!Cs("Edge"),Et=-1!=zs.toLowerCase().indexOf("webkit")&&!Cs("Edge");Et&&Cs("Mobile");Cs("Macintosh");Cs("Windows");Cs("Linux")||Cs("CrOS");var Ft=ba.navigator||null;Ft&&(Ft.appVersion||"").indexOf("X11");Cs("Android");zt();Cs("iPad");Cs("iPod");zt()||Cs("iPad")||Cs("iPod");function Gt(){var a=ba.document;return a?a.documentMode:void 0}var Ht;
a:{var It="",Jt=function(){var a=zs;if(Dt)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ct)return/Edge\/([\d\.]+)/.exec(a);if(Bt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Et)return/WebKit\/(\S+)/.exec(a);if(At)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Jt&&(It=Jt?Jt[1]:"");if(Bt){var Kt=Gt();if(null!=Kt&&Kt>parseFloat(It)){Ht=String(Kt);break a}}Ht=It}var Lt={};
function Mt(a){return Fb(Lt,a,function(){for(var b=0,c=Aa(String(Ht)).split("."),d=Aa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=Ea(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||Ea(0==g[2].length,0==k[2].length)||Ea(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})}var Nt;var Ot=ba.document;
Nt=Ot&&Bt?Gt()||("CSS1Compat"==Ot.compatMode?parseInt(Ht,10):5):void 0;var Pt;(Pt=!Bt)||(Pt=9<=Number(Nt));var Qt=Pt,Rt=Bt&&!Mt("9");!Et||Mt("528");Dt&&Mt("1.9b")||Bt&&Mt("8")||At&&Mt("9.5")||Et&&Mt("528");Dt&&!Mt("8")||Bt&&Mt("9");var St=function(){if(!ba.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});ba.addEventListener("test",fa,b);ba.removeEventListener("test",fa,b);return a}();function Tt(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Zc=!1;this.sg=!0}Tt.prototype.stopPropagation=function(){this.Zc=!0};Tt.prototype.preventDefault=function(){this.defaultPrevented=!0;this.sg=!1};function Ut(a,b){Tt.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Hd=this.state=null;a&&this.init(a,b)}va(Ut,Tt);
Ut.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Dt){a:{try{Eb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=Et||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Et||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Hd=a;a.defaultPrevented&&
this.preventDefault()};Ut.prototype.stopPropagation=function(){Ut.zc.stopPropagation.call(this);this.Hd.stopPropagation?this.Hd.stopPropagation():this.Hd.cancelBubble=!0};Ut.prototype.preventDefault=function(){Ut.zc.preventDefault.call(this);var a=this.Hd;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Rt)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Vt="closure_listenable_"+(1E6*Math.random()|0),Wt=0;function Xt(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Ib=e;this.key=++Wt;this.od=this.be=!1}function Yt(a){a.od=!0;a.listener=null;a.proxy=null;a.src=null;a.Ib=null};function Zt(a){this.src=a;this.Eb={};this.Xd=0}Zt.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.Eb[f];a||(a=this.Eb[f]=[],this.Xd++);var g=$t(a,b,d,e);-1<g?(b=a[g],c||(b.be=!1)):(b=new Xt(b,this.src,f,!!d,e),b.be=c,a.push(b));return b};Zt.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Eb))return!1;var e=this.Eb[a];b=$t(e,b,c,d);return-1<b?(Yt(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Eb[a],this.Xd--),!0):!1};
function au(a,b){var c=b.type;c in a.Eb&&Ra(a.Eb[c],b)&&(Yt(b),0==a.Eb[c].length&&(delete a.Eb[c],a.Xd--))}Zt.prototype.qg=function(a){a=a&&a.toString();var b=0,c;for(c in this.Eb)if(!a||c==a){for(var d=this.Eb[c],e=0;e<d.length;e++)++b,Yt(d[e]);delete this.Eb[c];this.Xd--}};Zt.prototype.ff=function(a,b,c,d){a=this.Eb[a.toString()];var e=-1;a&&(e=$t(a,b,c,d));return-1<e?a[e]:null};
function $t(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.od&&f.listener==b&&f.capture==!!c&&f.Ib==d)return e}return-1};var bu="closure_lm_"+(1E6*Math.random()|0),cu={},du=0;function eu(a,b,c,d,e){if(d&&d.once)return fu(a,b,c,d,e);if(ha(b)){for(var f=0;f<b.length;f++)eu(a,b[f],c,d,e);return null}c=gu(c);return a&&a[Vt]?a.xc.add(String(b),c,!1,ka(d)?!!d.capture:!!d,e):hu(a,b,c,!1,d,e)}
function hu(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ka(e)?!!e.capture:!!e,k=iu(a);k||(a[bu]=k=new Zt(a));c=k.add(b,c,d,g,f);if(c.proxy)return c;d=ju();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)St||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(ku(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");du++;return c}
function ju(){var a=lu,b=Qt?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function fu(a,b,c,d,e){if(ha(b)){for(var f=0;f<b.length;f++)fu(a,b[f],c,d,e);return null}c=gu(c);return a&&a[Vt]?a.xc.add(String(b),c,!0,ka(d)?!!d.capture:!!d,e):hu(a,b,c,!0,d,e)}
function mu(a,b,c,d,e){if(ha(b))for(var f=0;f<b.length;f++)mu(a,b[f],c,d,e);else d=ka(d)?!!d.capture:!!d,c=gu(c),a&&a[Vt]?a.xc.remove(String(b),c,d,e):a&&(a=iu(a))&&(b=a.ff(b,c,d,e))&&nu(b)}function nu(a){if("number"!=typeof a&&a&&!a.od){var b=a.src;if(b&&b[Vt])au(b.xc,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(ku(c),d);du--;(c=iu(b))?(au(c,a),0==c.Xd&&(c.src=null,b[bu]=null)):Yt(a)}}}
function ku(a){return a in cu?cu[a]:cu[a]="on"+a}function ou(a,b,c,d){var e=!0;if(a=iu(a))if(b=a.Eb[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.od&&(f=pu(f,d),e=e&&!1!==f)}return e}function pu(a,b){var c=a.listener,d=a.Ib||a.src;a.be&&nu(a);return c.call(d,b)}
function lu(a,b){if(a.od)return!0;if(!Qt){if(!b)a:{b=["window","event"];for(var c=ba,d;d=b.shift();)if(null!=c[d])c=c[d];else{b=null;break a}b=c}d=b;b=new Ut(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Zc&&0<=e;e--){b.currentTarget=d[e];var f=ou(d[e],a,!0,b);c=c&&f}for(e=0;!b.Zc&&e<d.length;e++)b.currentTarget=
d[e],f=ou(d[e],a,!1,b),c=c&&f}return c}return pu(a,new Ut(b,this))}function iu(a){a=a[bu];return a instanceof Zt?a:null}var qu="__closure_events_fn_"+(1E9*Math.random()>>>0);function gu(a){if(ja(a))return a;a[qu]||(a[qu]=function(b){return a.handleEvent(b)});return a[qu]};function ru(){wt.call(this);this.xc=new Zt(this);this.Ag=this;this.vf=null}va(ru,wt);ru.prototype[Vt]=!0;h=ru.prototype;h.addEventListener=function(a,b,c,d){eu(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){mu(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.vf;if(c)for(b=[];c;c=c.vf)b.push(c);c=this.Ag;var d=a.type||a;if(ea(a))a=new Tt(a,c);else if(a instanceof Tt)a.target=a.target||c;else{var e=a;a=new Tt(d,c);Ya(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Zc&&0<=f;f--){var g=a.currentTarget=b[f];e=su(g,d,!0,a)&&e}a.Zc||(g=a.currentTarget=c,e=su(g,d,!0,a)&&e,a.Zc||(e=su(g,d,!1,a)&&e));if(b)for(f=0;!a.Zc&&f<b.length;f++)g=a.currentTarget=b[f],e=su(g,d,!1,a)&&e;return e};
h.vc=function(){ru.zc.vc.call(this);this.xc&&this.xc.qg(void 0);this.vf=null};function su(a,b,c,d){b=a.xc.Eb[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.od&&g.capture==c){var k=g.listener,l=g.Ib||g.src;g.be&&au(a.xc,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.sg}h.ff=function(a,b,c,d){return this.xc.ff(String(a),b,c,d)};function tu(a,b,c){if(ja(a))c&&(a=ra(a,c));else if(a&&"function"==typeof a.handleEvent)a=ra(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ba.setTimeout(a,b||0)};function uu(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function vu(a){a=String(a);if(uu(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function wu(a,b,c){this.reset(a,b,c,void 0,void 0)}wu.prototype.$f=null;var xu=0;wu.prototype.reset=function(a,b,c,d,e){"number"==typeof e||xu++;d||sa();this.Rd=a;this.$g=b;delete this.$f};wu.prototype.vg=function(a){this.Rd=a};function yu(a){this.gg=a;this.bg=this.Ke=this.Rd=this.ve=null}function zu(a,b){this.name=a;this.value=b}zu.prototype.toString=function(){return this.name};var Au=new zu("SEVERE",1E3),Bu=new zu("INFO",800),Cu=new zu("CONFIG",700),Du=new zu("FINE",500);h=yu.prototype;h.getName=function(){return this.gg};h.getParent=function(){return this.ve};h.vg=function(a){this.Rd=a};function Eu(a){if(a.Rd)return a.Rd;if(a.ve)return Eu(a.ve);Ia("Root logger has no level set.");return null}
h.log=function(a,b,c){if(a.value>=Eu(this).value)for(ja(b)&&(b=b()),a=new wu(a,String(b),this.gg),c&&(a.$f=c),c="log:"+a.$g,(b=ba.console)&&b.timeStamp&&b.timeStamp(c),(b=ba.msWriteProfilerMark)&&b(c),c=this;c;){var d=c,e=a;if(d.bg)for(var f=0;b=d.bg[f];f++)b(e);c=c.getParent()}};h.info=function(a,b){this.log(Bu,a,b)};var Fu={},Gu=null;
function Hu(a){Gu||(Gu=new yu(""),Fu[""]=Gu,Gu.vg(Cu));var b;if(!(b=Fu[a])){b=new yu(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Hu(a.substr(0,c));c.Ke||(c.Ke={});c.Ke[d]=b;b.ve=c;Fu[a]=b}return b};function Iu(a,b){a&&a.log(Du,b,void 0)};function Ju(){}Ju.prototype.Of=null;function Ku(a){var b;(b=a.Of)||(b={},Lu(a)&&(b[0]=!0,b[1]=!0),b=a.Of=b);return b};var Mu;function Nu(){}va(Nu,Ju);function Ou(a){return(a=Lu(a))?new ActiveXObject(a):new XMLHttpRequest}function Lu(a){if(!a.cg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.cg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.cg}Mu=new Nu;function Pu(a){ru.call(this);this.headers=new gb;this.Ge=a||null;this.Cc=!1;this.Fe=this.Z=null;this.eg=this.qe="";this.ld=0;this.Qd="";this.Vc=this.jf=this.pe=this.ef=!1;this.rd=0;this.ze=null;this.rg=Qu;this.Ce=this.ng=this.sd=!1}va(Pu,ru);var Qu="",Ru=Pu.prototype,Su=Hu("goog.net.XhrIo");Ru.Mb=Su;var Tu=/^https?$/i,Uu=["POST","PUT"];h=Pu.prototype;
h.send=function(a,b,c,d){if(this.Z)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.qe+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.qe=a;this.Qd="";this.ld=0;this.eg=b;this.ef=!1;this.Cc=!0;this.Z=this.Ge?Ou(this.Ge):Ou(Mu);this.Fe=this.Ge?Ku(this.Ge):Ku(Mu);this.Z.onreadystatechange=ra(this.kg,this);this.ng&&"onprogress"in this.Z&&(this.Z.onprogress=ra(function(a){this.jg(a,!0)},this),this.Z.upload&&(this.Z.upload.onprogress=ra(this.jg,this)));try{Iu(this.Mb,Vu(this,
"Opening Xhr")),this.jf=!0,this.Z.open(b,String(a),!0),this.jf=!1}catch(f){Iu(this.Mb,Vu(this,"Error opening Xhr: "+f.message));Wu(this,f);return}a=c||"";var e=this.headers.clone();d&&cb(d,function(a,b){e.set(b,a)});d=Oa(e.Cb());c=ba.FormData&&a instanceof ba.FormData;!(0<=Ja(Uu,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(a,b){this.Z.setRequestHeader(b,a)},this);this.rg&&(this.Z.responseType=this.rg);"withCredentials"in this.Z&&this.Z.withCredentials!==
this.sd&&(this.Z.withCredentials=this.sd);try{Xu(this),0<this.rd&&(this.Ce=Yu(this.Z),Iu(this.Mb,Vu(this,"Will abort after "+this.rd+"ms if incomplete, xhr2 "+this.Ce)),this.Ce?(this.Z.timeout=this.rd,this.Z.ontimeout=ra(this.xg,this)):this.ze=tu(this.xg,this.rd,this)),Iu(this.Mb,Vu(this,"Sending request")),this.pe=!0,this.Z.send(a),this.pe=!1}catch(f){Iu(this.Mb,Vu(this,"Send error: "+f.message)),Wu(this,f)}};function Yu(a){return Bt&&Mt(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout}
function Pa(a){return"content-type"==a.toLowerCase()}h.xg=function(){"undefined"!=typeof aa&&this.Z&&(this.Qd="Timed out after "+this.rd+"ms, aborting",this.ld=8,Iu(this.Mb,Vu(this,this.Qd)),this.dispatchEvent("timeout"),this.abort(8))};function Wu(a,b){a.Cc=!1;a.Z&&(a.Vc=!0,a.Z.abort(),a.Vc=!1);a.Qd=b;a.ld=5;Zu(a);$u(a)}function Zu(a){a.ef||(a.ef=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
h.abort=function(a){this.Z&&this.Cc&&(Iu(this.Mb,Vu(this,"Aborting")),this.Cc=!1,this.Vc=!0,this.Z.abort(),this.Vc=!1,this.ld=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$u(this))};h.vc=function(){this.Z&&(this.Cc&&(this.Cc=!1,this.Vc=!0,this.Z.abort(),this.Vc=!1),$u(this,!0));Pu.zc.vc.call(this)};h.kg=function(){this.jd||(this.jf||this.pe||this.Vc?av(this):this.bh())};h.bh=function(){av(this)};
function av(a){if(a.Cc&&"undefined"!=typeof aa)if(a.Fe[1]&&4==bv(a)&&2==cv(a))Iu(a.Mb,Vu(a,"Local request error detected and ignored"));else if(a.pe&&4==bv(a))tu(a.kg,0,a);else if(a.dispatchEvent("readystatechange"),4==bv(a)){Iu(a.Mb,Vu(a,"Request complete"));a.Cc=!1;try{if(dv(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ld=6;try{var b=2<bv(a)?a.Z.statusText:""}catch(c){Iu(a.Mb,"Can not get status: "+c.message),b=""}a.Qd=b+" ["+cv(a)+"]";Zu(a)}}finally{$u(a)}}}
h.jg=function(a,b){this.dispatchEvent(ev(a,"progress"));this.dispatchEvent(ev(a,b?"downloadprogress":"uploadprogress"))};function ev(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function $u(a,b){if(a.Z){Xu(a);var c=a.Z,d=a.Fe[0]?fa:null;a.Z=null;a.Fe=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(a=a.Mb)&&a.log(Au,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}
function Xu(a){a.Z&&a.Ce&&(a.Z.ontimeout=null);"number"==typeof a.ze&&(ba.clearTimeout(a.ze),a.ze=null)}function dv(a){var b=cv(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.qe).match(kb)[1]||null,!a&&ba.self&&ba.self.location&&(a=ba.self.location.protocol,a=a.substr(0,a.length-1)),b=!Tu.test(a?a.toLowerCase():"");c=b}return c}function bv(a){return a.Z?a.Z.readyState:0}
function cv(a){try{return 2<bv(a)?a.Z.status:-1}catch(b){return-1}}function fv(a){try{return a.Z?a.Z.responseText:""}catch(b){return Iu(a.Mb,"Can not get responseText: "+b.message),""}}function gv(a){if(a.Z){a:{a=a.Z.responseText;if(ba.JSON)try{var b=ba.JSON.parse(a);var c=b;break a}catch(d){}c=b=vu(a)}return c}}h.getResponseHeader=function(a){if(this.Z&&4==bv(this))return a=this.Z.getResponseHeader(a),null===a?void 0:a};
h.getAllResponseHeaders=function(){return this.Z&&4==bv(this)?this.Z.getAllResponseHeaders():""};function Vu(a,b){return b+" ["+a.eg+" "+a.qe+" "+cv(a)+"]"};function hv(){this.Tb=[];this.hc=[]}function iv(a){0==a.Tb.length&&(a.Tb=a.hc,a.Tb.reverse(),a.hc=[])}h=hv.prototype;h.enqueue=function(a){this.hc.push(a)};h.Gd=function(){iv(this);return this.Tb.pop()};h.peek=function(){iv(this);var a=this.Tb;return a[a.length-1]};h.Oa=function(){return this.Tb.length+this.hc.length};h.Db=function(){return 0==this.Tb.length&&0==this.hc.length};h.clear=function(){this.Tb=[];this.hc=[]};h.contains=function(a){return 0<=Ja(this.Tb,a)||0<=Ja(this.hc,a)};
h.remove=function(a){var b=this.Tb;var c=Ka(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ra(this.hc,a)};h.ub=function(){for(var a=[],b=this.Tb.length-1;0<=b;--b)a.push(this.Tb[b]);var c=this.hc.length;for(b=0;b<c;++b)a.push(this.hc[b]);return a};function jv(a){this.$a=new gb;a&&this.addAll(a)}function kv(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+la(a):b.substr(0,1)+a}h=jv.prototype;h.Oa=function(){return this.$a.Oa()};h.add=function(a){this.$a.set(kv(a),a)};h.addAll=function(a){a=ab(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};h.qg=function(a){a=ab(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.$a.remove(kv(a))};h.clear=function(){this.$a.clear()};h.Db=function(){return this.$a.Db()};
h.contains=function(a){return this.$a.Rc(kv(a))};h.ub=function(){return this.$a.ub()};h.clone=function(){return new jv(this)};h.equals=function(a){return this.Oa()==$a(a)&&lv(this,a)};
function lv(a,b){var c=$a(b);if(a.Oa()>c)return!1;!(b instanceof jv)&&5<c&&(b=new jv(b));return db(a,function(a){var c=b;if(c.contains&&"function"==typeof c.contains)a=c.contains(a);else if(c.Ed&&"function"==typeof c.Ed)a=c.Ed(a);else if(ia(c)||ea(c))a=0<=Ja(c,a);else a:{for(var d in c)if(c[d]==a){a=!0;break a}a=!1}return a})};function mv(a,b){wt.call(this);this.fg=a||0;this.re=b||10;if(this.fg>this.re)throw Error(nv);this.ic=new hv;this.Hc=new jv;this.df=0;this.mf=null;this.$d()}va(mv,wt);var nv="[goog.structs.Pool] Min can not be greater than max";h=mv.prototype;h.me=function(){var a=sa();if(!(null!=this.mf&&a-this.mf<this.df)){for(var b;0<this.ic.Oa()&&(b=this.ic.Gd(),!this.uf(b));)this.$d();!b&&this.Oa()<this.re&&(b=this.bf());b&&(this.mf=a,this.Hc.add(b));return b}};
function ov(a,b){return a.Hc.remove(b)?(a.He(b),!0):!1}h.He=function(a){this.Hc.remove(a);this.uf(a)&&this.Oa()<this.re?this.ic.enqueue(a):pv(a)};h.$d=function(){for(var a=this.ic;this.Oa()<this.fg;)a.enqueue(this.bf());for(;this.Oa()>this.re&&0<this.ic.Oa();)pv(a.Gd())};h.bf=function(){return{}};function pv(a){if("function"==typeof a.Zf)a.Zf();else for(var b in a)a[b]=null}h.uf=function(a){return"function"==typeof a.Cg?a.Cg():!0};h.contains=function(a){return this.ic.contains(a)||this.Hc.contains(a)};
h.Oa=function(){return this.ic.Oa()+this.Hc.Oa()};h.Db=function(){return this.ic.Db()&&this.Hc.Db()};h.vc=function(){mv.zc.vc.call(this);if(0<this.Hc.Oa())throw Error("[goog.structs.Pool] Objects not released");delete this.Hc;for(var a=this.ic;!a.Db();)pv(a.Gd());delete this.ic};function qv(a,b){this.dg=a;this.Yd=b}qv.prototype.getKey=function(){return this.dg};qv.prototype.clone=function(){return new qv(this.dg,this.Yd)};function rv(a){this.Nb=[];if(a)a:{if(a instanceof rv){var b=a.Cb();a=a.ub();if(0>=this.Oa()){for(var c=this.Nb,d=0;d<b.length;d++)c.push(new qv(b[d],a[d]));break a}}else b=Va(a),a=Ua(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}h=rv.prototype;h.insert=function(a,b){var c=this.Nb;c.push(new qv(a,b));a=c.length-1;b=this.Nb;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Nb,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Qa(a);else{a[0]=a.pop();a=0;b=this.Nb;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.Yd}};h.peek=function(){var a=this.Nb;if(0!=a.length)return a[0].Yd};h.ub=function(){for(var a=this.Nb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Yd);return b};
h.Cb=function(){for(var a=this.Nb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.Ed=function(a){return Ma(this.Nb,function(b){return b.Yd==a})};h.Rc=function(a){return Ma(this.Nb,function(b){return b.getKey()==a})};h.clone=function(){return new rv(this)};h.Oa=function(){return this.Nb.length};h.Db=function(){return 0==this.Nb.length};h.clear=function(){Qa(this.Nb)};function sv(){rv.call(this)}va(sv,rv);sv.prototype.enqueue=function(a,b){this.insert(a,b)};sv.prototype.Gd=function(){return this.remove()};function tv(a,b){this.Yf=void 0;this.yf=new sv;mv.call(this,a,b)}va(tv,mv);h=tv.prototype;h.me=function(){var a=tv.zc.me.call(this);a&&this.df&&(this.Yf=ba.setTimeout(ra(this.hf,this),this.df));return a};h.hf=function(){for(var a=this.yf;0<a.Oa();){var b=this.me();if(b)a.Gd().apply(this,[b]);else break}};h.He=function(a){tv.zc.He.call(this,a);this.hf()};h.$d=function(){tv.zc.$d.call(this);this.hf()};h.vc=function(){tv.zc.vc.call(this);ba.clearTimeout(this.Yf);this.yf.clear();this.yf=null};function uv(a,b,c,d){this.Rg=a;this.sd=!!d;tv.call(this,b,c)}va(uv,tv);uv.prototype.bf=function(){var a=new Pu,b=this.Rg;b&&b.forEach(function(b,d){a.headers.set(d,b)});this.sd&&(a.sd=!0);return a};uv.prototype.uf=function(a){return!a.jd&&!a.Z};var vv={},wv={},xv={},yv=/[\s]/;function zv(a){return null==a?null:","===a?!0:yv.test(a)}function Av(a){return null==a?null:!/[^0-9]/.test(a)}
function Bv(a,b){return function e(b){return new wf(null,function(){for(;;){var d=E(b);if(d){if(Te(d)){var g=Bd(d),k=N(g),l=Af(k);return function(){for(var b=0;;)if(b<k){var d=Fc.j(g,b),e=l;if(d instanceof Wd||d instanceof U){var f=Pi();var m=f.h?f.h(d):f.call(null,d);f=S(m,0);m=S(m,1);var x=d instanceof Wd?Xd:uf;d=null==f?x.j?x.j(a,m):x.call(null,a,m):K.j("_",f)?x.h?x.h(m):x.call(null,m):d}e.add(d);b+=1}else return!0}()?Cf(l.yb(),e(Cd(d))):Cf(l.yb(),null)}var m=G(d);return xe(m instanceof Wd||m instanceof
U?function(){var b=Pi();var d=b.h?b.h(m):b.call(null,m);b=S(d,0);d=S(d,1);var e=m instanceof Wd?Xd:uf;return null==b?e.j?e.j(a,d):e.call(null,a,d):K.j("_",b)?e.h?e.h(d):e.call(null,d):m}():m,e(Zd(d)))}return null}},null,null)}(b)}function Cv(a,b){a=parseInt(a,b);return z(isNaN(a))?-1:a};var Dv=function Dv(a){if(null!=a&&null!=a.Qc)return a.Qc(a);var c=Dv[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Dv._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("Reader.read-char",a);},Ev=function Ev(a){if(null!=a&&null!=a.Dd)return a.Dd(a);var c=Ev[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Ev._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("Reader.peek-char",a);},Fv=function Fv(a,b){if(null!=a&&null!=a.Xf)return a.Xf(a,b);var d=Fv[n(null==
a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Fv._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IPushbackReader.unread",a);},Gv=function Gv(a){if(null!=a&&null!=a.Og)return a.Og(a);var c=Gv[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Gv._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IndexingReader.get-line-number",a);},Hv=function Hv(a){if(null!=a&&null!=a.Mg)return a.Mg(a);var c=Hv[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,
a);c=Hv._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IndexingReader.get-column-number",a);},Iv=function Iv(a){if(null!=a&&null!=a.Ng)return a.Ng(a);var c=Iv[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=Iv._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IndexingReader.get-file-name",a);};function Jv(a,b){this.s=a;this.ug=b;this.pd=0}Jv.prototype.Qc=function(){if(this.ug>this.pd){var a=this.s.charAt(this.pd);this.pd+=1;return a}return null};
Jv.prototype.Dd=function(){return this.ug>this.pd?this.s.charAt(this.pd):null};function Kv(a,b){this.og=a;this.X=b;this.Vb=this.Ie=1}Kv.prototype.Qc=function(){var a=this.Vb<this.Ie?this.X[this.Vb]:this.og.Qc(null);this.Vb<this.Ie&&(this.Vb+=1);return null==a?null:hf(a)};Kv.prototype.Dd=function(){var a=this.Vb<this.Ie?this.X[this.Vb]:this.og.Dd(null);return null==a?null:hf(a)};
Kv.prototype.Xf=function(a,b){if(z(b)){if(0===this.Vb)throw Error("Pushback buffer is full");--this.Vb;return this.X[this.Vb]=b}return null};function Lv(a){return null!=a?r===a.Ah?!0:!1:!1};var Mv={};function Nv(a,b,c,d){var e=N(b);a=z(a)?0:10<e?10:e;b=wg.j(og.j(Ov,!0),xg(a,b));b=Pf(B,yg(1,Bg.j(new Ag(null,-1," ",null,null),b)));e=a<e?"...":null;return[B.h(c),B.h(b),B.h(e),B.h(d)].join("")}function Pv(a,b){return null==b?Ln:"string"===typeof b?wm:b instanceof U?Fm:"number"===typeof b?Fm:b instanceof Wd?Fm:Se(b)?ym:of(b)?rn:Qe(b)?rp:Oe(b)?Ko:K.j(b,!0)?Fm:K.j(b,!1)?Fm:pc(b)}
if("undefined"===typeof Xb||"undefined"===typeof vv||"undefined"===typeof wv||"undefined"===typeof xv||"undefined"===typeof Mv||"undefined"===typeof Ov){var Ov,Qv=rg(Z),Rv=rg(Z),Sv=rg(Z),Tv=rg(Z),Uv=D.l(Z,Zo,Cj.F?Cj.F():Cj.call(null));Ov=new Nj(Xd.j("cljs.tools.reader.impl.inspect","inspect*"),Pv,Uv,Qv,Rv,Sv,Tv)}Qj(Ov,wm,function(a,b){var c=z(a)?5:20;a=b.length>c?'..."':'"';return[B.h('"'),B.h(b.substring(0,function(){var a=b.length;return c<a?c:a}())),B.h(a)].join("")});Qj(Ov,Fm,function(a,b){return B.h(b)});
Qj(Ov,F,function(){return"\x3cindexed seq\x3e"});Qj(Ov,vh,function(){return"\x3cmap seq\x3e"});Qj(Ov,Vh,function(){return"\x3cmap seq\x3e"});Qj(Ov,sf,function(){return"\x3ccons\x3e"});Qj(Ov,wf,function(){return"\x3clazy seq\x3e"});Qj(Ov,Ln,function(){return"nil"});Qj(Ov,rn,function(a,b){return Nv(a,b,"(",")")});Qj(Ov,rp,function(a,b){var c=N(b),d=z(a)?0:c;b=Pf(Hf,xg(d,b));return Nv(a,b,"{",c>d?"...}":"}")});Qj(Ov,Ko,function(a,b){return Nv(a,b,"#{","}")});
Qj(Ov,ym,function(a,b){return Nv(a,b,"[","]")});Qj(Ov,Oj,function(a,b){return gj(R([pc(b)]))});function Vv(a){return Ov.j?Ov.j(!1,a):Ov.call(null,!1,a)};function Wv(a,b,c){b=new v(null,2,[am,Rk,ck,b],null);a=Lv(a)?T.w(b,Il,Iv(a),R([on,Gv(a),Fn,Hv(a)])):b;var d=Il.h(a);b=on.h(a);var e=Fn.h(a);d=z(d)?[B.h(d)," "].join(""):null;b=z(b)?["[line ",B.h(b),", col ",B.h(e),"]"].join(""):null;c=Rf(B,d,b,z(z(d)?d:b)?" ":null,c);throw Tj(c,a);}function Xv(a,b){return Wv(a,hk,R([Pf(B,b)]))}function Yv(a,b){return Wv(a,Cm,R([Pf(B,b)]))}function Zv(a,b){return Wv(a,Wo,R([Pf(B,b)]))}
function $v(a,b,c,d){Xv(a,R(["The map literal starting with ",Vv(G(d)),z(b)?[" on line ",B.h(b)," column ",B.h(c)].join(""):null," contains ",N(d)," form(s). Map literals must contain an even number of forms."]))}function aw(a,b,c){return Xv(a,R(["Invalid ",vf(b),": ",c,"."]))}function bw(a,b,c){return Xv(a,R(["Invalid character: ",c," found while reading ",vf(b),"."]))}
function cw(a,b){a:{var c=wm instanceof U?wm.Ma:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",B.h(c)].join(""));}}return Zv(a,R(["Unexpected EOF reading ",vf(wm)," starting ",Qf(B,c,b),"."]))}function dw(a,b){return Yv(a,R(["Invalid digit ",b," in unicode character."]))}function ew(a){return Xv(a,R(["Octal escape sequence must be in range [0, 377]."]))}
function fw(a,b){b=function(a){return function f(a){return new wf(null,function(){for(var b=a;;)if(b=E(b)){if(Te(b)){var c=Bd(b),e=N(c),m=Af(e);a:for(var p=0;;)if(p<e){var q=Fc.j(c,p),t=S(q,0);1<S(q,1)&&m.add(t);p+=1}else{c=!0;break a}return c?Cf(m.yb(),f(Cd(b))):Cf(m.yb(),null)}m=G(b);c=S(m,0);if(1<S(m,1))return xe(c,f(Zd(b)));b=Zd(b)}else return null},null,null)}(Oi(a))}(b);return Rf(B,a,1<N(b)?"s":null,": ",yg(1,Bg.j(new Ag(null,-1,", ",null,null),b)))}
function gw(a,b,c){Xv(a,R([fw([B.h(Fa(vf(b)))," literal contains duplicate key"].join(""),c)]))};function hw(a){for(var b=a.Qc(null);;)if(zv.h?zv.h(b):zv.call(null,b))b=a.Qc(null);else return b}var iw=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,jw=/([-+]?[0-9]+)\/([0-9]+)/,kw=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function lw(a,b){a=Si(a,b);return S(a,0)===b}
function mw(a){if(lw(iw,a)){var b=bh(Si(iw,a));if(null!=(b.h?b.h(2):b.call(null,2)))a=0;else{a="-"===(b.h?b.h(1):b.call(null,1));b=null!=(b.h?b.h(3):b.call(null,3))?new W(null,2,5,X,[b.h?b.h(3):b.call(null,3),10],null):null!=(b.h?b.h(4):b.call(null,4))?new W(null,2,5,X,[b.h?b.h(4):b.call(null,4),16],null):null!=(b.h?b.h(5):b.call(null,5))?new W(null,2,5,X,[b.h?b.h(5):b.call(null,5),8],null):null!=(b.h?b.h(7):b.call(null,7))?new W(null,2,5,X,[b.h?b.h(7):b.call(null,7),parseInt(b.h?b.h(6):b.call(null,
6))],null):new W(null,2,5,X,[null,null],null);var c=b.h?b.h(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.h?b.h(1):b.call(null,1)),a=a?-1*b:b,a=z(isNaN(a))?null:a)}}else lw(kw,a)?(b=bh(Si(kw,a)),a=null!=(b.h?b.h(4):b.call(null,4))?parseFloat(b.h?b.h(1):b.call(null,1)):parseFloat(a)):lw(jw,a)?(b=bh(Si(jw,a)),a=b.h?b.h(1):b.call(null,1),b=b.h?b.h(2):b.call(null,2),a=z(Si(/^\+/,a))?a.substring(1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function nw(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?a.substring(0,b):null;if(null!=c){b+=1;if(b===N(a))return null;a=a.substring(b);return Av(te(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,X,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,X,[null,a],null):null}
var ow=function ow(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return ow.w(arguments[0],1<c.length?new F(c.slice(1),0,null):null)};ow.w=function(a){for(;;){var b=a.Qc(null);if("\n"===b||"\n"===b||null==b)break}return a};ow.J=1;ow.M=function(a){var b=G(a);a=J(a);return this.w(b,a)};
function pw(){return function(){function a(a,d){var c=null;if(1<arguments.length){c=0;for(var f=Array(arguments.length-1);c<f.length;)f[c]=arguments[c+1],++c;c=new F(f,0,null)}return b.call(this,a,c)}function b(a){return Xv(a,R(["Unreadable form"]))}a.J=1;a.M=function(a){var c=G(a);a=Zd(a);return b(c,a)};a.w=b;return a}()};new Cb;if("undefined"===typeof Xb||"undefined"===typeof vv||"undefined"===typeof wv||"undefined"===typeof qw)var qw={};if("undefined"===typeof Xb||"undefined"===typeof vv||"undefined"===typeof wv||"undefined"===typeof rw)var rw={};if("undefined"===typeof Xb||"undefined"===typeof vv||"undefined"===typeof wv||"undefined"===typeof sw)var sw={};var tw=Z;function uw(a){var b="#"!==a;return b&&(b="'"!==a)?(b=":"!==a)?vw.h?vw.h(a):vw.call(null,a):b:b}function ww(a){return"@"===a||"`"===a||"~"===a}function xw(a,b,c,d){if(nc(c))return Zv(a,R(["Unexpected EOF while reading start of ",vf(b),"."]));if(z(z(d)?ww(c):d))return bw(a,b,c);d=new Cb;for(Fv(a,c);;){if(zv(c)||uw(c)||null==c)return B.h(d);if(ww(c))return bw(a,b,c);d.append(Dv(a));c=Ev(a)}}
function yw(a,b,c){b=Dv(a);if(z(b)){var d=zw.h?zw.h(b):zw.call(null,b);if(z(d))return d.l?d.l(a,b,c):d.call(null,a,b,c);Fv(a,b);c=Aw.l?Aw.l(a,b,c):Aw.call(null,a,b,c);return z(c)?c:Xv(a,R(["No dispatch macro for ",b,"."]))}return Zv(a,R(["Unexpected EOF while reading dispatch character."]))}function Bw(a,b){return Xv(a,R(["Unmatched delimiter ",b,"."]))}
function Cw(a,b,c){b=1+b;if(N(a)!==b)throw Yv(null,R(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=Cv(te(a,d),c);if(-1===f)return c=te(a,d),Yv(null,R(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function Dw(a,b,c,d,e){for(var f=1,g=Cv(b,c);;){if(-1===g)return dw(a,b);if(f!==d){var k=Ev(a);var l=zv(k);l||(l=vw.h?vw.h(k):vw.call(null,k),l=z(l)?l:null==k);if(z(l))return z(e)?Yv(a,R(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(g);l=Cv(k,c);Dv(a);if(-1===l)return dw(a,k);g=l+g*c;f+=1}else return String.fromCharCode(g)}}
function Ew(a){var b=Dv(a);if(null!=b){b=uw(b)||ww(b)||zv(b)?B.h(b):xw(a,qp,b,!1);var c=N(b);if(1===c)return te(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(z(0==b.lastIndexOf("u",0)))return b=Cw(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=Xv(a,R(["Invalid character literal \\u",b,"."]))):a=b,a;if(z(0==b.lastIndexOf("o",0))){--c;if(3<c)return Xv(a,R(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=Cw(b,c,8);return 255<(b|0)?ew(a):b}return Xv(a,R(["Unsupported character: ",b,"."]))}return Zv(a,R(["Unexpected EOF while reading character."]))}function Fw(a){return Lv(a)?new W(null,2,5,X,[Gv(a),(Hv(a)|0)-1|0],null):null}
function Gw(a,b,c,d){var e=Fw(c),f=S(e,0);e=S(e,1);b=null==b?null:hf(b);for(var g=vd(Be);;){var k=hw(c);if(!z(k)){var l=a,m=f,p=e,q=N(g);Zv(c,R(["Unexpected EOF while reading ",z(q)?["item ",B.h(q)," of "].join(""):null,vf(l),z(m)?[", starting at line ",B.h(m)," and column ",B.h(p)].join(""):null,"."]))}if(K.j(b,null==k?null:hf(k)))return xd(g);l=vw.h?vw.h(k):vw.call(null,k);z(l)?(k=l.l?l.l(c,k,d):l.call(null,c,k,d),g=k!==c?If.j(g,k):g):(Fv(c,k),k=Hw?Hw(c,!0,null,d):Iw.call(null,c,!0,null,d),g=k!==
c?If.j(g,k):g)}}function Jw(a,b,c){a=Gw(rn,")",a,c);return Me(a)?$d:Pf(rf,a)}function Kw(a,b,c){return Gw(ym,"]",a,c)}function Lw(a,b,c){var d=Fw(a);b=S(d,0);d=S(d,1);c=Gw(rp,"}",a,c);var e=N(c),f=Ni(2,c),g=Hi(f);!lg(e)&&$v(a,b,d,c);K.j(N(g),N(f))||gw(a,rp,f);if(e<=2*Ah)a=Dh(Ef(c));else a:for(a=Ef(c),b=a.length,d=0,e=vd(Ch);;)if(d<b)c=d+2,e=yd(e,a[d],a[d+1]),d=c;else{a=xd(e);break a}return a}
function Mw(a,b){for(var c=function(){var a=new Cb;a.append(b);return a}(),d=Dv(a);;){if(z(function(){var a=zv(d);if(a)return a;a=vw.h?vw.h(d):vw.call(null,d);return z(a)?a:null==d}())){var e=B.h(c);Fv(a,d);var f=mw(e);return z(f)?f:Xv(a,R(["Invalid number: ",e,"."]))}e=function(){var a=c;a.append(d);return a}();f=Dv(a);c=e;d=f}}
function Nw(a){var b=Dv(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=Dv(a),-1===parseInt(b|0,16)?Xv(a,R(["Invalid unicode escape: \\u",b,"."])):Dw(a,b,16,4,!0);default:return Av(b)?(b=Dw(a,b,8,3,!1),255<(b|0)?ew(a):b):Xv(a,R(["Unsupported escape character: \\",b,"."]))}}
function Ow(a){for(var b=new Cb,c=Dv(a);;){var d=c;if(K.j(null,d))return cw(a,R(['"',b]));if(K.j("\\",d)){d=function(){var c=b;c.append(Nw(a));return c}();var e=Dv(a);b=d;c=e}else{if(K.j('"',d))return B.h(b);d=function(){var a=b;a.append(c);return a}();e=Dv(a);b=d;c=e}}}
function Pw(a,b){b=xw(a,ol,b,!0);if(z(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return On;default:var c=nw(b);c=z(c)?Xd.j(c.h?c.h(0):c.call(null,0),c.h?c.h(1):c.call(null,1)):null;return z(c)?c:aw(a,ol,b)}else return null}
function Qw(a){var b=Dv(a);if(zv(b))return Xv(a,R(["A single colon is not a valid keyword."]));b=xw(a,wn,b,!0);var c=nw(b);if(z(z(c)?-1===b.indexOf("::"):c)){var d=c.h?c.h(0):c.call(null,0);c=c.h?c.h(1):c.call(null,1);return":"===te(b,0)?aw(a,wn,b):uf.j(d,c)}return aw(a,wn,b)}
function Rw(a,b,c){b=Hw?Hw(a,!0,null,c):Iw.call(null,a,!0,null,c);b=b instanceof U?Ee([b,!0]):b instanceof Wd?new v(null,1,[Fo,b],null):"string"===typeof b?new v(null,1,[Fo,b],null):b;Qe(b)||Xv(a,R(["Metadata cannot be ",Vv(b),". Metadata must be a Symbol, Keyword, String or Map."]));c=Hw?Hw(a,!0,null,c):Iw.call(null,a,!0,null,c);return null!=c&&(c.v&131072||r===c.Tf)?Je(c,wi.w(R([Ke(c),b]))):Xv(a,R(["Metadata can not be applied to ",Vv(c),". ","Metadata can only be applied to IMetas."]))}
function Sw(a,b,c){b=Gw(Ko,"}",a,c);c=Hi(b);K.j(N(b),N(c))||gw(a,Ko,b);return c}function Tw(a){Hw?Hw(a,!0,null,!0):Iw.call(null,a,!0,null,!0);return a}
function Uw(a,b,c){b=Dv(a);b=xw(a,Fk,b,!0);var d=null==b?null:nw(b);if(null==d)var e=null;else e=S(d,0),d=S(d,1),e=z(e)?null:d;return z(e)?"{"===hw(a)?(c=Gw(Fk,"}",a,c),!lg(N(c))&&$v(a,null,null,c),b=Bv(B.h(e),Ni(2,c)),c=Ni(2,Zd(c)),K.j(N(Hi(b)),N(b))||gw(a,Fk,b),Ii(b,c)):Xv(a,R(["Namespaced map with namespace ",b," does not specify a map."])):Xv(a,R(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function Vw(a,b,c){b=Hw?Hw(a,!0,null,c):Iw.call(null,a,!0,null,c);return K.j(yl,b)?Number.NaN:K.j(so,b)?Number.NEGATIVE_INFINITY:K.j(mm,b)?Number.POSITIVE_INFINITY:Xv(a,R([["Invalid token: ##",B.h(b)].join("")]))}function vw(a){switch(a){case '"':return Ow;case ":":return Qw;case ";":return ow;case "^":return Rw;case "(":return Jw;case ")":return Bw;case "[":return Kw;case "]":return Bw;case "{":return Lw;case "}":return Bw;case "\\":return Ew;case "#":return yw;default:return null}}
function zw(a){switch(a){case "^":return Rw;case "{":return Sw;case "\x3c":return pw();case "!":return ow;case "_":return Tw;case ":":return Uw;case "#":return Vw;default:return null}}
function Aw(a,b,c){b=Hw?Hw(a,!0,null,c):Iw.call(null,a,!0,null,c);var d=Hw?Hw(a,!0,null,c):Iw.call(null,a,!0,null,c);b instanceof Wd||Xv(a,R(["Invalid reader tag: ",Vv("Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=D.j(Ll.h(c),b);e=z(e)?e:tw.h?tw.h(b):tw.call(null,b);if(z(e))return e.h?e.h(d):e.call(null,d);c=Oj.h(c);return z(c)?c.j?c.j(b,d):c.call(null,b,d):Xv(a,R(["No reader function for tag ",Vv(b),"."]))}
function Iw(a){switch(arguments.length){case 1:return Ww(Z,arguments[0]);case 2:return Ww(arguments[0],arguments[1]);case 4:return Hw(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}}function Ww(a,b){a=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a;var c=D.j(a,Wo),d=!Ze(a,Wo);return Hw(b,d,c,a)}
function Hw(a,b,c,d){try{for(;;){var e=Dv(a);if(!zv(e)){if(null==e){if(z(b)){b=a;var f=z(null)?Zv(b,R(["EOF while reading, starting at line ",null,"."])):Zv(b,R(["EOF while reading."]))}else f=c;return f}if(Av(e)||("+"===e||"-"===e)&&Av(a.Dd(null)))return Mw(a,e);var g=vw(e);if(z(g)){var k=g.l?g.l(a,e,d):g.call(null,a,e,d);if(k!==a)return k}else return Pw(a,e)}}}catch(l){if(l instanceof Error){f=l;if(f instanceof Sj){b=f instanceof Sj?f.data:null;if(K.j(Rk,am.h(b)))throw f;a=wi.w(R([new v(null,1,
[am,Rk],null),b,Lv(a)?new v(null,3,[on,Gv(a),Nm,Hv(a),Il,Iv(a)],null):null]));throw new Sj(f.message,a,f);}a=wi.w(R([new v(null,1,[am,Rk],null),Lv(a)?new v(null,3,[on,Gv(a),Nm,Hv(a),Il,Iv(a)],null):null]));throw new Sj(f.message,a,f);}throw l;}};var Xw={};function Yw(a,b){uc.l(function(b,d){return z(a.h?a.h(d):a.call(null,d))?!0:new je(null)},!0,b)}function Zw(a){a=C(a);throw Tj(C(kl.h(a)),Fe.j(a,kl));}function $w(a){return function(b){try{return a.h?a.h(b):a.call(null,b)}catch(c){if(c instanceof Error)return null;throw c;}}}var ax={};
function bx(a,b,c,d,e,f){if(z(Zw)){var g=new nj(function(g,l){return function(){var k=new Date,p=z(c)?c:"?",q=B.h(d),t=null==e?"\x3ctruss/nil\x3e":gj(R([e])),u=ax===f?null:f;p=new nj(function(a,c,d,e,f,g){return function(){var a=z(g)?B.h(g):null;var k=["Invariant violation in `",B.h(b),":",B.h(c),"`. Test form `",B.h(d),"` failed against input val `",B.h(f),"`."].join("");return nc(g)?k:e?[B.h(k)," An error was thrown while evaluating input val: [",B.h(a),"]."].join(""):[B.h(k)," An error was thrown while evaluating test form: [",
B.h(a),"]."].join("")}}(k,p,q,!1,t,u,g,l));t=function(){if(z(null))try{return null.F?null.F():null.call(null)}catch(w){if(w instanceof Error)return new v(null,1,[zn,w],null);throw w;}else return null}();return $h([ok,kl,xl,Cl,ij,hm,hn,vn,yn,no,qo,ap],[null,p,a,k,e,b,pc(e),u,!0,t,c,q])}}(Zw,Zw));return Zw.h?Zw.h(g):Zw.call(null,g)}return null};function cx(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,l,m,p,q){if("%"==m)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return cx.uc[m].apply(null,arguments)})}cx.uc={};
cx.uc.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Ba(" ",Number(c)-a.length):Ba(" ",Number(c)-a.length)+a};
cx.uc.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Ba(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Ba(b,a)+d);return d};cx.uc.d=function(a,b,c,d,e,f,g,k){return cx.uc.f(parseInt(a,10),b,c,d,0,f,g,k)};
cx.uc.i=cx.uc.d;cx.uc.u=cx.uc.d;var dx=function(a,b){return function(c,d){return D.j(z(d)?b:a,c)}}(new W(null,13,5,X,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),new W(null,13,5,X,[null,31,29,31,30,31,30,31,31,30,31,30,31],null)),ex=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function fx(a){a=parseInt(a,10);return nc(isNaN(a))?a:null}
function gx(a,b,c,d){if(!(a<=b&&b<=c))throw Error([B.h(d)," Failed:  ",B.h(a),"\x3c\x3d",B.h(b),"\x3c\x3d",B.h(c)].join(""));return b}
function hx(a){var b=Ri(ex,a);S(b,0);var c=S(b,1),d=S(b,2),e=S(b,3),f=S(b,4),g=S(b,5),k=S(b,6),l=S(b,7),m=S(b,8),p=S(b,9),q=S(b,10);if(nc(b))throw Error(["Unrecognized date/time syntax: ",B.h(a)].join(""));var t=fx(c),u=function(){var a=fx(d);return z(a)?a:1}();a=function(){var a=fx(e);return z(a)?a:1}();b=function(){var a=fx(f);return z(a)?a:0}();c=function(){var a=fx(g);return z(a)?a:0}();var w=function(){var a=fx(k);return z(a)?a:0}(),x=function(){a:if(K.j(3,N(l)))var a=l;else if(3<N(l))a=l.substring(0,
3);else for(a=new Cb(l);;)if(3>a.Ec.length)a=a.append("0");else{a=a.toString();break a}a=fx(a);return z(a)?a:0}();m=(K.j(m,"-")?-1:1)*(60*function(){var a=fx(p);return z(a)?a:0}()+function(){var a=fx(q);return z(a)?a:0}());return new W(null,8,5,X,[t,gx(1,u,12,"timestamp month field must be in range 1..12"),gx(1,a,function(){var a=0===(t%4+4)%4&&(0!==(t%100+100)%100||0===(t%400+400)%400);return dx.j?dx.j(u,a):dx.call(null,u,a)}(),"timestamp day field must be in range 1..last day in month"),gx(0,b,
23,"timestamp hour field must be in range 0..23"),gx(0,c,59,"timestamp minute field must be in range 0..59"),gx(0,w,K.j(c,59)?60:59,"timestamp second field must be in range 0..60"),gx(0,x,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var ix=rg(null),jx=rg(wi.w(R([new v(null,4,[Zl,function(a){if("string"===typeof a){var b=hx(a);if(z(b)){a=S(b,0);var c=S(b,1),d=S(b,2),e=S(b,3),f=S(b,4),g=S(b,5),k=S(b,6);b=S(b,7);b=new Date(Date.UTC(a,c-1,d,e,f,g,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",B.h(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},ak,function(a){if("string"===typeof a){if("string"!==typeof a)throw Error("Assert failed: (string? s)");return new Rj(a.toLowerCase(),
null)}throw Error("UUID literal expects a string as its representation.");},xm,function(a){if(Se(a))return Dg.j(nh,a);throw Error("Queue literal expects a vector for its elements.");},Kl,function(a){if(Se(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Te(c)?(a=Bd(c),e=Cd(c),c=a,d=N(a),a=e):(a=G(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Qe(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var g=c.P(null,e);f=S(g,0);g=S(g,1);var k=
b;f=vf(f);k[f]=g;e+=1}else if(a=E(a))Te(a)?(d=Bd(a),a=Cd(a),c=d,d=N(d)):(d=G(a),c=S(d,0),d=S(d,1),e=b,c=vf(c),e[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),Z])));var kx={},lx=new W(null,3,5,X,[2,96,0],null);
function mx(a){if(null==a||""===a)return null;if("string"===typeof a){var b=D.l(null,Ll,fk),c=D.l(null,Oj,fk);z(V.j?V.j(b,fk):V.call(null,b,fk))&&(b=C(jx),b=nx.j?nx.j(Xd,b):nx.call(null,Xd,b));c=z(V.j?V.j(c,fk):V.call(null,c,fk))?C(ix):c;c=T.w(null,Ll,b,R([Oj,c]));if(z(z(a)?Sf(a,""):a)){a=new Jv(a,N(a));a:if(b=Array(1),We(null))for(var d=0,e=E(null);;)if(e&&1>d)b[d]=G(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)b[d]=null,d+=1;else break;c=Ww(c,new Kv(a,b))}else c=null;return c}throw Tj("`read-edn` attempt against non-nil, non-string arg",
new v(null,2,[pk,a,am,pc(a)],null));}function ox(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function px(a){return ox(a)&&!(0>a)}function qx(a){if(null!=a&&(a.K&4096||r===a.Re)){var b=vf(a);a=tf(a);return z(a)?[B.h(a),"/",B.h(b)].join(""):b}return"string"===typeof a?a:null}function rx(a){return"string"===typeof a?K.j(a,"")?null:a:null}function sx(a){return"number"===typeof a?jf(a):"string"===typeof a?(a=parseInt(a,10),z(isNaN(a))?null:a):null}
function tx(a){var b=qx(a);if(!z(b))throw Tj(["`as-",B.h(vf(nm)),"` failed against: `",B.h(gj(R([a]))),"`"].join(""),new v(null,2,[pk,a,am,pc(a)],null));return b}function ux(a,b,c){return ff(Ki(),df(function(b,c){var d=S(c,0);c=S(c,1);return a.l?a.l(b,d,c):a.call(null,b,d,c)},cf),b,c)}function vx(a,b){return uc.l(function(b,d){b=a.h?a.h(d):a.call(null,d);return z(b)?new je(b):null},null,b)}
var wx=function(a){return function(){return function(a,c){return function(){return a.Oc(null,c(a.Ab(null)))}}(new vg(-1),a)}}(function(a){return a+1}),xx=function xx(a){switch(arguments.length){case 1:return xx.h(arguments[0]);case 2:return xx.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};xx.h=function(a){return xx.j(a,null)};
xx.j=function(a,b){var c=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b,d=D.j(c,kk);b=D.j(c,Bn);c=D.l(c,Cn,1E3);a=Math.pow(2,36<a?36:a);a=jf(.5*(a+Math.random()*a)*c);d=jf(z(d)?a<d?d:a:a);return jf(z(b)?d>b?b:d:d)};xx.J=2;K.j("default","nodejs");var yx="undefined"!==typeof window?window:null;function zx(a){a=Xp(B.h(a),/-/,2);var b=S(a,0);a=S(a,1);b=Ti(/\d+/,b);b=z(b)?Eg(sx,b):null;return new v(null,2,[Po,b,Gl,z(a)?a.toLowerCase():null],null)}
function Ax(a){var b=S(lx,0),c=S(lx,1),d=S(lx,2);a=Se(a)?a:Po.h(zx(a));var e=S(a,0),f=S(a,1),g=S(a,2);f=Eg(function(){return function(a){return z(a)?a:0}}(lx,b,c,d,a,e,f,g),new W(null,3,5,X,[e,f,g],null));a=S(f,0);e=S(f,1);f=S(f,2);if(!(b>a||K.j(b,a)&&(c>e||K.j(c,e)&&d>=f)))throw Tj("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new v(null,2,[Qo,Up(".",new W(null,3,5,X,[a,e,f],null)),To,Up(".",new W(null,3,5,X,[b,c,d],null))],
null));}function Bx(a,b){return null==b?null==a?Z:a:T.l(a,"x-requested-with",b)}var Cx=function Cx(a){switch(arguments.length){case 3:return Cx.l(arguments[0],arguments[1],arguments[2]);case 2:return Cx.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return Cx.w(arguments[0],arguments[1],arguments[2],new F(c.slice(3),0,null))}};Cx.l=function(a,b,c){return Ze(a,b)?a:T.l(a,b,c)};Cx.w=function(a,b,c,d){return ux(Cx,Cx.l(a,b,c),d)};
Cx.M=function(a){var b=G(a),c=J(a);a=G(c);var d=J(c);c=G(d);d=J(d);return this.w(b,a,c,d)};Cx.j=function(a,b){return bf(function(a,b,e){return Ze(a,b)?a:T.l(a,b,e)},null==a?Z:a,b)};Cx.J=3;var Dx=function Dx(a){switch(arguments.length){case 2:return Dx.j(arguments[0],arguments[1]);case 3:return Dx.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Dx.j=function(a,b){b=0>b?0:b;var c=N(a);return b>=c?Be:gh(a,b,c)};
Dx.l=function(a,b,c){b=0>b?0:b;var d=jf(N(a));c=c>d?d:c;return b>=c?Be:gh(a,b,c)};Dx.J=3;var Ex=function Ex(a){switch(arguments.length){case 2:return Ex.j(arguments[0],arguments[1]);case 3:return Ex.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Ex.j=function(a,b){var c=N(a);return 0>b?(b+=c,gh(a,0>b?0:b,c)):b>=c?Be:gh(a,b,c)};
Ex.l=function(a,b,c){if(0>=c)return Be;var d=jf(N(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,gh(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?Be:gh(a,b,d)};Ex.J=3;function Fx(a,b){for(var c=Be;;){var d=E(b);b=G(d);if(d=J(d))c=Ae.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}og.j(uc,Hf);function nx(a,b){return null==b?Z:bf(function(b,d,e){return T.l(b,a.h?a.h(d):a.call(null,d),e)},Z,b)}function Gx(a,b){return K.j(Hi(xh(b)),Hi.h?Hi.h(a):Hi.call(null,a))}
function Hx(a,b,c,d){var e=E(b);if(e){b=te(b,0);if(e=J(e))return T.l(a,b,Hx(D.j(a,b),e,c,d));if(z(V.j?V.j(d,Jl):V.call(null,d,Jl)))return Fe.j(a,b);c=D.l(a,b,c);d=d.h?d.h(c):d.call(null,c);return z(V.j?V.j(d,Jl):V.call(null,d,Jl))?Fe.j(a,b):T.l(a,b,d)}return d.h?d.h(a):d.call(null,a)}function Ix(a,b,c){return Hx(a,b,null,function(a){return Fe.j(a,c)})}
var Jx=function(a){return function(b,c,d){return uc.l(function(a){return function(d,e){return null==e?d:bf(function(a){return function t(d,e,f){var g=D.l(d,e,a);if(g===a)return T.l(d,e,f);if(z(V.j?V.j(f,Jl):V.call(null,f,Jl)))return Fe.j(d,e);if(z(z(b)?Qe(f)&&Qe(g):b))return T.l(d,e,bf(t,g,f));f=c.j?c.j(g,f):c.call(null,g,f);return z(V.j?V.j(f,Jl):V.call(null,f,Jl))?Fe.j(d,e):T.l(d,e,f)}}(a),z(d)?d:Z,e)}}(a),null,d)}}({});function Kx(a){return Jx(!1,function(a,c){return c},a)}
function Lx(a,b){this.rf=a;this.zf=b}function Mx(a,b,c){for(;;){var d=C(b);c=c.h?c.h(d):c.call(null,d);var e=c instanceof Lx,f=e?c.rf:c;sg(b,f);return e?c.zf:a.j?a.j(d,f):a.call(null,d,f)}}function Nx(a,b,c){for(;;){var d=C(b);sg(b,c);return a.j?a.j(d,c):a.call(null,d,c)}}
function Ox(a,b,c,d,e){if(z(V.j?V.j(e,Jl):V.call(null,e,Jl)))for(;;){var f=C(b),g=Fe.j(f,c);sg(b,g);b=D.l(f,c,d);c=Jl;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){f=C(b);d=D.l(f,c,d);e=e.h?e.h(d):e.call(null,d);var k=e instanceof Lx,l=k?e.rf:e;g=l;g=V.j?V.j(g,Jl):V.call(null,g,Jl);g=z(g)?Fe.j(f,c):T.l(f,c,l);sg(b,g);return k?e.zf:a.j?a.j(d,l):a.call(null,d,l)}}
function Px(a,b,c,d,e){var f=E(c);if(f)if(J(f))if(z(V.j?V.j(e,Jl):V.call(null,e,Jl)))for(;;){var g=C(b);f=Fx(function(a){return function(b,c){return Ix(a,b,c)}}(g,f,f),c);sg(b,f);b=Hg(g,c,d);c=Jl;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){g=C(b);d=Hg(g,c,d);e=e.h?e.h(d):e.call(null,d);var k=e instanceof Lx,l=k?e.rf:e;f=z(function(){var a=l;return V.j?V.j(a,Jl):V.call(null,a,Jl)}())?Fx(function(a){return function(b,c){return Ix(a,b,c)}}(g,d,e,k,l,f,f),c):Ig(g,c,l);sg(b,f);return k?e.zf:a.j?
a.j(d,l):a.call(null,d,l)}else return Ox(a,b,te(c,0),d,e);else return Mx(a,b,e)}function Qx(a,b,c,d,e){var f=E(c);if(f)if(J(f))for(;;){f=C(b);var g=Ig(f,c,e);sg(b,g);b=Hg(f,c,d);return a.j?a.j(b,e):a.call(null,b,e)}else{a:for(c=te(c,0);;){f=C(b);g=T.l(f,c,e);sg(b,g);b=D.l(f,c,d);a=a.j?a.j(b,e):a.call(null,b,e);break a}return a}else return Nx(a,b,e)}function Rx(a,b){return b}
var Sx=function Sx(a){switch(arguments.length){case 2:return Sx.j(arguments[0],arguments[1]);case 3:return Sx.l(arguments[0],arguments[1],arguments[2]);case 4:return Sx.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Sx.j=function(a){return function(b,c){return Mx(a,b,c)}}(Rx);Sx.l=function(a){return function(b,c,d){return Px(a,b,c,null,d)}}(Rx);Sx.H=function(a){return function(b,c,d,e){return Px(a,b,c,d,e)}}(Rx);
Sx.J=4;function Tx(a){return a}var Ux=function Ux(a){switch(arguments.length){case 2:return Ux.j(arguments[0],arguments[1]);case 3:return Ux.l(arguments[0],arguments[1],arguments[2]);case 4:return Ux.H(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Ux.j=function(a){return function(b,c){return Nx(a,b,c)}}(Tx);Ux.l=function(a){return function(b,c,d){return Qx(a,b,c,null,d)}}(Tx);
Ux.H=function(a){return function(b,c,d,e){return Qx(a,b,c,d,e)}}(Tx);Ux.J=4;function Vx(){return(new Date).getTime()}
function Wx(a){return function(b,c){return function(){function d(a){var b=null;if(0<arguments.length){b=0;for(var c=Array(arguments.length-0);b<c.length;)c[b]=arguments[b+0],++b;b=new F(c,0,null)}return e.call(this,b)}function e(d){var e=G(d);if(z(V.j?V.j(e,Pl):V.call(null,e,Pl)))return d=J(d),e=G(d),z(V.j?V.j(e,vk):V.call(null,e,vk))?Hd(b,Z):b.Oc(null,Fe.j(b.Ab(null),d)),null;if(z(V.j?V.j(e,xn):V.call(null,e,xn)))return d=J(d),e=Pf(a,d),b.Oc(null,T.l(b.Ab(null),d,e)),e;e=D.l(C(b),d,c);e===c&&(e=
Pf(a,d),b.Oc(null,T.l(b.Ab(null),d,e)));return e}d.J=0;d.M=function(a){a=E(a);return e(a)};d.w=e;return d}()}(new vg(Z),{})}function Xx(a,b){this.n=a;this.qf=b}function Yx(a,b){this.n=a;this.Ef=b}function Zx(a,b,c){this.pf=a;this.yg=b;this.Gf=c}
var $x=function(a){return function(b){if(Qe(b))return bf(function(a){return function(b,c,f){var d=S(f,0);f=S(f,1);return T.l(b,c,a(d,f))}}(a),Z,b);if(Se(b))return uc.l(function(a,b){return function(c,d){var e=S(d,0),f=S(d,1),l=S(d,2);return T.l(c,function(){return z(l)?l:a.Oc(null,function(){var c=a.Ab(null);return function(){return function(a){return a+1}}(c,l,d,e,f,l,a,b)(c)}())}(),b(e,f))}}(new vg(-1),a),Z,b);throw Tj("No matching `encore/cond!` clause",Z);}}(function(a,b){(function(){try{var b=
ox(a)&&0<a?null:ax}catch(d){if(d instanceof Error)b=d;else throw d;}return null==b?!0:bx(!0,"taoensso.encore",1891,"(pos-int? n)",a,b)})();(function(){try{var a=ox(b)&&0<b?null:ax}catch(d){if(d instanceof Error)a=d;else throw d;}return null==a?!0:bx(!0,"taoensso.encore",1891,"(pos-int? ms)",b,a)})();return new Xx(a,b)});
function ay(a){if(Me(a))return new W(null,2,5,X,[null,mg(null)],null);var b=rg(null),c=rg(null);a=$x(a);return new W(null,2,5,X,[c,function(a,b,c,g){return function(){function a(a,c){if(z(V.j?V.j(a,Gk):V.call(null,a,Gk)))return z(V.j?V.j(c,al):V.call(null,c,al))?sg(b,null):tg.l(b,Fe,c),null;if(z(V.j?V.j(a,Lk):V.call(null,a,Lk)))return g(c,!0);throw Tj("Unrecognized rate limiter command",new v(null,2,[pk,a,El,c],null));}function c(a){return g(a,!1)}function d(){return g(null,!1)}var e=null;e=function(b,
e){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,b);case 2:return a.call(this,b,e)}throw Error("Invalid arity: "+arguments.length);};e.F=d;e.h=c;e.j=a;return e}()}(b,c,a,function(a,b,c){return function(d,e){var f=(new Date).getTime();nc(e)&&6.25E-5>=Math.random()&&(sg(a,null),tg.j(b,function(a,b,c,d,e){return function(f){return xd(bf(function(a,b,c,d,e){return function(f,g,k){k=bf(function(a,b,c,d,e){return function(a,c,d){var f=D.j(e,c);return z(f)?b>=d.Ef+f.qf?Fe.j(a,
c):a:Fe.j(a,c)}}(a,b,c,d,e),k,k);return Me(k)?zd(f,g):yd(f,g,k)}}(a,b,c,d,e),vd(z(f)?f:Z),f))}}(null,f,a,b,c)));for(;;){var g=C(b),k=D.j(g,d),q=null==k?null:bf(function(a,b,c,d,e,f){return function(a,b,d){var e=D.j(f,b);if(z(e)){if(d.n<e.n)return a;d=d.Ef+e.qf-c;return 0>=d?a:null==a?new Zx(Ee([b,d]),b,d):d>a.Gf?new Zx(T.l(a.pf,b,d),b,d):new Zx(T.l(a.pf,b,d),a.yg,a.Gf)}return a}}(g,k,f,a,b,c),null,k);if(z(z(e)?e:q))return e=q,z(e)?(d=e,new W(null,3,5,X,[d.yg,d.Gf,d.pf],null)):null;e=C(a);if(z(e))return null;
f=bf(function(a,b,c,d,e){return function(a,b,d){return T.l(a,b,function(){var a=D.j(c,b);if(z(a)){var f=a.Ef;return e>=f+d.qf?new Yx(1,e):new Yx(a.n+1,f)}return new Yx(1,e)}())}}(e,g,k,q,f,a,b,c),k,c);sg(b,T.l(g,d,f));return null}}}(b,c,a))],null)}
var by=function(){function a(a){return new Cb(a)}function b(){return new Cb}var c=null;c=function(c){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,c)}throw Error("Invalid arity: "+arguments.length);};c.F=b;c.h=a;return c}(),cy=function(){function a(a,b){a=a instanceof Cb?a:by.h(B.h(a));b=B.h(b);return a.append(b)}function b(a){return a instanceof Cb?a:by.h(B.h(a))}function c(){return by.F()}var d=null;d=function(d,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,d);case 2:return a.call(this,d,f)}throw Error("Invalid arity: "+arguments.length);};d.F=c;d.h=b;d.j=a;return d}();function dy(a,b){if(z(z(" ")?Sf(" ",""):" ")){var c=Cg(),d=df(cy,B);return z(a)?ef(ng.j(a,c),d,b):ef(c,d,b)}return z(a)?ef(a,df(cy,B),b):B.h(uc.j(cy,b))}
var ey=function ey(a){switch(arguments.length){case 2:return ey.j(arguments[0],arguments[1]);case 3:return ey.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};ey.j=function(a,b){return a.substring(b)};ey.l=function(a,b,c){return b>=c?"":a.substring(b,c)};ey.J=3;
var fy=function fy(a){switch(arguments.length){case 2:return fy.j(arguments[0],arguments[1]);case 3:return fy.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};fy.j=function(a,b){return rx(a.substr(b))};fy.l=function(a,b,c){return rx(a.substr(b,c))};fy.J=3;function gy(a){return void 0===a||null==a?"nil":a}
function hy(a){return ya(Da("/"))?B.h(uc.l(cy,"",a)):B.h(uc.l(function(a,c,d){return function(b,f){f=B.h(f);var e=K.j(f,""),k=0===f.indexOf(d);var l=f.length;var m=d.length;l=l>=m?Sf(-1,f.indexOf(d,l-m)):null;m=C(a);var p=C(c);Hd(a,l);z(p)&&Hd(c,e);if(z(m))return k?b.append(f.substring(1)):b.append(f);k||z(z(p)?p:e)||b.append(d);return b.append(f)}}(new vg(!1),new vg(!0),"/"),by.F(),a))}
function iy(){function a(){return Math.floor(16*Math.random()).toString(16)}var b=(8|3&Math.floor(16*Math.random())).toString(16);return[B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),"-",B.h(a()),B.h(a()),B.h(a()),B.h(a()),"-4",B.h(a()),B.h(a()),B.h(a()),"-",B.h(b),B.h(a()),B.h(a()),B.h(a()),"-",B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a()),B.h(a())].join("")}
var jy=function jy(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return jy.w(0<c.length?new F(c.slice(0),0,null):null)};
jy.w=function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,cp),d=D.j(b,pp),e=D.j(b,ul),f=D.j(b,Sl),g=D.j(b,Ml),k=D.j(b,cm),l=D.j(b,Yl),m=D.j(b,mo),p=D.j(b,ro);Yw(function(){return function(a){var b=new Di(null,new v(null,9,[ul,null,Ml,null,Sl,null,Yl,null,cm,null,mo,null,ro,null,cp,null,pp,null],null),null);b=b.h?b.h(a):b.call(null,a);return z(b)?!0:bx(!0,"taoensso.encore",2394,"(#{:msecs :secs :months :days :mins :hours :years :ms :weeks} __in)",a,null)}}(a,b,b,c,d,e,f,g,k,l,m,p),xh(b));
return Math.round((z(p)?31536E6*p:0)+(z(f)?2551392E3*f:0)+(z(d)?6048E5*d:0)+(z(l)?864E5*l:0)+(z(m)?36E5*m:0)+(z(k)?6E4*k:0)+(z(g)?1E3*g:0)+(z(e)?e:0)+(z(c)?c:0))};jy.J=0;jy.M=function(a){return this.w(E(a))};ng.j(function(a){return kf(jf(a),1E3)},jy);var ky=new nj(function(){return new uv});function ly(){var a=C(ky).me();return void 0===a?null:a}
var my="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},ny="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},oy=function(){var a=function(){function a(a,b){b=d.h(b);a=ya(Da(b))?a:[B.h(a),"?",B.h(b)].join("");return new W(null,2,5,X,[a,null],null)}function c(a){if(E(a)){var b=new gb(vj(a));a=bb(b);if("undefined"==typeof a)throw Error("Keys are undefined");var c=new mb(null,void 0);b=ab(b);for(var d=0;d<a.length;d++){var e=
a[d],m=b[d];if(ha(m)){var p=c;p.remove(e);0<m.length&&(p.Sb=null,p.Ua.set(ob(p,e),Ta(m)),p.Ba+=m.length)}else c.add(e,m)}a=c.toString()}else a=null;return a}var d=null;d=function(b,d){switch(arguments.length){case 1:return c.call(this,b);case 2:return a.call(this,b,d)}throw Error("Invalid arity: "+arguments.length);};d.h=c;d.j=a;return d}();return function(a,c){return function(b,e,f){z(function(){return function(){return function(a){var b=null==a;if(b)return b;b=$w(Qe);b=b.h?b.h(a):b.call(null,a);
if(z(b))return b;b=$w(my);return b.h?b.h(a):b.call(null,a)}}(a,c)(f)}())||bx(!0,"taoensso.encore",2714,"([:or nil? map? js-form-data?] params)",f,null);e=e instanceof U?e.Ma:null;switch(e){case "get":return a.j(b,f);case "post":return c(b,f);case "put":return c(b,f);default:throw Error(["No matching clause: ",B.h(e)].join(""));}}}(a,function(a){return function(b,d){if(z(my.h?my.h(d):my.call(null,d)))return new W(null,2,5,X,[b,d],null);try{var c=Qe(d)?null:ax}catch(p){if(p instanceof Error)c=p;else throw p;
}null!=c&&bx(!0,"taoensso.encore",2702,"(map? params)",d,c);c=(c="undefined"!==typeof FormData)?vx(ny,yh(d)):c;if(z(c)){c=new FormData;d=E(d);for(var f=null,g=0,k=0;;)if(k<g){var l=f.P(null,k),m=S(l,0);l=S(l,1);c.append(vf(m),l);k+=1}else if(d=E(d))Te(d)?(g=Bd(d),d=Cd(d),f=g,g=N(g)):(g=G(d),f=S(g,0),g=S(g,1),c.append(vf(f),g),d=J(d),f=null,g=0),k=0;else break;return new W(null,2,5,X,[b,c],null)}return new W(null,2,5,X,[b,a.h(d)],null)}}(a))}();
function py(a,b,c){var d=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b,e=D.l(d,bl,wk),f=D.j(d,Ul),g=D.j(d,Om),k=D.l(d,wp,1E4),l=D.l(d,Mo,mp),m=D.j(d,en);z(function(){return function(){return function(a){var b=null==a;if(b)return b;b=$w(px);return b.h?b.h(a):b.call(null,a)}}(b,d,d,e,f,g,k,l,m)(k)}())||bx(!0,"taoensso.encore",2746,"([:or nil? nat-int?] timeout-ms)",k,null);var p=ly();if(z(p))try{var q=function(){var a=Lo.h(d);return z(a)?a:k}(),t=function(){var a=e instanceof U?e.Ma:null;switch(a){case "get":return"GET";
case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",B.h(a)].join(""));}}(),u=oy.l?oy.l(a,e,f):oy.call(null,a,e,f),w=S(u,0),x=S(u,1),y=function(){var a=nx(function(){return function(a){return vf(a).toLowerCase()}}(q,t,u,w,x,p,p,b,d,d,e,f,g,k,l,m),g);a=Bx(a,D.l(a,"x-requested-with","XMLHTTPRequest"));return vj(a)}(),L=function(){var a=$m.h(d);return z(a)?(p.ng=!0,eu(p,"progress",function(a,b,c){return function(a){var b=a.lengthComputable,d=a.loaded,e=a.total,
f=z(z(b)?Sf(e,0):b)?d/e:null;a=new v(null,5,[ik,f,gp,b,Ol,d,dn,e,Hk,a],null);return c.h?c.h(a):c.call(null,a)}}(p,"progress",a,a,q,t,u,w,x,y,p,p,b,d,d,e,f,g,k,l,m))):null}();fu(p,"ready",function(a,b,c,d,e,f,g,k,l,m,p){return function(){return ov(C(ky),p)}}(p,"ready",p,q,t,u,w,x,y,L,p,p,b,d,d,e,f,g,k,l,m));fu(p,"complete",function(a,b,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,fb,ub,Db,gc){return function(H){var I=dv(q),P=cv(q),Q=Sf(P,-1)?function(){var c=q.getResponseHeader("content-type"),H=function(){var H=
Sf(Db,mp)?Db:null==c?Ip:function(){var H=function(a){return function(b){return Sf(-1,a.indexOf(b))}}(B.h(c).toLowerCase(),c,I,P,a,b,d,e,f,g,k,l,m,p,q,t,u,w,x,y,L,fb,ub,Db,gc);return z(H("/edn"))?Qn:z(H("/json"))?Io:z(H("/xml"))?dp:Ip}();try{var Q=H instanceof U?H.Ma:null;switch(Q){case "edn":return mx(fv(q));case "json":return gv(q);case "xml":try{var da=q.Z?q.Z.responseXML:null}catch(jl){Iu(q.Mb,"Can not get responseXML: "+jl.message),da=null}return da;case "text":return fv(q);default:throw Error(["No matching clause: ",
B.h(Q)].join(""));}}catch(jl){if(jl instanceof Error)return new v(null,2,[ko,H,nn,fv(q)],null);throw jl;}}();return new W(null,3,5,X,[P,c,H],null)}():null,da=S(Q,0),ma=S(Q,1);Q=S(Q,2);z(p)&&nu(p);H=new v(null,7,[Tn,H,op,q,fp,I,Bo,da,eo,ma,Pk,Q,zp,z(I)?null:z(da)?da:D.l(Ee([0,null,5,Co,6,Km,7,Em,8,Lo]),q.ld,Uk)],null);return c.h?c.h(H):c.call(null,H)}}(p,"complete",p,q,t,u,w,x,y,L,p,p,b,d,d,e,f,g,k,l,m));p.rd=Math.max(0,z(q)?q:0);z(m)&&(p.sd=!0);p.send(w,t,x,y);return p}catch(H){if(H instanceof Error)return a=
H,ov(C(ky),p),a=new v(null,1,[zp,a],null),c.h?c.h(a):c.call(null,a),null;throw H;}else return a=new v(null,1,[zp,hl],null),c.h?c.h(a):c.call(null,a),null}function qy(a){return z(a)?Tp(Tp(encodeURIComponent(B.h(a),a),"*","%2A"),"'","%27"):null}function ry(a,b){S(b,0);return z(a)?decodeURIComponent(a):null}
function sy(a){function b(a,b){return[B.h(qy(tx(a))),"\x3d",B.h(qy(function(){var a=qx(b);return z(a)?a:B.h(b)}()))].join("")}var c=function(){return function(a){return Up("\x26",a)}}(b);return Me(a)?"":c(function(){return function(a,b){return function k(c){return new wf(null,function(a,b){return function(){for(var d=c;;)if(d=E(d)){if(Te(d)){var e=Bd(d),g=N(e),l=Af(g);return function(){for(var c=0;;)if(c<g){var d=Fc.j(e,c),k=S(d,0),m=S(d,1);if(null!=m){d=l;if(Pe(m)){var p=Eg;k=og.j(a,k);m=E(m);p=
b(p(k,m?m:new W(null,1,5,X,[""],null)))}else p=a(k,m);d.add(p)}c+=1}else return!0}()?Cf(l.yb(),k(Cd(d))):Cf(l.yb(),null)}var m=G(d),x=S(m,0),y=S(m,1);if(null!=y)return xe(Pe(y)?b(Eg(og.j(a,x),function(){var a=E(y);return a?a:new W(null,1,5,X,[""],null)}())):a(x,y),k(Zd(d)));d=Zd(d)}else return null}}(a,b),null,null)}}(b,c)(a)}())}function ty(a,b,c){return T.l(a,b,function(){var d=D.j(a,b);return z(d)?Se(d)?Ae.j(d,c):new W(null,2,5,X,[d,c],null):c}())}
function uy(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return vy(arguments[0],1<b.length?new F(b.slice(1),0,null):null)}function vy(a,b){var c=S(b,0),d=S(b,1);if(ya(Da(a))||!Sf(-1,a.indexOf("\x3d")))return Z;a=0===a.indexOf("?")?a.substring(1):a;b=uc.l(function(a,b,c,d){return function(a,b){var c=Xp(b,/=/,2);return z(c)?(b=S(c,0),c=S(c,1),ty(a,ry(b,R([d])),ry(c,R([d])))):a}}(a,b,c,d),Z,Wp(a,/&/));return z(c)?nx(uf,b):b}
function wy(a,b){var c=Xp(B.h(a),/\?/,2);a=S(c,0);c=S(c,1);b=Kx(R([z(c)?nx(uf,uy(c)):null,nx(uf,b)]));b=sy(b);b="string"===typeof b?ya(Da(b))?null:b:null;return z(b)?[B.h(a),"?",B.h(b)].join(""):a}
(function(a){return function(b){if(!Ge(b))throw Tj("Unstub value must be a fn",new v(null,2,[pk,b,am,pc(b)],null));return Hd(a,b)}})(function(a){return new vg(function(){function b(a){var b=null;if(0<arguments.length){b=0;for(var d=Array(arguments.length-0);b<d.length;)d[b]=arguments[b+0],++b;b=new F(d,0,null)}return c.call(this,b)}function c(b){throw Tj(["Attempting to call uninitialized stub fn (",B.h(a),")"].join(""),new v(null,2,[Jm,a,Yj,b],null));}b.J=0;b.M=function(a){a=E(a);return c(a)};b.w=
c;return b}())}("stub-test"))(cf);
var xy=function(a){return function(){function b(b,c){var d=E(b)?function(){var c=Eg(a,b),d=E(c),e=G(d),f=J(d);return f?function(a,b,c,d,e,f,g,k){return function(l){return vx(function(){return function(a){return a.h?a.h(l):a.call(null,l)}}(a,b,c,d,e,f,g,k),a)}}(c,c,d,e,f,e,f,a):function(a,b,c,d,e,f){return function(a){return f.h?f.h(a):f.call(null,a)}}(c,c,d,e,f,e,f,a)}():null,e=E(c)?function(){var b=Eg(a,c),e=E(b),f=G(e),g=J(e);return g?function(a,b,c,d,e,f,g,k,l){return function(m){return nc(vx(function(){return function(a){return a.h?a.h(m):
a.call(null,m)}}(a,b,c,d,e,f,g,k,l),a))}}(b,b,e,f,g,f,g,d,a):function(a,b,c,d,e,f){return function(a){return nc(f.h?f.h(a):f.call(null,a))}}(b,b,e,f,g,f,g,d,a)}():null;return z(z(d)?e:d)?function(a,b){return function(c){c=B.h(c);return z(a.h?a.h(c):a.call(null,c))?z(b.h?b.h(c):b.call(null,c))?!0:null:null}}(d,e,a):z(d)?function(a){return function(b){b=B.h(b);b=a.h?a.h(b):a.call(null,b);return z(b)?!0:null}}(d,e,a):z(e)?function(a,b){return function(a){a=B.h(a);a=b.h?b.h(a):b.call(null,a);return z(a)?
!0:null}}(d,e,a):function(){return function(){return!0}}(d,e,a)}function c(b){return Qe(b)?d.j(bp.h(b),jn.h(b)):Se(b)||Oe(b)?d.j(b,null):K.j(b,"*")?function(){return function(){return!0}}(b,a):function(a){return function(b){b=B.h(b);b=a.h?a.h(b):a.call(null,b);return z(b)?!0:null}}(a(b),b,a)}var d=null;d=function(a,d){switch(arguments.length){case 1:return c.call(this,a);case 2:return b.call(this,a,d)}throw Error("Invalid arity: "+arguments.length);};d.h=c;d.j=b;return d}()}(function(a){if(a instanceof
RegExp)return function(b){return Si(a,b)};if("string"===typeof a)return Sf(-1,a.indexOf("*"))?function(a){return function(b){return Si(a,b)}}(Ui(Tp(Tp(["^",B.h(a),"$"].join(""),".","\\."),"*","(.*)"))):function(b){return K.j(b,a)};throw Tj("Unexpected ns-pattern type",new v(null,2,[pk,a,am,pc(a)],null));});function yy(){}if("undefined"===typeof Xw||"undefined"===typeof kx||"undefined"===typeof zy)var zy=new nj(function(){return new yy});ng.j(Tf,Dx);ng.j(Tf,Ex);ng.j(rx,ey);ng.j(rx,fy);
if("undefined"===typeof Xw||"undefined"===typeof kx||"undefined"===typeof Ay)var Ay=fm;var By={};function Cy(){}var Dy=function Dy(a,b){if(null!=a&&null!=a.Cf)return a.Cf(a,b);var d=Dy[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Dy._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IPacker.pack",a);},Ey=function Ey(a,b){if(null!=a&&null!=a.Df)return a.Df(a,b);var d=Ey[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=Ey._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IPacker.unpack",a);};var Fy={};function Gy(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;return Hy(0<b.length?new F(b.slice(0),0,null):null)}
function Hy(a){var b=S(a,0);return new v(null,6,[Lm,!0,up,!1,vo,null,Sk,null,mn,rk,Ck,"undefined"!==typeof console?function(){return function(a){return function(b){var c=a(Vm.h(b));if(z(c)){if(z(function(){var a=So.h(b);return z(a)?a:Gg(b,new W(null,2,5,X,[Xo,So],null))}())){var d=function(){var a=T.w(b,kl,"",R([vn,null])),c=mn.h(b);return c.h?c.h(a):c.call(null,a)}(),g=function(){var a=Yk.h(b),c=vn.h(b);return z(c)?xe(d,xe(c,a)):xe(d,a)}();return c.apply(console,tc(g))}return c.call(console,rj(il.h(b)))}return null}}(function(){return function(a){var b=
function(){var b=a instanceof U?a.Ma:null;switch(b){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",B.h(b)].join(""));}}();return z(b)?b:console.log}}(a,b),a,b)}():function(){return function(){return null}}(a,b)],null)};Se(lx)?Ax(new W(null,3,5,X,[2,87,0],null)):Ax(2.87);var Iy=function Iy(a){switch(arguments.length){case 1:return Iy.h(arguments[0]);case 2:return Iy.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};Iy.h=function(a){return Iy.j(null,a)};
Iy.j=function(a,b){var c=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,d=D.j(c,$n);D.j(c,Yn);var e=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b;b=D.j(e,Vm);c=D.j(e,vn);var f=D.j(e,kl),g=D.j(e,Am),k=D.j(e,Wl);D.j(e,lm);D.j(e,io);e=D.j(e,qo);return[B.h(vf(b).toUpperCase())," [",B.h(z(g)?g:z(k)?k:"?"),":",B.h(z(e)?e:"?"),"] - ",B.h(rj(f)),B.h(z(d)?null:z(c)?["\n",B.h(Jy?Jy(c,a):Ky.call(null,c,a))].join(""):null)].join("")};Iy.J=2;var Ly=Be,My=Be,Ny=Be,Oy,Py=Z;Oy=Gy.h?Gy.h(Py):Gy.call(null,Py);
var Qy=new v(null,6,[Vm,fm,qk,Ly,Nk,My,Sm,Ny,mn,Iy,Ap,new v(null,1,[Do,Oy],null)],null);if("undefined"===typeof Xw||"undefined"===typeof Fy||"undefined"===typeof Ry)var Ry=Qy;function Sy(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;Ry=Qf(arguments[0],Ry,1<b.length?new F(b.slice(1),0,null):null)}function Ty(){Sy(function(a){return T.l(a,Vm,Un)})}
var Uy=Hi(new W(null,7,5,X,[zl,fm,Un,rl,zo,Tm,sk],null)),Vy=Ii(new W(null,7,5,X,[zl,fm,Un,rl,zo,Tm,sk],null),J(new Mi(null,0,Number.MAX_VALUE,1,null)));function Wy(a){var b=Uy.h?Uy.h(a):Uy.call(null,a);if(z(b))return b;throw Tj("Invalid Timbre logging level",new v(null,1,[pk,a],null));}function Xy(a,b){return function(){var b=Wy(a);return Vy.h?Vy.h(b):Vy.call(null,b)}()>=function(){var a=Wy(b);return Vy.h?Vy.h(a):Vy.call(null,a)}()}
var Yy=Wx(xy),Zy=Wx(function(a,b,c){a=Yy.j?Yy.j(a,b):Yy.call(null,a,b);return a.h?a.h(c):a.call(null,c)});function $y(a,b,c){c=z(c)?c:Ry;var d=D.l(c,Vm,sk);if(a=Xy(a,d))a=D.j(c,qk),c=D.j(c,Nk),b=Zy.l?Zy.l(a,c,b):Zy.call(null,a,c,b),a=Xe(b);return a&&!0}function az(a){return dy(wg.h(function(a){a=gy(a);return Re(a)?gj(R([a])):a}),a)}if("undefined"===typeof Xw||"undefined"===typeof Fy||"undefined"===typeof bz)var bz=Wx(function(a,b){a=ay(b);S(a,0);return S(a,1)});
function cz(a){return 1<N(a)?gh(a,1,N(a)):Be}function dz(a){var b=V.j?V.j(mp,mp):V.call(null,mp,mp),c=V.j?V.j(yo,yo):V.call(null,yo,yo),d=S(a,0);if(z(z(b)?d instanceof Error:b)){var e=d,f=null,g=cz(a);a=z(c)?S(g,0):null;c=z(c)?cz(g):g;return new W(null,4,5,X,[e,f,a,c],null)}f=z(function(){var a=Qe(d);return a?ic.h(Ke(d)):a}())?d:null;e=function(){var a=Tl.h(f);return z(a)?a:z(b)?null:mp}();var k=Fe.j(f,Tl);g=z(k)?cz(a):a;a=z(c)?S(g,0):null;c=z(c)?cz(g):g;return new W(null,4,5,X,[e,k,a,c],null)}
function ez(a,b,c,d,e){var f=Ry;if($y(a,b,f)){var g=new Date;d=C(d);var k=dz(d),l=S(k,0),m=S(k,1),p=S(k,2),q=S(k,3),t=Ae.j(z(null)?null:Z,$h([Ok,Xk,Yk,Wl,om,Am,Vm,vn,jo,qo,Jo,Xo,sp],[g,f,q,"/tmp/form-init6478982183694000903.clj",function(){var b=new Di(null,new v(null,2,[Tm,null,zo,null],null),null);return b.h?b.h(a):b.call(null,a)}(),b,a,l,null,c,new nj(function(a,b,c,d,e){return function(){return e}}(g,null,d,k,l,m,p,q)),m,p])),u=uc.l(function(){return function(a,b){a=b.h?b.h(a):b.call(null,a);
return null==a?new je(null):a}}(g,null,d,k,l,m,p,q,t),t,Sm.h(f));if(z(u)){var w=null!=u&&(u.v&64||r===u.ha)?Pf(ri,u):u,x=D.j(w,Yk),y=T.l(u,Gn,new nj(function(a,b,c){return function(){return c}}(u,w,x,u,u,g,null,d,k,l,m,p,q,t,u))),L=Cx.w(y,kl,new nj(function(d,e,f,g,k,l,m,p,q,t,u,w,x){return function(){if(K.j(null,yo))return"";if(K.j(np,yo))return az(f);if(K.j(yo,yo)){if("string"!==typeof x)throw Tj("Timbre format-style logging call without a format pattern (string)",new v(null,2,[Vm,a,ep,[B.h(z(b)?
b:z("/tmp/form-init6478982183694000903.clj")?"/tmp/form-init6478982183694000903.clj":"?"),":",B.h(z(c)?c:"?")].join("")],null));var d=z(x)?x:"",e=Eg(gy,f);return Qf(cx,d,e)}throw Error(["No matching clause: ",B.h(yo)].join(""));}}(u,w,x,y,u,u,g,null,d,k,l,m,p,q,t,u)),R([Ik,new nj(function(a,b,c,d,f,g,k,l,m,p,q,t,u){return function(){return Ud(new W(null,3,5,X,[e,u,D.l(t,Dk,c)],null))}}(u,w,x,y,u,u,g,null,d,k,l,m,p,q,t,u))])),H=Wx(D.l(f,mn,Iy));bf(function(c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,H,L,ub){return function(I,
Q,P){if(z(function(){var b=Lm.h(P);z(b)&&(b=vo.h(P),b=Xy(a,z(b)?b:zl));return b}())&&z(function(){var a=qk.h(P),c=Nk.h(P);return Zy.l?Zy.l(a,c,b):Zy.call(null,a,c,b)}())){var da=Sk.h(P),ma=function(){var a=Me(da);if(a)return a;a=bz.j?bz.j(Q,da):bz.call(null,Q,da);var b=rj(Ik.h(g));a=a.h?a.h(b):a.call(null,b);return nc(a)}();if(ma){var Y=null!=P&&(P.v&64||r===P.ha)?Pf(ri,P):P;I=D.j(Y,Ck);var wa=D.j(Y,up),ca=function(){var a=mn.h(P);var b=(b=null==a)?b:V.j?V.j(a,rk):V.call(null,a,rk);return z(b)?k:
a}(),ua=Ae.j(g,new v(null,4,[um,Q,tm,P,mn,ca,il,new nj(function(a,b,c,d,e,f,g,k,l,m,p,q){return function(){return e.h?e.h(q):e.call(null,q)}}(P,Y,I,wa,ca,da,ma,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y,H,L,ub))],null));ma=function(){var a=ll.h(P);return z(a)?a.h?a.h(ua):a.call(null,ua):ua}();return z(ma)?I.h?I.h(ma):I.call(null,ma):null}}return null}}(u,w,x,y,L,H,u,u,g,null,d,k,l,m,p,q,t,u),null,Ap.h(f))}}return null}
function Ky(a){switch(arguments.length){case 1:return Jy(arguments[0],null);case 2:return Jy(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}}function Jy(a){return B.h(a)};Se(lx)?Ax(new W(null,3,5,X,[2,79,1],null)):Ax(2.79);var fz=K.j("default","nodejs");if("undefined"===typeof Xw||"undefined"===typeof By||"undefined"===typeof gz)var gz=rg(!1);function hz(a,b){return new v(null,2,[Nn,a,$o,new v(null,2,[am,pc(b),Dl,b],null)],null)}
function iz(a){if(Se(a)){var b=N(a);var c=new Di(null,new v(null,2,[1,null,2,null],null),null);b=c.h?c.h(b):c.call(null,b);if(nc(b))return new v(null,1,[Go,hz(new Di(null,new v(null,2,[1,null,2,null],null),null),a)],null);b=S(a,0);S(a,1);return b instanceof U?nc(tf(b))?new v(null,1,[em,hz(Kp,b)],null):null:new v(null,1,[Vk,hz(wn,b)],null)}return new v(null,1,[pn,hz(ym,a)],null)}function jz(a){var b=iz(a);if(z(b))throw Tj("Invalid event",new v(null,2,[pk,a,lk,b],null));}
function kz(a,b){"string"!==typeof b&&bx(!0,"taoensso.sente",201,"(string? prefixed-pstr)",b,null);var c=0===b.indexOf("+"),d=b.substring(1),e=function(){try{return Ey(a,d)}catch(m){return ez(fm,"taoensso.sente",208,new nj(function(a,b,c){return function(){return new W(null,3,5,X,["Bad package: %s (%s)",c,a],null)}}(m,c,d)),-782568417),new W(null,2,5,X,[Im,d],null)}}(),f=c?e:new W(null,2,5,X,[e,null],null),g=S(f,0),k=S(f,1),l=K.j(0,k)?Dp:k;ez(zl,"taoensso.sente",214,new nj(function(a,c,d,e,f,g,k){return function(){return new W(null,
3,5,X,["Unpacking: %s -\x3e %s",b,new W(null,2,5,X,[f,k],null)],null)}}(c,d,e,f,g,k,l)),-1815662978);return new W(null,2,5,X,[g,l],null)}function lz(a,b,c){c=K.j(c,Dp)?0:c;b=z(c)?new W(null,2,5,X,[b,c],null):new W(null,1,5,X,[b],null);a=["+",B.h(Dy(a,b))].join("");ez(zl,"taoensso.sente",230,new nj(function(a,b,c){return function(){return new W(null,3,5,X,["Packing (wrapped): %s -\x3e %s",b,c],null)}}(c,b,a)),1201660476);return a}function mz(){}mz.prototype.wg=r;
mz.prototype.Cf=function(a,b){a:{a=cc;var c=bc;bc=cc=null;try{var d=gj(R([b]));break a}finally{bc=c,cc=a}d=void 0}return d};mz.prototype.Df=function(a,b){return mx(b)};var nz=new mz;function oz(a){if(K.j(a,Qn))return nz;try{var b=null!=a?r===a.wg?!0:a.ie?!1:oc(Cy,a):oc(Cy,a);var c=z(b)?null:ax}catch(d){if(d instanceof Error)c=d;else throw d;}return null==c?a:bx(!0,"taoensso.sente",243,"((fn* [p1__46179#] (satisfies? interfaces/IPacker p1__46179#)) x)",a,c)}wx();
var pz=function pz(a){if(null!=a&&null!=a.qd)return a.qd(a);var c=pz[n(null==a?null:a)];if(null!=c)return c.h?c.h(a):c.call(null,a);c=pz._;if(null!=c)return c.h?c.h(a):c.call(null,a);throw A("IChSocket.-chsk-connect!",a);},qz=function qz(a,b){if(null!=a&&null!=a.ye)return a.ye(a,b);var d=qz[n(null==a?null:a)];if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);d=qz._;if(null!=d)return d.j?d.j(a,b):d.call(null,a,b);throw A("IChSocket.-chsk-disconnect!",a);},rz=function rz(a,b,c){if(null!=a&&null!=a.Vd)return a.Vd(a,
b,c);var e=rz[n(null==a?null:a)];if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);e=rz._;if(null!=e)return e.l?e.l(a,b,c):e.call(null,a,b,c);throw A("IChSocket.-chsk-send!",a);},sz=function sz(a){switch(arguments.length){case 2:return sz.j(arguments[0],arguments[1]);case 4:return sz.H(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return sz.l(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.h(arguments.length)].join(""));}};
sz.j=function(a,b){return sz.l(a,b,Z)};sz.H=function(a,b,c,d){return sz.l(a,b,new v(null,2,[wp,c,jk,d],null))};sz.l=function(a,b,c){ez(zl,"taoensso.sente",773,new nj(function(){return new W(null,3,5,X,["Chsk send: (%s) %s",T.l(c,jk,Xe(jk.h(c))),b],null)}),-1683783648);return rz(a,b,c)};sz.J=4;function tz(a){ez(rl,"taoensso.sente",778,new nj(function(){return new W(null,1,5,X,["Chsk send against closed chsk."],null)}),-2032060526);z(a)&&(a.h?a.h(Xj):a.call(null,Xj));return!1}
function uz(a,b,c){jz(a);if(!(null==b&&null==c||px(b)))throw Error(["Assert failed: ",B.h(["cb requires a timeout; timeout-ms should be a +ive integer: ",B.h(b)].join("")),"\n(or (and (nil? ?timeout-ms) (nil? ?cb)) (and (enc/nat-int? ?timeout-ms)))"].join(""));if(null==c||Ye(c)||c instanceof Rs)return null;throw Error(["Assert failed: ",B.h(["cb should be nil, an ifn, or a channel: ",B.h(pc(c))].join("")),"\n(or (nil? ?cb) (ifn? ?cb) (enc/chan? ?cb))"].join(""));}
function vz(a,b){return z(b)?Sx.l(a,new W(null,1,5,X,[b],null),function(){return function(a){return new Lx(Jl,a)}}(b,b)):null}function wz(a,b){var c=Sx.j(Cp.h(a),function(a){var c=b.h?b.h(a):b.call(null,a);c=z(nk.h(a))?T.l(c,nk,!1):c;c=z(Kn.h(c))?Fe.j(c,Vl):c;return new Lx(c,new W(null,2,5,X,[a,c],null))}),d=S(c,0);c=S(c,1);return Sf(d,c)?(d=new W(null,2,5,X,[d,c],null),nt(Gg(a,new W(null,2,5,X,[ql,im],null)),new W(null,2,5,X,[dm,d],null)),d):null}
function xz(a,b){try{var c=Qe(a)?null:ax}catch(d){if(d instanceof Error)c=d;else throw d;}null!=c&&bx(!0,"taoensso.sente",825,"(map? state)",a,c);c=function(){try{var a=new Di(null,new v(null,4,[ek,null,Wm,null,Ao,null,Ro,null],null),null);var c=Hi.h?Hi.h(a):Hi.call(null,a);var f=Ze(c,b);return z(f)?null:ax}catch(g){if(g instanceof Error)return g;throw g;}}();null!=c&&bx(!0,"taoensso.sente",826,"([:el #{:requested-disconnect :downgrading-ws-to-ajax :unexpected :requested-reconnect}] reason)",b,c);
return z(function(){var c=Kn.h(a);return z(c)?c:Sf(b,Ao)}())?T.w(Fe.j(a,Vl),Kn,!1,R([No,new v(null,2,[Gm,Vx(),an,b],null)])):a}function yz(a,b){if(null==a||Ye(a))return a;try{var c=a instanceof Rs?null:ax}catch(e){if(e instanceof Error)c=e;else throw e;}null!=c&&bx(!0,"taoensso.sente",847,"(enc/chan? ?cb)",a,c);jz(b);c=S(b,0);var d=S(b,1);return function(a,b,c,d){return function(a){return nt(d,new W(null,2,5,X,[uf.h([B.h(tx(b)),".cb"].join("")),a],null))}}(b,c,d,a)}
function zz(a,b){ez(zl,"taoensso.sente",858,new nj(function(){return new W(null,2,5,X,["receive-buffered-evs!: %s",b],null)}),1603382693);var c=Se(b)?b:bx(!0,"taoensso.sente",859,"(vector? clj)",b,null);c=E(c);for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f);jz(g);var k=S(g,0);if(!Sf(tf(k),"chsk"))throw Error('Assert failed: (not\x3d (namespace id) "chsk")');nt(Fp.h(a),g);f+=1}else if(c=E(c)){if(Te(c))d=Bd(c),c=Cd(c),g=d,e=N(d),d=g;else{g=G(c);jz(g);d=S(g,0);if(!Sf(tf(d),"chsk"))throw Error('Assert failed: (not\x3d (namespace id) "chsk")');
nt(Fp.h(a),g);c=J(c);d=null;e=0}f=0}else return null}function Az(a){var b=Se(a);return b?(a=S(a,0),K.j(a,xp)):b}
function Bz(a,b,c){var d=function(){try{var b=new Di(null,new v(null,2,[tk,null,km,null],null),null);var c=Hi.h?Hi.h(b):Hi.call(null,b);var d=Ze(c,a);return z(d)?null:ax}catch(L){if(L instanceof Error)return L;throw L;}}();null!=d&&bx(!0,"taoensso.sente",873,"([:el #{:ws :ajax}] chsk-type)",a,d);try{var e=Az(c)?null:ax}catch(w){if(w instanceof Error)e=w;else throw w;}null!=e&&bx(!0,"taoensso.sente",874,"(handshake? clj)",c,e);ez(zl,"taoensso.sente",875,new nj(function(){return new W(null,3,5,X,["receive-handshake! (%s): %s",
a,c],null)}),1649848037);d=S(c,0);e=S(c,1);var f=S(e,0),g=S(e,1),k=S(e,2),l=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b,m=D.j(l,ql),p=D.j(l,dk),q=ug(p),t=new v(null,7,[am,a,Kn,!0,Dn,!0,ml,f,wo,g,Xm,k,nk,q],null),u=new W(null,2,5,X,[xp,new W(null,4,5,X,[f,g,k,q],null)],null);jz(u);ya(Da(g))&&ez(rl,"taoensso.sente",894,new nj(function(){return function(){return new W(null,1,5,X,["SECURITY WARNING: no CSRF token available for use by Sente"],null)}}(c,d,e,f,g,k,b,l,m,p,q,t,u)),1661466748);wz(b,function(a,
b,c,d,e,f,g,k,l,m,p,q){return function(a){return wi.w(R([a,q]))}}(c,d,e,f,g,k,b,l,m,p,q,t,u));nt(Pm.h(m),u)}var Cz=new nj(function(){if(fz&&"undefined"!==typeof require)try{return require("websocket")}catch(a){return null}else return null});function Dz(a,b,c,d,e,f,g,k,l,m,p,q,t,u,w,x,y){this.Y=a;this.W=b;this.params=c;this.U=d;this.url=e;this.Ra=f;this.O=g;this.S=k;this.Ha=l;this.da=m;this.R=p;this.Aa=q;this.Ia=t;this.Da=u;this.V=w;this.L=x;this.G=y;this.v=2230716170;this.K=139264}h=Dz.prototype;
h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){switch(b instanceof U?b.Ma:null){case "client-id":return this.Y;case "chs":return this.W;case "params":return this.params;case "packer":return this.U;case "url":return this.url;case "ws-kalive-ms":return this.Ra;case "state_":return this.O;case "instance-handle_":return this.S;case "retry-count_":return this.Ha;case "ever-opened?_":return this.da;case "backoff-ms-fn":return this.R;case "cbs-waiting_":return this.Aa;case "socket_":return this.Ia;case "udt-last-comms_":return this.Da;
default:return D.l(this.L,b,c)}};h.oc=function(a,b,c){return uc.l(function(){return function(a,c){var d=S(c,0);c=S(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};
h.T=function(a,b,c){return Vi(b,function(){return function(a){return Vi(b,bj,""," ","",c,a)}}(this),"#taoensso.sente.ChWebSocket{",", ","}",c,Hf.j(new W(null,14,5,X,[new W(null,2,5,X,[Ek,this.Y],null),new W(null,2,5,X,[ql,this.W],null),new W(null,2,5,X,[Ul,this.params],null),new W(null,2,5,X,[pl,this.U],null),new W(null,2,5,X,[Wn,this.url],null),new W(null,2,5,X,[bk,this.Ra],null),new W(null,2,5,X,[Cp,this.O],null),new W(null,2,5,X,[to,this.S],null),new W(null,2,5,X,[pm,this.Ha],null),new W(null,
2,5,X,[dk,this.da],null),new W(null,2,5,X,[ln,this.R],null),new W(null,2,5,X,[Vo,this.Aa],null),new W(null,2,5,X,[An,this.Ia],null),new W(null,2,5,X,[Al,this.Da],null)],null),this.L))};h.sb=function(){return new rh(this,14,new W(null,14,5,X,[Ek,ql,Ul,pl,Wn,bk,Cp,to,pm,dk,ln,Vo,An,Al],null),z(this.L)?Jd(this.L):Uf())};h.ca=function(){return this.V};
h.rb=function(){return new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,this.G)};h.ka=function(){return 14+N(this.L)};h.aa=function(){var a=this,b=this.G;if(null!=b)return b;var c=function(){return function(){return function(a){return 1998688700^ge(a)}}(b,a)(a)}();return this.G=c};
h.I=function(a,b){return null!=b&&this.constructor===b.constructor&&K.j(this.Y,b.Y)&&K.j(this.W,b.W)&&K.j(this.params,b.params)&&K.j(this.U,b.U)&&K.j(this.url,b.url)&&K.j(this.Ra,b.Ra)&&K.j(this.O,b.O)&&K.j(this.S,b.S)&&K.j(this.Ha,b.Ha)&&K.j(this.da,b.da)&&K.j(this.R,b.R)&&K.j(this.Aa,b.Aa)&&K.j(this.Ia,b.Ia)&&K.j(this.Da,b.Da)&&K.j(this.L,b.L)};
h.Mc=function(a,b){return Ze(new Di(null,new v(null,14,[bk,null,dk,null,Ek,null,pl,null,ql,null,Al,null,Ul,null,pm,null,ln,null,An,null,Wn,null,to,null,Vo,null,Cp,null],null),null),b)?Fe.j(ad(Dg.j(Z,this),this.V),b):new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,Tf(Fe.j(this.L,b)),null)};
h.Va=function(a,b,c){return z(V.j?V.j(Ek,b):V.call(null,Ek,b))?new Dz(c,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(ql,b):V.call(null,ql,b))?new Dz(this.Y,c,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(Ul,b):V.call(null,Ul,b))?new Dz(this.Y,this.W,c,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,
this.V,this.L,null):z(V.j?V.j(pl,b):V.call(null,pl,b))?new Dz(this.Y,this.W,this.params,c,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(Wn,b):V.call(null,Wn,b))?new Dz(this.Y,this.W,this.params,this.U,c,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(bk,b):V.call(null,bk,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,c,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,
this.V,this.L,null):z(V.j?V.j(Cp,b):V.call(null,Cp,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,c,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(to,b):V.call(null,to,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,c,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(pm,b):V.call(null,pm,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,c,this.da,this.R,this.Aa,this.Ia,this.Da,
this.V,this.L,null):z(V.j?V.j(dk,b):V.call(null,dk,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,c,this.R,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(ln,b):V.call(null,ln,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,c,this.Aa,this.Ia,this.Da,this.V,this.L,null):z(V.j?V.j(Vo,b):V.call(null,Vo,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,c,this.Ia,this.Da,
this.V,this.L,null):z(V.j?V.j(An,b):V.call(null,An,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,c,this.Da,this.V,this.L,null):z(V.j?V.j(Al,b):V.call(null,Al,b))?new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,c,this.V,this.L,null):new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,this.V,T.l(this.L,b,c),null)};
h.ba=function(){return E(Hf.j(new W(null,14,5,X,[new Yg(Ek,this.Y,null),new Yg(ql,this.W,null),new Yg(Ul,this.params,null),new Yg(pl,this.U,null),new Yg(Wn,this.url,null),new Yg(bk,this.Ra,null),new Yg(Cp,this.O,null),new Yg(to,this.S,null),new Yg(pm,this.Ha,null),new Yg(dk,this.da,null),new Yg(ln,this.R,null),new Yg(Vo,this.Aa,null),new Yg(An,this.Ia,null),new Yg(Al,this.Da,null)],null),this.L))};
h.ea=function(a,b){return new Dz(this.Y,this.W,this.params,this.U,this.url,this.Ra,this.O,this.S,this.Ha,this.da,this.R,this.Aa,this.Ia,this.Da,b,this.L,this.G)};h.na=function(a,b){return Se(b)?this.Va(null,Fc.j(b,0),Fc.j(b,1)):uc.l(Dc,this,b)};h.ye=function(a,b){sg(this.S,null);wz(this,function(){return function(a){return xz(a,b)}}(this));a=C(this.Ia);return z(a)?a.close(1E3,"CLOSE_NORMAL"):null};
h.Vd=function(a,b,c){var d=this;a=null!=c&&(c.v&64||r===c.ha)?Pf(ri,c):c;var e=D.j(a,wp),f=D.j(a,jk),g=D.j(a,gk),k=uz(b,e,f),l=yz(f,b);if(nc(Kn.h(C(d.O))))return tz(l);var m=z(l)?fy.l(iy(),0,6):null;b=lz(d.U,b,m);if(z(m)&&(Ux.l(d.Aa,new W(null,1,5,X,[m],null),function(){try{var a=null!=l?null:ax}catch(t){if(t instanceof Error)a=t;else throw t;}return null==a?l:bx(!0,"taoensso.sente",964,"(taoensso.truss.impl/some? ?cb-fn)",l,a)}()),z(e))){var p=lt(1,null);Ks(function(a,b,c,e,f,g,k,l,m,p,ua,I,ca,Y,
Q){return function(){var q=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!V(c,$l)){var d=c;break a}}}catch(fb){if(fb instanceof Object)b[5]=fb,ct(b),d=$l;else throw fb;}if(!V(d,$l))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.F=c;d.h=b;return d}()}(function(a,
b,c,e,f,g){return function(a){var c=a[1];if(1===c)return c=jt(b),$s(a,2,c);if(2===c){c=a[2];var e=vz(d.Aa,g);a[8]=c;a[7]=e;a[1]=z(e)?3:4;return $l}return 3===c?(c=a[7],c=c.h?c.h(fo):c.call(null,fo),a[2]=c,a[1]=5,$l):4===c?(a[2]=null,a[1]=5,$l):5===c?bt(a,a[2]):null}}(a,b,c,e,f,g,k,l,m,p,ua,I,ca,Y,Q),a,b,c,e,f,g,k,l,m,p,ua,I,ca,Y,Q)}(),t=function(){var b=q.F?q.F():q.call(null);b[6]=a;return b}();return Zs(t)}}(p,e,e,m,m,m,b,c,a,e,f,g,k,l,this))}try{return C(d.Ia).send(b),sg(d.Da,Vx()),yp}catch(q){return ez(zo,
"taoensso.sente",976,new nj(function(a){return function(){return new W(null,2,5,X,[a,"Chsk send error"],null)}}(q,m,b,c,a,e,f,g,k,l,this)),607440431),z(m)&&(c=function(){var a=vz(d.Aa,m);if(z(a))return a;try{var b=null!=l?null:ax}catch(w){if(w instanceof Error)b=w;else throw w;}return null==b?l:bx(!0,"taoensso.sente",979,"(taoensso.truss.impl/some? ?cb-fn)",l,b)}(),c.h?c.h(Zm):c.call(null,Zm)),!1}};
h.qd=function(){var a=this,b=function(){var a=Wa(ba,"WebSocket",null);if(z(a))return a;a=Wa(ba,"MozWebSocket",null);z(a)||(a=C(Cz),a=Wa(a,"w3cwebsocket",null));return a}();if(z(b)){var c=sg(a.S,iy()),d=function(b){return function(){return K.j(C(a.S),b)}}(c,b,b,this),e=function(b,c,d,e,f){return function u(){if(z(c())){var g=function(b,c,d,e,f){return function(){if(z(c())){var g=tg.j(a.Ha,ie),k=a.R.h?a.R.h(g):a.R.call(null,g),l=Vx()+k;ez(rl,"taoensso.sente",1001,new nj(function(a,b){return function(){return new W(null,
3,5,X,["Chsk is closed: will try reconnect attempt (%s) in %s ms",a,b],null)}}(g,k,l,b,c,d,e,f)),-627606872);ba.setTimeout(u,k);return wz(f,function(a,b,c){return function(a){return T.l(a,Vl,c)}}(g,k,l,b,c,d,e,f))}return null}}(b,c,d,e,f),k=function(){try{return new d(wy(a.url,wi.w(R([a.params,new v(null,1,[Ek,a.Y],null)]))))}catch(y){return ez(zo,"taoensso.sente",1015,new nj(function(a){return function(){return new W(null,2,5,X,[a,"WebSocket error"],null)}}(y,g,b,c,d,e,f)),540529037),null}}();return nc(k)?
g():sg(a.Ia,function(){k.onerror=function(a,b,c,d,e,f,g,k){return function(l){ez(zo,"taoensso.sente",1025,new nj(function(){return function(){var a=X;try{var b=zj(l)}catch(wa){b=l}return new W(null,2,5,a,["WebSocket error: %s",b],null)}}(a,b,c,d,e,f,g,k)),-284047357);return wz(k,function(a){return function(b){return T.l(b,Fl,a)}}(new v(null,2,[Gm,Vx(),Hk,l],null),a,b,c,d,e,f,g,k))}}(k,g,k,b,c,d,e,f);k.onmessage=function(b,c,d,e,f,g,k,l){return function(m){m=Wa(m,"data",null);var p=kz(a.U,m),q=S(p,
0),u=S(p,1);sg(a.Da,Vx());if(Az(q)){Bz(tk,l,q);sg(a.Ha,0);var w=Ak}else w=null;if(z(w))return w;if(K.j(q,tl)){nt(Fp.h(a.W),new W(null,1,5,X,[tl],null));var x=Qk}else x=null;if(z(x))return x;if(z(u)){var y=vz(a.Aa,u);return z(y)?y.h?y.h(q):y.call(null,q):ez(rl,"taoensso.sente",1061,new nj(function(a,b,c,d,e,f,g,k){return function(){return new W(null,2,5,X,["Cb reply w/o local cb-fn: %s",k],null)}}(y,u,u,x,w,m,p,q,u,b,c,d,e,f,g,k,l)),-1247214555)}return zz(a.W,q)}}(k,g,k,b,c,d,e,f);k.onclose=function(a,
b,c,d,e,f,g,k){return function(l){var m=Wa(l,"wasClean",null),p=Wa(l,"code",null),q=Wa(l,"reason",null);l=new v(null,5,[Gm,Vx(),Hk,l,Jp,m,Xn,p,an,q],null);if(z(m))return ez(fm,"taoensso.sente",1083,new nj(function(){return function(){return new W(null,1,5,X,["Clean WebSocket close, will not attempt reconnect"],null)}}(m,p,q,l,a,b,c,d,e,f,g,k)),1563995149),wz(k,function(a,b,c,d){return function(a){return T.l(a,lp,d)}}(m,p,q,l,a,b,c,d,e,f,g,k));wz(k,function(a,b,c,d){return function(a){return T.l(xz(a,
Ao),lp,d)}}(m,p,q,l,a,b,c,d,e,f,g,k));return b()}}(k,g,k,b,c,d,e,f);return k}())}return null}}(c,d,b,b,this),f=a.Ra;if(z(f)){var g=lt(1,null);Ks(function(b,c,d,e,f,g,u,w,x){return function(){var k=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!V(c,$l)){var d=c;break a}}}catch(Q){if(Q instanceof Object)b[5]=Q,ct(b),d=$l;else throw Q;}if(!V(d,$l))return d}}function c(){var a=[null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}
var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.F=c;d.h=b;return d}()}(function(b,c,d,e,f,g,k,l,m){return function(b){var d=b[1];if(7===d)return b[2]=b[2],b[1]=3,$l;if(1===d)return b[2]=null,b[1]=2,$l;if(4===d){d=b[2];var e=f();b[7]=d;b[1]=z(e)?5:6;return $l}return 6===d?(b[2]=null,b[1]=7,$l):3===d?bt(b,b[2]):2===d?(d=C(a.Da),e=jt(c),b[8]=d,$s(b,4,e)):9===d?(b[2]=null,b[1]=10,$l):5===d?(d=
b[8],e=C(a.Da),d=K.j(d,e),b[1]=d?8:9,$l):10===d?(b[9]=b[2],b[2]=null,b[1]=2,$l):8===d?(d=new W(null,1,5,X,[tl],null),e=$h([gk],[!0]),d=m.Vd(null,d,e),b[2]=d,b[1]=10,$l):null}}(b,c,d,e,f,g,u,w,x),b,c,d,e,f,g,u,w,x)}(),l=function(){var a=k.F?k.F():k.call(null);a[6]=b;return a}();return Zs(l)}}(g,f,f,c,d,e,b,b,this))}sg(a.Ha,0);e();return this}return null};
function Ez(a){a=wi.w(R([new v(null,7,[Cp,rg(new v(null,3,[am,tk,Kn,!1,Dn,!1],null)),to,rg(null),pm,rg(0),dk,rg(!1),Vo,rg(Z),An,rg(null),Al,rg(null)],null),a]));var b=Fe.w(a,Ek,R([ql,Ul,pl,Wn,bk,Cp,to,pm,dk,ln,Vo,An,Al]));b=Re(a)?Dg.j(Z,b):b;return new Dz(Ek.h(a),ql.h(a),Ul.h(a),pl.h(a),Wn.h(a),bk.h(a),Cp.h(a),to.h(a),pm.h(a),dk.h(a),ln.h(a),Vo.h(a),An.h(a),Al.h(a),null,Tf(b),null)}var Fz=jy.w(R([Ml,60]));
function Gz(a,b,c,d,e,f,g,k,l,m,p,q,t,u){this.Y=a;this.W=b;this.params=c;this.U=d;this.url=e;this.O=f;this.S=g;this.da=k;this.R=l;this.Ja=m;this.Xa=p;this.V=q;this.L=t;this.G=u;this.v=2230716170;this.K=139264}h=Gz.prototype;h.fa=function(a,b){return this.N(null,b,null)};
h.N=function(a,b,c){switch(b instanceof U?b.Ma:null){case "client-id":return this.Y;case "chs":return this.W;case "params":return this.params;case "packer":return this.U;case "url":return this.url;case "state_":return this.O;case "instance-handle_":return this.S;case "ever-opened?_":return this.da;case "backoff-ms-fn":return this.R;case "ajax-opts":return this.Ja;case "curr-xhr_":return this.Xa;default:return D.l(this.L,b,c)}};
h.oc=function(a,b,c){return uc.l(function(){return function(a,c){var d=S(c,0);c=S(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};
h.T=function(a,b,c){return Vi(b,function(){return function(a){return Vi(b,bj,""," ","",c,a)}}(this),"#taoensso.sente.ChAjaxSocket{",", ","}",c,Hf.j(new W(null,11,5,X,[new W(null,2,5,X,[Ek,this.Y],null),new W(null,2,5,X,[ql,this.W],null),new W(null,2,5,X,[Ul,this.params],null),new W(null,2,5,X,[pl,this.U],null),new W(null,2,5,X,[Wn,this.url],null),new W(null,2,5,X,[Cp,this.O],null),new W(null,2,5,X,[to,this.S],null),new W(null,2,5,X,[dk,this.da],null),new W(null,2,5,X,[ln,this.R],null),new W(null,
2,5,X,[Uo,this.Ja],null),new W(null,2,5,X,[Wj,this.Xa],null)],null),this.L))};h.sb=function(){return new rh(this,11,new W(null,11,5,X,[Ek,ql,Ul,pl,Wn,Cp,to,dk,ln,Uo,Wj],null),z(this.L)?Jd(this.L):Uf())};h.ca=function(){return this.V};h.rb=function(){return new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,this.G)};h.ka=function(){return 11+N(this.L)};
h.aa=function(){var a=this,b=this.G;if(null!=b)return b;var c=function(){return function(){return function(a){return-266770752^ge(a)}}(b,a)(a)}();return this.G=c};h.I=function(a,b){return null!=b&&this.constructor===b.constructor&&K.j(this.Y,b.Y)&&K.j(this.W,b.W)&&K.j(this.params,b.params)&&K.j(this.U,b.U)&&K.j(this.url,b.url)&&K.j(this.O,b.O)&&K.j(this.S,b.S)&&K.j(this.da,b.da)&&K.j(this.R,b.R)&&K.j(this.Ja,b.Ja)&&K.j(this.Xa,b.Xa)&&K.j(this.L,b.L)};
h.Mc=function(a,b){return Ze(new Di(null,new v(null,11,[Wj,null,dk,null,Ek,null,pl,null,ql,null,Ul,null,ln,null,Wn,null,to,null,Uo,null,Cp,null],null),null),b)?Fe.j(ad(Dg.j(Z,this),this.V),b):new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,Tf(Fe.j(this.L,b)),null)};
h.Va=function(a,b,c){return z(V.j?V.j(Ek,b):V.call(null,Ek,b))?new Gz(c,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(ql,b):V.call(null,ql,b))?new Gz(this.Y,c,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(Ul,b):V.call(null,Ul,b))?new Gz(this.Y,this.W,c,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(pl,b):V.call(null,pl,b))?new Gz(this.Y,
this.W,this.params,c,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(Wn,b):V.call(null,Wn,b))?new Gz(this.Y,this.W,this.params,this.U,c,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(Cp,b):V.call(null,Cp,b))?new Gz(this.Y,this.W,this.params,this.U,this.url,c,this.S,this.da,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(to,b):V.call(null,to,b))?new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,c,this.da,this.R,this.Ja,this.Xa,
this.V,this.L,null):z(V.j?V.j(dk,b):V.call(null,dk,b))?new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,c,this.R,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(ln,b):V.call(null,ln,b))?new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,c,this.Ja,this.Xa,this.V,this.L,null):z(V.j?V.j(Uo,b):V.call(null,Uo,b))?new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,c,this.Xa,this.V,this.L,null):z(V.j?V.j(Wj,b):V.call(null,Wj,b))?new Gz(this.Y,this.W,
this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,c,this.V,this.L,null):new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,this.V,T.l(this.L,b,c),null)};
h.ba=function(){return E(Hf.j(new W(null,11,5,X,[new Yg(Ek,this.Y,null),new Yg(ql,this.W,null),new Yg(Ul,this.params,null),new Yg(pl,this.U,null),new Yg(Wn,this.url,null),new Yg(Cp,this.O,null),new Yg(to,this.S,null),new Yg(dk,this.da,null),new Yg(ln,this.R,null),new Yg(Uo,this.Ja,null),new Yg(Wj,this.Xa,null)],null),this.L))};h.ea=function(a,b){return new Gz(this.Y,this.W,this.params,this.U,this.url,this.O,this.S,this.da,this.R,this.Ja,this.Xa,b,this.L,this.G)};
h.na=function(a,b){return Se(b)?this.Va(null,Fc.j(b,0),Fc.j(b,1)):uc.l(Dc,this,b)};h.ye=function(a,b){sg(this.S,null);wz(this,function(){return function(a){return xz(a,b)}}(this));a=C(this.Xa);return z(a)?a.abort():null};
h.Vd=function(a,b,c){var d=this,e=null!=c&&(c.v&64||r===c.ha)?Pf(ri,c):c,f=D.j(e,wp),g=D.j(e,jk),k=D.j(e,gk),l=uz(b,f,g),m=yz(g,b);if(nc(Kn.h(C(d.O))))return tz(m);var p=wo.h(C(d.O));a=d.url;var q=wi.w(R([d.Ja,new v(null,5,[bl,po,wp,function(){if(z(f))return f;var a=wp.h(d.Ja);return z(a)?a:Fz}(),Mo,Ip,Om,wi.w(R([Om.h(d.Ja),new v(null,1,[Mk,p],null)])),Ul,function(){var a=lz(d.U,b,z(m)?Dp:null);return wi.w(R([d.params,new v(null,4,[Gm,Vx(),wo,p,Ek,d.Y,En,a],null)]))}()],null)]));c=function(a,b,c,
e,f,g,k,l,m,p,q){return function(t){var u=null!=t&&(t.v&64||r===t.ha)?Pf(ri,t):t,w=D.j(u,zp),x=D.j(u,Pk);if(z(w)){if(K.j(w,Lo))return z(p)?p.h?p.h(fo):p.call(null,fo):null;wz(q,function(){return function(a){return xz(a,Ao)}}(t,u,w,x,a,b,c,e,f,g,k,l,m,p,q));return z(p)?p.h?p.h(Zm):p.call(null,Zm):null}var y=kz(d.U,x),H=S(y,0),L=S(y,1);z(p)?p.h?p.h(H):p.call(null,H):Sf(H,Ep)&&ez(rl,"taoensso.sente",1203,new nj(function(a,b,c,d){return function(){return new W(null,2,5,X,["Cb reply w/o local cb-fn: %s",
d],null)}}(x,x,y,H,L,t,u,w,x,a,b,c,e,f,g,k,l,m,p,q)),232536201);return wz(q,function(){return function(a){return T.l(a,Kn,!0)}}(x,x,y,H,L,t,u,w,x,a,b,c,e,f,g,k,l,m,p,q))}}(a,q,p,c,e,f,g,k,l,m,this);py.l?py.l(a,q,c):py.call(null,a,q,c);return yp};
h.qd=function(){var a=this,b=sg(a.S,iy());(function(b,d,e){return function k(c){ez(zl,"taoensso.sente",1213,new nj(function(){return function(){return new W(null,1,5,X,["async-poll-for-update!"],null)}}(b,d,e)),-1653464999);if(z(d())){var g=function(b,d,e){return function(){if(z(d())){var g=c+1,l=a.R.h?a.R.h(g):a.R.call(null,g),m=Vx()+l;ez(rl,"taoensso.sente",1221,new nj(function(a,b){return function(){return new W(null,3,5,X,["Chsk is closed: will try reconnect attempt (%s) in %s ms",a,b],null)}}(g,
l,m,b,d,e)),-1397333198);ba.setTimeout(function(a){return function(){return k(a)}}(g,l,m,b,d,e),l);return wz(e,function(a,b,c){return function(a){return T.l(a,Vl,c)}}(g,l,m,b,d,e))}return null}}(b,d,e);return sg(a.Xa,function(){var c=a.url,l=wi.w(R([a.Ja,new v(null,4,[bl,wk,wp,function(){var b=wp.h(a.Ja);return z(b)?b:Fz}(),Mo,Ip,Ul,wi.w(R([a.params,new v(null,2,[Gm,Vx(),Ek,a.Y],null),z(Kn.h(C(a.O)))?null:new v(null,1,[Rl,!0],null)]))],null)])),q=function(b,c,d,e,g,l){return function(m){var p=null!=
m&&(m.v&64||r===m.ha)?Pf(ri,m):m,q=D.j(p,zp),t=D.j(p,Pk);if(z(q)){if(K.j(q,Lo))return k(0);wz(l,function(){return function(a){return xz(a,Ao)}}(m,p,q,t,b,c,d,e,g,l));return d()}var u=kz(a.U,t),w=S(u,0),x=Az(w);x&&Bz(km,l,w);wz(l,function(){return function(a){return T.l(a,Kn,!0)}}(t,t,u,w,x,m,p,q,t,b,c,d,e,g,l));k(0);if(x)return null;K.j(w,fo)?(z(C(gz))&&zz(a.W,new W(null,1,5,X,[new W(null,1,5,X,[gm],null)],null)),m=Qk):m=null;return z(m)?m:zz(a.W,w)}}(c,l,g,b,d,e);return py.l?py.l(c,l,q):py.call(null,
c,l,q)}())}return null}})(b,function(b){return function(){return K.j(C(a.S),b)}}(b,this),this)(0);return this};function Hz(a){a=wi.w(R([new v(null,4,[Cp,rg(new v(null,3,[am,km,Kn,!1,Dn,!1],null)),to,rg(null),dk,rg(!1),Wj,rg(null)],null),a]));var b=Fe.w(a,Ek,R([ql,Ul,pl,Wn,Cp,to,dk,ln,Uo,Wj]));b=Re(a)?Dg.j(Z,b):b;return new Gz(Ek.h(a),ql.h(a),Ul.h(a),pl.h(a),Wn.h(a),Cp.h(a),to.h(a),dk.h(a),ln.h(a),Uo.h(a),Wj.h(a),null,Tf(b),null)}
function Iz(a,b,c,d,e,f,g){this.Pb=a;this.Kb=b;this.O=c;this.vb=d;this.V=e;this.L=f;this.G=g;this.v=2230716170;this.K=139264}h=Iz.prototype;h.fa=function(a,b){return this.N(null,b,null)};h.N=function(a,b,c){switch(b instanceof U?b.Ma:null){case "ws-chsk-opts":return this.Pb;case "ajax-chsk-opts":return this.Kb;case "state_":return this.O;case "impl_":return this.vb;default:return D.l(this.L,b,c)}};
h.oc=function(a,b,c){return uc.l(function(){return function(a,c){var d=S(c,0);c=S(c,1);return b.l?b.l(a,d,c):b.call(null,a,d,c)}}(this),c,this)};h.T=function(a,b,c){return Vi(b,function(){return function(a){return Vi(b,bj,""," ","",c,a)}}(this),"#taoensso.sente.ChAutoSocket{",", ","}",c,Hf.j(new W(null,4,5,X,[new W(null,2,5,X,[fl,this.Pb],null),new W(null,2,5,X,[Hp,this.Kb],null),new W(null,2,5,X,[Cp,this.O],null),new W(null,2,5,X,[uk,this.vb],null)],null),this.L))};
h.sb=function(){return new rh(this,4,new W(null,4,5,X,[fl,Hp,Cp,uk],null),z(this.L)?Jd(this.L):Uf())};h.ca=function(){return this.V};h.rb=function(){return new Iz(this.Pb,this.Kb,this.O,this.vb,this.V,this.L,this.G)};h.ka=function(){return 4+N(this.L)};h.aa=function(){var a=this,b=this.G;if(null!=b)return b;var c=function(){return function(){return function(a){return-1193508708^ge(a)}}(b,a)(a)}();return this.G=c};
h.I=function(a,b){return null!=b&&this.constructor===b.constructor&&K.j(this.Pb,b.Pb)&&K.j(this.Kb,b.Kb)&&K.j(this.O,b.O)&&K.j(this.vb,b.vb)&&K.j(this.L,b.L)};h.Mc=function(a,b){return Ze(new Di(null,new v(null,4,[uk,null,fl,null,Cp,null,Hp,null],null),null),b)?Fe.j(ad(Dg.j(Z,this),this.V),b):new Iz(this.Pb,this.Kb,this.O,this.vb,this.V,Tf(Fe.j(this.L,b)),null)};
h.Va=function(a,b,c){return z(V.j?V.j(fl,b):V.call(null,fl,b))?new Iz(c,this.Kb,this.O,this.vb,this.V,this.L,null):z(V.j?V.j(Hp,b):V.call(null,Hp,b))?new Iz(this.Pb,c,this.O,this.vb,this.V,this.L,null):z(V.j?V.j(Cp,b):V.call(null,Cp,b))?new Iz(this.Pb,this.Kb,c,this.vb,this.V,this.L,null):z(V.j?V.j(uk,b):V.call(null,uk,b))?new Iz(this.Pb,this.Kb,this.O,c,this.V,this.L,null):new Iz(this.Pb,this.Kb,this.O,this.vb,this.V,T.l(this.L,b,c),null)};
h.ba=function(){return E(Hf.j(new W(null,4,5,X,[new Yg(fl,this.Pb,null),new Yg(Hp,this.Kb,null),new Yg(Cp,this.O,null),new Yg(uk,this.vb,null)],null),this.L))};h.ea=function(a,b){return new Iz(this.Pb,this.Kb,this.O,this.vb,b,this.L,this.G)};h.na=function(a,b){return Se(b)?this.Va(null,Fc.j(b,0),Fc.j(b,1)):uc.l(Dc,this,b)};h.ye=function(a,b){a=C(this.vb);return z(a)?qz(a,b):null};
h.Vd=function(a,b,c){a=C(this.vb);if(z(a))return rz(a,b,c);c=null!=c&&(c.v&64||r===c.ha)?Pf(ri,c):c;c=D.j(c,jk);b=yz(c,b);return tz(b)};
h.qd=function(){var a=this,b=T.l(a.Kb,Cp,a.O),c=T.l(a.Pb,Cp,a.O),d=function(b){return function(){ud(a.O,kj);return Hz(b).qd(null)}}(b,c,this),e=function(b,c,d,e){return function(){jj(a.O,function(b,c,d,e,f){return function(g,k,l,m){g=C(a.vb);if(z(g)&&(k=dk.h(g),z(k))){if(z(C(k)))return null;if(z(Fl.h(m))&&ug(b))return ez(rl,"taoensso.sente",1349,new nj(function(){return function(){return new W(null,1,5,X,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}}(k,k,g,g,b,c,d,e,f)),-618061653),qz(g,
Wm),sg(a.vb,e())}return null}}(rg(!1),b,c,d,e));return Ez(c).qd(null)}}(b,c,d,this);sg(a.vb,function(){var a=e();return z(a)?a:d()}());return this};
function Jz(a,b,c,d){var e=function(){switch(a instanceof U?a.Ma:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var a=function(){try{return z(function(){return function(){return function(a){var b=new Di(null,new v(null,2,["https:",null,"http:",null],null),null);b=Hi.h?Hi.h(b):Hi.call(null,b);return Ze(b,a)}}(e)(e)}())?null:ax}catch(l){if(l instanceof Error)return l;throw l;}}();return null==a?e:bx(!0,"taoensso.sente",1369,'([:el #{"https:" "http:"}] protocol)',
e,a)}(),g=function(){var a=d instanceof U?d.Ma:null;switch(a){case "ajax":return f;case "ws":switch(f){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",B.h(f)].join(""));}default:throw Error(["No matching clause: ",B.h(a)].join(""));}}();return[B.h(g),"//",B.h(hy(R([b,c])))].join("")}
function Kz(a,b,c){var d=nc(sl),e=null!=c&&(c.v&64||r===c.ha)?Pf(ri,c):c,f=D.j(e,nl),g=D.j(e,Rm),k=D.j(e,cl),l=lt(null,null),m=function(){return function(a){return a.F?a.F():a.call(null)}}(c,e,f,g,k,l),p=lt(1,null);Ks(function(c,e,f,g,k,l,m,p){return function(){var q=function(){return function(a){return function(){function b(b){for(;;){a:try{for(;;){var c=a(b);if(!V(c,$l)){var d=c;break a}}}catch(za){if(za instanceof Object)b[5]=za,ct(b),d=$l;else throw za;}if(!V(d,$l))return d}}function c(){var a=
[null,null,null,null,null,null,null,null,null,null,null,null];a[0]=d;a[1]=1;return a}var d=null;d=function(a){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,a)}throw Error("Invalid arity: "+arguments.length);};d.F=c;d.h=b;return d}()}(function(c,e,f,g,k,l,m,p){return function(q){var t=q[1];if(7===t)return q[2]=q[2],q[1]=3,$l;if(1===t)return q[2]=null,q[1]=2,$l;if(4===t){var u=q[7],w=q[8],x=q[9],y=q[10],H=q[2],I=S(H,0),L=S(H,1),P=K.j(L,m)||null==I;q[7]=I;q[8]=P;q[9]=
H;q[10]=L;q[1]=z(P)?5:6;return $l}if(15===t)return u=q[7],q[2]=u,q[1]=16,$l;if(13===t)return q[2]=q[2],q[1]=10,$l;if(6===t)return u=q[7],q[1]=nc(null==u)?8:9,$l;if(3===t)return bt(q,q[2]);if(12===t)return q[2]=!1,q[1]=13,$l;if(2===t)return tt(q,4,new W(null,2,5,X,[a,m],null));if(11===t)return q[2]=!0,q[1]=13,$l;if(9===t)return q[2]=!1,q[1]=10,$l;if(5===t)return q[2]=null,q[1]=7,$l;if(14===t)return u=q[7],H=Pf(ri,u),q[2]=H,q[1]=16,$l;if(16===t){u=q[7];w=q[8];x=q[9];y=q[10];var Q=q[2],Y=D.j(Q,gn);H=
p(function(){return function(a,c,e,f,g,k,l,m,p,q,t,u,w,x,y,H,I,L,P,Q,da,Y){return function(){try{z(L)&&ez(zl,"taoensso.sente",1530,new nj(function(a,b,c,d,e,f,g){return function(){return new W(null,2,5,X,["Pre-handler event: %s",g],null)}}(a,c,e,f,g,k,l,m,p,q,t,u,w,x,y,H,I,L,P,Q,da,Y)),-1014097068);var ca=z(d)?function(){try{var a=Qe(k);if(a){var b=Gx(new Di(null,new v(null,10,[Zj,null,Bk,null,Ek,null,Wk,null,ml,null,gn,null,Hn,null,bo,null,no,null,Eo,null],null),null),k);if(b){var c=null!=k&&(k.v&
64||r===k.ha)?Pf(ri,k):k,d=D.j(c,Bk),e=D.j(c,Eo),f=D.j(c,Wk),g=D.j(c,bo),l=D.j(c,Ek),m=D.j(c,gn),p=D.j(c,Zj);var q=d instanceof Rs&&Ye(e)&&f instanceof qg&&Qe(g)&&"string"===typeof l&&!ya(Da(l))&&null==iz(m)&&(null==p||Ye(p))}else q=b}else q=a;var t=q?null:ax}catch(kp){if(kp instanceof Error)t=kp;else throw kp;}return null==t?k:bx(null,"taoensso.sente",1533,"(server-event-msg? event-msg)",k,t)}():function(){try{var a=Qe(k);if(a){var b=Gx(new Di(null,new v(null,6,[Bk,null,im,null,gn,null,Hn,null,no,
null,Eo,null],null),null),k);if(b){var c=null!=k&&(k.v&64||r===k.ha)?Pf(ri,k):k,d=D.j(c,Bk),e=D.j(c,Eo),f=D.j(c,im),g=D.j(c,gn);var l=d instanceof Rs&&Ye(e)&&f instanceof qg&&null==iz(g)}else l=b}else l=a;var m=l?null:ax}catch(jp){if(jp instanceof Error)m=jp;else throw jp;}return null==m?k:bx(null,"taoensso.sente",1534,"(client-event-msg? event-msg)",k,m)}();return b.h?b.h(ca):b.call(null,ca)}catch(hp){if(hp instanceof Error){ca=hp;try{return z(P)?P.j?P.j(ca,k):P.call(null,ca,k):ez(zo,"taoensso.sente",
1539,new nj(function(a,b,c,d,e,f,g,k,l){return function(){return new W(null,3,5,X,[b,"Chsk router `event-msg-handler` error: %s",l],null)}}(P,ca,a,c,e,f,g,k,l,m,p,q,t,u,w,x,y,H,I,L,P,Q,da,Y)),1614701320)}catch(ip){if(ip instanceof Error)return ez(zo,"taoensso.sente",1540,new nj(function(a,b,c,d,e,f,g,k,l){return function(){return new W(null,3,5,X,[a,"Chsk router `error-handler` error: %s",l],null)}}(ip,ca,a,c,e,f,g,k,l,m,p,q,t,u,w,x,y,H,I,L,P,Q,da,Y)),-432793327);throw ip;}}else throw hp;}}}(x,u,
y,w,Q,Q,Y,u,w,x,y,Q,Y,t,c,e,f,g,k,l,m,p)}());q[11]=H;q[2]=null;q[1]=2;return $l}return 10===t?(q[1]=z(q[2])?14:15,$l):8===t?(u=q[7],H=r===u.ha,q[1]=z(u.v&64||H)?11:12,$l):null}}(c,e,f,g,k,l,m,p),c,e,f,g,k,l,m,p)}(),t=function(){var a=q.F?q.F():q.call(null);a[6]=c;return a}();return Zs(t)}}(p,c,e,f,g,k,l,m));return function(a,b,c,d,e,f){return function(){return ks(f)}}(c,e,f,g,k,l,m)};var Lz="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Va(a)},Mz="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===n(a)};function Nz(){return Math.round(15*Math.random()).toString(16)};var Oz=1;function Pz(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(Mz(a)){if(Mz(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!Pz(a[c],b[c]))return!1;return!0}return!1}if(a.Rb)return a.Rb(b);if(null!=b&&"object"===typeof b){if(b.Rb)return b.Rb(a);c=0;var d=Lz(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!Pz(a[e],b[e])))return!1;return c===d}}return!1}function Qz(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var Rz={},Sz=0;
function Tz(a){var b=0;if(null!=a.forEach)a.forEach(function(a,c){b=(b+(Uz(c)^Uz(a)))%4503599627370496});else for(var c=Lz(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(Uz(e)^Uz(f)))%4503599627370496}return b}function Vz(a){var b=0;if(Mz(a))for(var c=0;c<a.length;c++)b=Qz(b,Uz(a[c]));else a.forEach&&a.forEach(function(a){b=Qz(b,Uz(a))});return b}
function Uz(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=Rz[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;Sz++;256<=Sz&&(Rz={},Sz=1);a=Rz[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=Oz,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,Oz++),b;default:return a instanceof Date?a.valueOf():
Mz(a)?Vz(a):a.Yb?a.Yb():Tz(a)}};var Wz="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Xz(a,b){this.tag=a;this.ja=b;this.xa=-1}Xz.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.ja+"]"};Xz.prototype.equiv=function(a){return Pz(this,a)};Xz.prototype.equiv=Xz.prototype.equiv;Xz.prototype.Rb=function(a){return a instanceof Xz?this.tag===a.tag&&Pz(this.ja,a.ja):!1};Xz.prototype.Yb=function(){-1===this.xa&&(this.xa=Qz(Uz(this.tag),Uz(this.ja)));return this.xa};
function Yz(a,b){return new Xz(a,b)}var Zz=Rb("9007199254740991"),$z=Rb("-9007199254740991");Gb.prototype.equiv=function(a){return Pz(this,a)};Gb.prototype.equiv=Gb.prototype.equiv;Gb.prototype.Rb=function(a){return a instanceof Gb&&this.equals(a)};Gb.prototype.Yb=function(){return this.Wd()};function aA(a){this.Na=a;this.xa=-1}aA.prototype.toString=function(){return":"+this.Na};aA.prototype.namespace=function(){var a=this.Na.indexOf("/");return-1!=a?this.Na.substring(0,a):null};
aA.prototype.name=function(){var a=this.Na.indexOf("/");return-1!=a?this.Na.substring(a+1,this.Na.length):this.Na};aA.prototype.equiv=function(a){return Pz(this,a)};aA.prototype.equiv=aA.prototype.equiv;aA.prototype.Rb=function(a){return a instanceof aA&&this.Na==a.Na};aA.prototype.Yb=function(){-1===this.xa&&(this.xa=Uz(this.Na));return this.xa};function bA(a){this.Na=a;this.xa=-1}bA.prototype.namespace=function(){var a=this.Na.indexOf("/");return-1!=a?this.Na.substring(0,a):null};
bA.prototype.name=function(){var a=this.Na.indexOf("/");return-1!=a?this.Na.substring(a+1,this.Na.length):this.Na};bA.prototype.toString=function(){return this.Na};bA.prototype.equiv=function(a){return Pz(this,a)};bA.prototype.equiv=bA.prototype.equiv;bA.prototype.Rb=function(a){return a instanceof bA&&this.Na==a.Na};bA.prototype.Yb=function(){-1===this.xa&&(this.xa=Uz(this.Na));return this.xa};
function cA(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=Kb(255).shiftLeft(e);b<c;b++,e-=8,f=Wb(f,8)){var g=Wb(a.and(f),e).toString(16);1==g.length&&(g="0"+g);d+=g}return d}function dA(a,b){this.high=a;this.low=b;this.xa=-1}dA.prototype.toString=function(){var a=this.high,b=this.low;var c=cA(a,0,4)+"-";c+=cA(a,4,6)+"-";c+=cA(a,6,8)+"-";c+=cA(b,0,2)+"-";return c+=cA(b,2,8)};dA.prototype.equiv=function(a){return Pz(this,a)};dA.prototype.equiv=dA.prototype.equiv;
dA.prototype.Rb=function(a){return a instanceof dA&&this.high.equals(a.high)&&this.low.equals(a.low)};dA.prototype.Yb=function(){-1===this.xa&&(this.xa=Uz(this.toString()));return this.xa};Date.prototype.Rb=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.Yb=function(){return this.valueOf()};function eA(a,b){this.entries=a;this.type=b||0;this.ya=0}
eA.prototype.next=function(){if(this.ya<this.entries.length){var a={value:0===this.type?this.entries[this.ya]:1===this.type?this.entries[this.ya+1]:[this.entries[this.ya],this.entries[this.ya+1]],done:!1};this.ya+=2;return a}return{value:null,done:!0}};eA.prototype.next=eA.prototype.next;eA.prototype[Wz]=function(){return this};function fA(a,b){this.map=a;this.type=b||0;this.keys=this.map.Cb();this.ya=0;this.Lc=null;this.Dc=0}
fA.prototype.next=function(){if(this.ya<this.map.size){null!=this.Lc&&this.Dc<this.Lc.length||(this.Lc=this.map.map[this.keys[this.ya]],this.Dc=0);var a={value:0===this.type?this.Lc[this.Dc]:1===this.type?this.Lc[this.Dc+1]:[this.Lc[this.Dc],this.Lc[this.Dc+1]],done:!1};this.ya++;this.Dc+=2;return a}return{value:null,done:!0}};fA.prototype.next=fA.prototype.next;fA.prototype[Wz]=function(){return this};
function gA(a,b){if(a instanceof hA&&(b instanceof iA||b instanceof hA)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!Pz(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof iA&&(b instanceof iA||b instanceof hA)){if(a.size!==b.size)return!1;a=a.wa;for(e=0;e<a.length;e+=2)if(!Pz(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=Lz(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!Pz(b[f],a.get(f)))return!1}return!0}return!1}
function jA(a){return null==a?"null":ha(a)?"["+a.toString()+"]":ea(a)?'"'+a+'"':a.toString()}function kA(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=jA(e)+" \x3d\x3e "+jA(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function lA(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=jA(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function iA(a){this.wa=a;this.ua=null;this.xa=-1;this.size=a.length/2;this.Hf=0}iA.prototype.toString=function(){return kA(this)};iA.prototype.inspect=function(){return this.toString()};
function mA(a){if(a.ua)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.Hf++;return 32<a.Hf?(a.ua=nA(a.wa,!1,!0),a.wa=[],!0):!1}iA.prototype.clear=function(){this.xa=-1;this.ua?this.ua.clear():this.wa=[];this.size=0};iA.prototype.clear=iA.prototype.clear;iA.prototype.keys=function(){return this.ua?this.ua.keys():new eA(this.wa,0)};iA.prototype.keys=iA.prototype.keys;
iA.prototype.Xc=function(){if(this.ua)return this.ua.Xc();for(var a=[],b=0,c=0;c<this.wa.length;b++,c+=2)a[b]=this.wa[c];return a};iA.prototype.keySet=iA.prototype.Xc;iA.prototype.entries=function(){return this.ua?this.ua.entries():new eA(this.wa,2)};iA.prototype.entries=iA.prototype.entries;iA.prototype.values=function(){return this.ua?this.ua.values():new eA(this.wa,1)};iA.prototype.values=iA.prototype.values;
iA.prototype.forEach=function(a){if(this.ua)this.ua.forEach(a);else for(var b=0;b<this.wa.length;b+=2)a(this.wa[b+1],this.wa[b])};iA.prototype.forEach=iA.prototype.forEach;iA.prototype.get=function(a,b){if(this.ua)return this.ua.get(a);if(mA(this))return this.get(a);for(var c=0;c<this.wa.length;c+=2)if(Pz(this.wa[c],a))return this.wa[c+1];return b};iA.prototype.get=iA.prototype.get;
iA.prototype.has=function(a){if(this.ua)return this.ua.has(a);if(mA(this))return this.has(a);for(var b=0;b<this.wa.length;b+=2)if(Pz(this.wa[b],a))return!0;return!1};iA.prototype.has=iA.prototype.has;iA.prototype.set=function(a,b){this.xa=-1;if(this.ua)this.ua.set(a,b),this.size=this.ua.size;else{for(var c=0;c<this.wa.length;c+=2)if(Pz(this.wa[c],a)){this.wa[c+1]=b;return}this.wa.push(a);this.wa.push(b);this.size++;32<this.size&&(this.ua=nA(this.wa,!1,!0),this.wa=null)}};iA.prototype.set=iA.prototype.set;
iA.prototype["delete"]=function(a){this.xa=-1;if(this.ua)return a=this.ua["delete"](a),this.size=this.ua.size,a;for(var b=0;b<this.wa.length;b+=2)if(Pz(this.wa[b],a))return a=this.wa[b+1],this.wa.splice(b,2),this.size--,a};iA.prototype.clone=function(){var a=nA();this.forEach(function(b,c){a.set(c,b)});return a};iA.prototype.clone=iA.prototype.clone;iA.prototype[Wz]=function(){return this.entries()};iA.prototype.Yb=function(){if(this.ua)return this.ua.Yb();-1===this.xa&&(this.xa=Tz(this));return this.xa};
iA.prototype.Rb=function(a){return this.ua?gA(this.ua,a):gA(this,a)};function hA(a,b,c){this.map=b||{};this.ed=a||[];this.size=c||0;this.xa=-1}hA.prototype.toString=function(){return kA(this)};hA.prototype.inspect=function(){return this.toString()};hA.prototype.clear=function(){this.xa=-1;this.map={};this.ed=[];this.size=0};hA.prototype.clear=hA.prototype.clear;hA.prototype.Cb=function(){return null!=this.ed?this.ed:Lz(this.map)};
hA.prototype["delete"]=function(a){this.xa=-1;this.ed=null;for(var b=Uz(a),c=this.map[b],d=0;d<c.length;d+=2)if(Pz(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};hA.prototype.entries=function(){return new fA(this,2)};hA.prototype.entries=hA.prototype.entries;hA.prototype.forEach=function(a){for(var b=this.Cb(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};hA.prototype.forEach=hA.prototype.forEach;
hA.prototype.get=function(a,b){var c=Uz(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(Pz(a,c[b]))return c[b+1]}else return b};hA.prototype.get=hA.prototype.get;hA.prototype.has=function(a){var b=Uz(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(Pz(a,b[c]))return!0;return!1};hA.prototype.has=hA.prototype.has;hA.prototype.keys=function(){return new fA(this,0)};hA.prototype.keys=hA.prototype.keys;
hA.prototype.Xc=function(){for(var a=this.Cb(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};hA.prototype.keySet=hA.prototype.Xc;hA.prototype.set=function(a,b){this.xa=-1;var c=Uz(a),d=this.map[c];if(null==d)this.ed&&this.ed.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(Pz(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};hA.prototype.set=hA.prototype.set;
hA.prototype.values=function(){return new fA(this,1)};hA.prototype.values=hA.prototype.values;hA.prototype.clone=function(){var a=nA();this.forEach(function(b,c){a.set(c,b)});return a};hA.prototype.clone=hA.prototype.clone;hA.prototype[Wz]=function(){return this.entries()};hA.prototype.Yb=function(){-1===this.xa&&(this.xa=Tz(this));return this.xa};hA.prototype.Rb=function(a){return gA(this,a)};
function nA(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(Pz(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new iA(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=Uz(a[b]);var g=d[c];if(null==g)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<g.length;c+=2)if(Pz(g[c],a[b])){g[c+1]=a[b+1];k=!1;break}k&&(g.push(a[b]),g.push(a[b+1]),f++)}}return new hA(e,d,f)}
function oA(a){this.map=a;this.size=a.size}oA.prototype.toString=function(){return lA(this)};oA.prototype.inspect=function(){return this.toString()};oA.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};oA.prototype.add=oA.prototype.add;oA.prototype.clear=function(){this.map=new hA;this.size=0};oA.prototype.clear=oA.prototype.clear;oA.prototype["delete"]=function(a){a=this.map["delete"](a);this.size=this.map.size;return a};oA.prototype.entries=function(){return this.map.entries()};
oA.prototype.entries=oA.prototype.entries;oA.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};oA.prototype.forEach=oA.prototype.forEach;oA.prototype.has=function(a){return this.map.has(a)};oA.prototype.has=oA.prototype.has;oA.prototype.keys=function(){return this.map.keys()};oA.prototype.keys=oA.prototype.keys;oA.prototype.Xc=function(){return this.map.Xc()};oA.prototype.keySet=oA.prototype.Xc;oA.prototype.values=function(){return this.map.values()};
oA.prototype.values=oA.prototype.values;oA.prototype.clone=function(){var a=pA();this.forEach(function(b){a.add(b)});return a};oA.prototype.clone=oA.prototype.clone;oA.prototype[Wz]=function(){return this.values()};oA.prototype.Rb=function(a){if(a instanceof oA){if(this.size===a.size)return Pz(this.map,a.map)}else return!1};oA.prototype.Yb=function(){return Uz(this.map)};
function pA(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=Uz(a[e]),g=b[f];if(null==g)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<g.length;k+=2)if(Pz(g[k],a[e])){f=!1;break}f&&(g.push(a[e]),g.push(a[e]),d++)}}return new oA(new hA(c,b,d))};function qA(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function rA(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function sA(){this.Bg=this.Jd=this.ya=0;this.cache={}}
sA.prototype.write=function(a,b){return qA(a,b)?(4096===this.Bg?(this.clear(),this.Jd=0,this.cache={}):1936===this.ya&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[rA(this.ya),this.Jd],this.ya++,a):b[1]!=this.Jd?(b[1]=this.Jd,b[0]=rA(this.ya),this.ya++,a):b[0]):a};sA.prototype.clear=function(){this.ya=0;this.Jd++};function tA(){this.ya=0;this.cache=[]}tA.prototype.write=function(a){1936==this.ya&&(this.ya=0);this.cache[this.ya]=a;this.ya++;return a};
tA.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};tA.prototype.clear=function(){this.ya=0};function uA(a){this.Gb=a}
function vA(a){this.options=a||{};this.handlers={};for(var b in this.Fd.handlers)this.handlers[b]=this.Fd.handlers[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.handlers[b]=this.options.handlers[b]}this.we=null!=this.options.preferStrings?this.options.preferStrings:this.Fd.we;this.wf=null!=this.options.preferBuffers?this.options.preferBuffers:
this.Fd.wf;this.cf=this.options.defaultHandler||this.Fd.cf;this.Ub=this.options.mapBuilder;this.fd=this.options.arrayBuilder}
vA.prototype.Fd={handlers:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.wf||"undefined"==typeof Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=Yz("b",a);else c=new Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof Gb||(a=Rb(a,10),a=a.ne(Zz)||a.md($z)?a:a.toNumber());return a},n:function(a){return Yz("n",a)},d:function(a){return parseFloat(a)},f:function(a){return Yz("f",a)},c:function(a){return a},":":function(a){return new aA(a)},$:function(a){return new bA(a)},r:function(a){return Yz("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=Qb(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new dA(f,Qb(e,b))},set:function(a){return pA(a)},list:function(a){return Yz("list",a)},link:function(a){return Yz("link",a)},cmap:function(a){return nA(a,!1)}},cf:function(a,b){return Yz(a,b)},we:!0,wf:!0};
vA.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return qA(a,c)?(a=wA(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):wA(this,a),b;case "object":if(Mz(a))if("^ "===a[0])if(this.Ub)if(17>a.length&&this.Ub.Uc){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.Ub.Uc(d,a)}else{d=this.Ub.init(a);for(c=1;c<a.length;c+=2)d=this.Ub.add(d,this.decode(a[c],b,!0,!1),this.decode(a[c+
1],b,!1,!1),a);b=this.Ub.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=nA(d,!1)}else b=xA(this,a,b,c,d);else{c=Lz(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof uA)a=a[e],c=this.handlers[d.Gb],b=null!=c?c(this.decode(a,b,!1,!0),this):Yz(d.Gb,this.decode(a,b,!1,!1));else if(this.Ub)if(16>c.length&&this.Ub.Uc){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.Ub.Uc(f,a)}else{f=this.Ub.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.Ub.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.Ub.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=nA(f,!1)}}return b}return a};vA.prototype.decode=vA.prototype.decode;
function xA(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.ya;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof uA)return b=b[1],f=a.handlers[e.Gb],null!=f?f=f(a.decode(b,c,d,!0),a):Yz(e.Gb,a.decode(b,c,d,!1));c&&f!=c.ya&&(c.ya=f);if(a.fd){if(32>=b.length&&a.fd.Uc){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.fd.Uc(f,b)}f=a.fd.init(b);for(e=0;e<b.length;e++)f=a.fd.add(f,a.decode(b[e],c,d,!1),b);return a.fd.finalize(f,
b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function wA(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new uA(b.substring(2));var d=a.handlers[c];return null==d?a.cf(c,b.substring(2)):d(b.substring(2),a)}return b};function yA(a){this.Pg=new vA(a)}function zA(a,b){this.gh=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new tA}zA.prototype.read=function(a){var b=this.cache;a=this.gh.Pg.decode(JSON.parse(a),b);this.cache.clear();return a};zA.prototype.read=zA.prototype.read;var AA=0,BA=(8|3&Math.round(14*Math.random())).toString(16),CA="transit$guid$"+(Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+"-"+Nz()+Nz()+Nz()+Nz()+"-4"+Nz()+Nz()+Nz()+"-"+BA+Nz()+Nz()+Nz()+"-"+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz()+Nz());
function DA(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[CA];null==b&&("undefined"!=typeof Object.defineProperty?(b=++AA,Object.defineProperty(a,CA,{value:b,enumerable:!1})):a[CA]=b=++AA);return b}function EA(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function FA(){}FA.prototype.tag=function(){return"_"};FA.prototype.ja=function(){return null};
FA.prototype.za=function(){return"null"};function GA(){}GA.prototype.tag=function(){return"s"};GA.prototype.ja=function(a){return a};GA.prototype.za=function(a){return a};function HA(){}HA.prototype.tag=function(){return"i"};HA.prototype.ja=function(a){return a};HA.prototype.za=function(a){return a.toString()};function IA(){}IA.prototype.tag=function(){return"i"};IA.prototype.ja=function(a){return a.toString()};IA.prototype.za=function(a){return a.toString()};function JA(){}JA.prototype.tag=function(){return"?"};
JA.prototype.ja=function(a){return a};JA.prototype.za=function(a){return a.toString()};function KA(){}KA.prototype.tag=function(){return"array"};KA.prototype.ja=function(a){return a};KA.prototype.za=function(){return null};function LA(){}LA.prototype.tag=function(){return"map"};LA.prototype.ja=function(a){return a};LA.prototype.za=function(){return null};function MA(){}MA.prototype.tag=function(){return"t"};
MA.prototype.ja=function(a){return a.getUTCFullYear()+"-"+EA(a.getUTCMonth()+1,2)+"-"+EA(a.getUTCDate(),2)+"T"+EA(a.getUTCHours(),2)+":"+EA(a.getUTCMinutes(),2)+":"+EA(a.getUTCSeconds(),2)+"."+EA(a.getUTCMilliseconds(),3)+"Z"};MA.prototype.za=function(a,b){return b.ja(a)};function NA(){}NA.prototype.tag=function(){return"m"};NA.prototype.ja=function(a){return a.valueOf()};NA.prototype.za=function(a){return a.valueOf().toString()};function OA(){}OA.prototype.tag=function(){return"u"};
OA.prototype.ja=function(a){return a.toString()};OA.prototype.za=function(a){return a.toString()};function PA(){}PA.prototype.tag=function(){return":"};PA.prototype.ja=function(a){return a.Na};PA.prototype.za=function(a,b){return b.ja(a)};function QA(){}QA.prototype.tag=function(){return"$"};QA.prototype.ja=function(a){return a.Na};QA.prototype.za=function(a,b){return b.ja(a)};function RA(){}RA.prototype.tag=function(a){return a.tag};RA.prototype.ja=function(a){return a.ja};RA.prototype.za=function(){return null};
function SA(){}SA.prototype.tag=function(){return"set"};SA.prototype.ja=function(a){var b=[];a.forEach(function(a){b.push(a)});return Yz("array",b)};SA.prototype.za=function(){return null};function TA(){}TA.prototype.tag=function(){return"map"};TA.prototype.ja=function(a){return a};TA.prototype.za=function(){return null};function UA(){}UA.prototype.tag=function(){return"map"};UA.prototype.ja=function(a){return a};UA.prototype.za=function(){return null};function VA(){}VA.prototype.tag=function(){return"b"};
VA.prototype.ja=function(a){return a.toString("base64")};VA.prototype.za=function(){return null};function WA(){}WA.prototype.tag=function(){return"b"};
WA.prototype.ja=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
WA.prototype.za=function(){return null};
function XA(){this.handlers={};this.set(null,new FA);this.set(String,new GA);this.set(Number,new HA);this.set(Gb,new IA);this.set(Boolean,new JA);this.set(Array,new KA);this.set(Object,new LA);this.set(Date,new NA);this.set(dA,new OA);this.set(aA,new PA);this.set(bA,new QA);this.set(Xz,new RA);this.set(oA,new SA);this.set(iA,new TA);this.set(hA,new UA);"undefined"!=typeof Buffer&&this.set(Buffer,new VA);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new WA)}
XA.prototype.get=function(a){a="string"===typeof a?this.handlers[a]:this.handlers[DA(a)];return null!=a?a:this.handlers["default"]};XA.prototype.get=XA.prototype.get;XA.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.handlers[a]=b:this.handlers[DA(a)]=b};function YA(a){this.Ic=a||{};this.we=null!=this.Ic.preferStrings?this.Ic.preferStrings:!0;this.ig=this.Ic.objectBuilder||null;this.handlers=new XA;if(a=this.Ic.handlers){if(Mz(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(a,d){if(void 0!==d)b.handlers.set(d,a);else throw Error("Cannot create handler for JavaScript undefined");})}this.Ld=this.Ic.handlerForForeign;this.Be=this.Ic.unpack||function(a){return a instanceof iA&&null===a.ua?a.wa:
!1};this.Zd=this.Ic&&this.Ic.verbose||!1}YA.prototype.Ib=function(a){var b=this.handlers.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.handlers.get(a):null};function ZA(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function $A(a,b,c){var d=[];if(Mz(b))for(var e=0;e<b.length;e++)d.push(aB(a,b[e],!1,c));else b.forEach(function(b){d.push(aB(a,b,!1,c))});return d}function bB(a,b){return"string"!==typeof b?(a=a.Ib(b))&&1===a.tag(b).length:!0}
function cB(a,b){var c=a.Be(b),d=!0;if(c){for(b=0;b<c.length&&(d=bB(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=bB(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(b,c){d=d&&bB(a,c)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function dB(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));isObject="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:isObject,enumerable:!1}):a.constructor.transit$isObject=isObject;return isObject}
function eB(a,b,c){var d=null,e=null,f=null;d=null;var g=0;if(b.constructor===Object||null!=b.forEach||a.Ld&&dB(b)){if(a.Zd){if(null!=b.forEach)if(cB(a,b)){var k={};b.forEach(function(b,d){k[aB(a,d,!0,!1)]=aB(a,b,!1,c)})}else{d=a.Be(b);e=[];f=ZA("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(aB(a,d[g],!1,!1)),e.push(aB(a,d[g+1],!1,c));else b.forEach(function(b,d){e.push(aB(a,d,!1,!1));e.push(aB(a,b,!1,c))});k={};k[f]=e}else for(d=Lz(b),k={};g<d.length;g++)k[aB(a,d[g],!0,!1)]=aB(a,b[d[g]],!1,
c);return k}if(null!=b.forEach){if(cB(a,b)){d=a.Be(b);k=["^ "];if(d)for(;g<d.length;g+=2)k.push(aB(a,d[g],!0,c)),k.push(aB(a,d[g+1],!1,c));else b.forEach(function(b,d){k.push(aB(a,d,!0,c));k.push(aB(a,b,!1,c))});return k}d=a.Be(b);e=[];f=ZA("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(aB(a,d[g],!1,c)),e.push(aB(a,d[g+1],!1,c));else b.forEach(function(b,d){e.push(aB(a,d,!1,c));e.push(aB(a,b,!1,c))});return[f,e]}k=["^ "];for(d=Lz(b);g<d.length;g++)k.push(aB(a,d[g],!0,c)),k.push(aB(a,b[d[g]],
!1,c));return k}if(null!=a.ig)return a.ig(b,function(b){return aB(a,b,!0,c)},function(b){return aB(a,b,!1,c)});g=(null==b?null:b.constructor).name;d=Error("Cannot write "+g);d.data={tf:b,type:g};throw d;}
function aB(a,b,c,d){var e=a.Ib(b)||(a.Ld?a.Ld(b,a.handlers):null),f=e?e.tag(b):null,g=e?e.ja(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?ZA("~","_","",c,d):null;case "s":return 0<g.length?(a=g.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+g:g):a=g,ZA("","",a,c,d);case "?":return c?ZA("~","?",g.toString()[0],c,d):g;case "i":return Infinity===g?ZA("~","z","INF",c,d):-Infinity===g?ZA("~","z","-INF",c,d):isNaN(g)?ZA("~","z","NaN",c,d):c||"string"===typeof g||g instanceof Gb?ZA("~","i",g.toString(),
c,d):g;case "d":return c?ZA(g.hh,"d",g,c,d):g;case "b":return ZA("~","b",g,c,d);case "'":return a.Zd?(b={},c=ZA("~#","'","",!0,d),b[c]=aB(a,g,!1,d),d=b):d=[ZA("~#","'","",!0,d),aB(a,g,!1,d)],d;case "array":return $A(a,g,d);case "map":return eB(a,g,d);default:a:{if(1===f.length){if("string"===typeof g){d=ZA("~",f,g,c,d);break a}if(c||a.we){(a=a.Zd&&new MA)?(f=a.tag(b),g=a.za(b,a)):g=e.za(b,e);if(null!==g){d=ZA("~",f,g,c,d);break a}d=Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,ja:g,
tf:b};throw d;}}b=f;c=g;a.Zd?(g={},g[ZA("~#",b,"",!0,d)]=aB(a,c,!1,d),d=g):d=[ZA("~#",b,"",!0,d),aB(a,c,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={tf:b,type:d},a;}function fB(a,b){a=a.Ib(b)||(a.Ld?a.Ld(b,a.handlers):null);if(null!=a)return 1===a.tag(b).length?Yz("'",b):b;a=(null==b?null:b.constructor).name;var c=Error("Cannot write "+a);c.data={tf:b,type:a};throw c;}
function gB(a,b){this.ud=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new sA}gB.prototype.Tg=function(){return this.ud};gB.prototype.marshaller=gB.prototype.Tg;gB.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.ud.Zd?!1:this.cache;!1===c.marshalTop?a=aB(this.ud,a,b,d):(c=this.ud,a=JSON.stringify(aB(c,fB(c,a),b,d)));null!=this.cache&&this.cache.clear();return a};gB.prototype.write=gB.prototype.write;
gB.prototype.register=function(a,b){this.ud.handlers.set(a,b)};gB.prototype.register=gB.prototype.register;function hB(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new yA(b),new zA(a,b);throw Error("Cannot create reader of type "+a);}function iB(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new YA(b),new gB(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};Rj.prototype.I=function(a,b){return b instanceof Rj?this.Bc===b.Bc:b instanceof dA?this.Bc===b.toString():!1};Gb.prototype.I=function(a,b){return this.equiv(b)};dA.prototype.I=function(a,b){return b instanceof Rj?fd(b,this):this.equiv(b)};Xz.prototype.I=function(a,b){return this.equiv(b)};Gb.prototype.Oe=r;Gb.prototype.aa=function(){return Uz(this)};dA.prototype.Oe=r;dA.prototype.aa=function(){return Ud(this.toString())};Xz.prototype.Oe=r;Xz.prototype.aa=function(){return Uz(this)};
dA.prototype.oa=r;dA.prototype.T=function(a,b){return pd(b,['#uuid "',B.h(this.toString()),'"'].join(""))};function jB(a,b){for(var c=E(Va(b)),d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f);a[g]=b[g];f+=1}else if(c=E(c))d=c,Te(d)?(c=Bd(d),f=Cd(d),d=c,e=N(c),c=f):(c=G(d),a[c]=b[c],c=J(d),d=null,e=0),f=0;else break;return a}function kB(){}kB.prototype.init=function(){return vd(Z)};kB.prototype.add=function(a,b,c){return yd(a,b,c)};kB.prototype.finalize=function(a){return xd(a)};
kB.prototype.Uc=function(a){return Dh.call(null,a)};function lB(){}lB.prototype.init=function(){return vd(Be)};lB.prototype.add=function(a,b){return If.j(a,b)};lB.prototype.finalize=function(a){return xd(a)};lB.prototype.Uc=function(a){return ah.call(null,a)};
function mB(a,b){a=vf(a);b=jB({handlers:vj(wi.w(R([new v(null,6,["$",function(){return function(a){return Xd.h(a)}}(a),":",function(){return function(a){return uf.h(a)}}(a),"set",function(){return function(a){return Dg.j(Fi,a)}}(a),"list",function(){return function(a){return Dg.j($d,a.reverse())}}(a),"cmap",function(){return function(a){for(var b=0,c=vd(Z);;)if(b<a.length){var f=b+2;c=yd(c,a[b],a[b+1]);b=f}else return xd(c)}}(a),"with-meta",function(){return function(a){return Je(a[0],a[1])}}(a)],
null),qm.h(b)]))),mapBuilder:new kB,arrayBuilder:new lB,prefersStrings:!1},vj(Fe.j(b,qm)));return hB(a,b)}function nB(){}nB.prototype.tag=function(){return":"};nB.prototype.ja=function(a){return a.Ma};nB.prototype.za=function(a){return a.Ma};function oB(){}oB.prototype.tag=function(){return"$"};oB.prototype.ja=function(a){return a.Gb};oB.prototype.za=function(a){return a.Gb};function pB(){}pB.prototype.tag=function(){return"list"};
pB.prototype.ja=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Te(c)?(a=Bd(c),e=Cd(c),c=a,d=N(a),a=e):(a=G(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return Yz("array",b)};pB.prototype.za=function(){return null};function qB(){}qB.prototype.tag=function(){return"map"};qB.prototype.ja=function(a){return a};qB.prototype.za=function(){return null};function rB(){}rB.prototype.tag=function(){return"set"};
rB.prototype.ja=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Te(c)?(a=Bd(c),e=Cd(c),c=a,d=N(a),a=e):(a=G(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return Yz("array",b)};rB.prototype.za=function(){return null};function sB(){}sB.prototype.tag=function(){return"array"};
sB.prototype.ja=function(a){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Te(c)?(a=Bd(c),e=Cd(c),c=a,d=N(a),a=e):(a=G(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};sB.prototype.za=function(){return null};function tB(){}tB.prototype.tag=function(){return"u"};tB.prototype.ja=function(a){return a.Bc};tB.prototype.za=function(a){return this.ja(a)};function uB(a,b){this.value=a;this.meta=b}function vB(){}vB.prototype.tag=function(){return"with-meta"};
vB.prototype.ja=function(a){return Yz("array",[a.value,a.meta])};vB.prototype.za=function(){return null};
function wB(a,b){var c=new nB,d=new oB,e=new pB,f=new qB,g=new rB,k=new sB,l=new tB,m=new vB,p=wi.w(R([$h([Yh,sf,v,Vh,mh,F,U,pf,wf,eh,lh,Wh,vi,uB,vh,W,Ce,ve,Di,pi,ti,$g,Gi,Bf,Wd,Rj,Mi,ci],[f,e,f,e,e,e,c,e,e,k,e,e,e,m,e,k,e,e,g,f,e,e,g,e,d,l,e,e]),"undefined"!==typeof Xb&&"undefined"!==typeof Yb&&"undefined"!==typeof sj?Ee([sj,e]):null,"undefined"!==typeof Xb&&"undefined"!==typeof Yb&&"undefined"!==typeof Ag?Ee([Ag,e]):null,"undefined"!==typeof Xb&&"undefined"!==typeof Yb&&"undefined"!==typeof Yg?
Ee([Yg,k]):null,qm.h(b)])),q=vf(a);a=jB({objectBuilder:function(a,b,c,d,e,f,g,k,l,m){return function(p,q,t){return bf(function(){return function(a,b,c){a.push(q.h?q.h(b):q.call(null,b),t.h?t.h(c):t.call(null,c));return a}}(a,b,c,d,e,f,g,k,l,m),["^ "],p)}}(q,c,d,e,f,g,k,l,m,p),handlers:function(){var a=xc(p);a.forEach=function(){return function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=S(f,0);f=S(f,1);a.j?a.j(f,g):a.call(null,f,g);e+=1}else if(b=E(b))Te(b)?(c=Bd(b),b=Cd(b),
g=c,d=N(c),c=g):(c=G(b),g=S(c,0),f=S(c,1),a.j?a.j(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null}}(a,q,c,d,e,f,g,k,l,m,p);return a}(),unpack:function(){return function(a){return a instanceof v?a.o:!1}}(q,c,d,e,f,g,k,l,m,p)},vj(Fe.j(b,qm)));return iB(q,a)};var xB=Wx(function(a,b){return function(a){return function(b){return a.write(b)}}(wB(a,b))}),yB=Wx(function(a,b){return function(a){return function(b){return a.read(b)}}(mB(a,b))});function zB(a,b){this.Ae=Io;this.zg=a;this.pg=b}zB.prototype.wg=r;zB.prototype.Cf=function(a,b){a=xB.j?xB.j(this.Ae,this.zg):xB.call(null,this.Ae,this.zg);return a.h?a.h(b):a.call(null,b)};zB.prototype.Df=function(a,b){a=yB.j?yB.j(this.Ae,this.pg):yB.call(null,this.Ae,this.pg);return a.h?a.h(b):a.call(null,b)};var AB={};Ty();lc();function BB(a,b){if(z(a)){a=vj(a);var c=new v(null,2,[Hm,"canvas",Nl,"vega-lite"],null),d=vl.compile(a);console.log("Vega-lite translates to:");console.log(d);return vegaEmbed(b,a,vj(c)).then(function(a){return function(b){return vegaTooltip.Eh(b.view,a)}}(a,c,d)).catch(function(){return function(a){return console.log(a)}}(a,c,d))}return null}
function CB(a,b){if(z(a)){a=vj(a);var c=new v(null,2,[Hm,"canvas",Nl,"vega"],null);return vegaEmbed(b,a,vj(c)).then(function(a){return function(b){return vegaTooltip.vega(b.view,a)}}(a,c)).catch(function(){return function(a){return console.log(a)}}(a,c))}return null}function DB(a){return hr(new v(null,4,[lo,"vega-lite",Hl,function(b){return BB(a,Zr(b))},vm,function(a,c){S(c,0);c=S(c,1);return BB(c,Zr(a))},kn,function(){return new W(null,1,5,X,[Ql],null)}],null))}
function EB(a){return hr(new v(null,4,[lo,"vega",Hl,function(b){return CB(a,Zr(b))},vm,function(a,c){S(c,0);c=S(c,1);return CB(c,Zr(a))},kn,function(){return new W(null,1,5,X,[Ql],null)}],null))}
function FB(a){return mr(function(a){return z(function(){var b=Ne(a);if(b){b=G(a);var d=new Di(null,new v(null,2,[oo,null,Bp,null],null),null);return d.h?d.h(b):d.call(null,b)}return b}())?new W(null,2,5,X,[function(){var b=G(a);b=b instanceof U?b.Ma:null;switch(b){case "vega":return EB;case "vega-lite":return DB;default:throw Error(["No matching clause: ",B.h(b)].join(""));}}(),uc.j(wi,Zd(a))],null):a},a)};var GB={};Ty();lc();if("undefined"===typeof AB||"undefined"===typeof GB||"undefined"===typeof HB){var HB;HB=Hq.h(new v(null,2,[Ip,"Pay no attention to the man behind the curtain!",co,null],null))}
var IB=function(){var a=Z,b=Z,c=function(){try{var a=new Di(null,new v(null,1,[Io,null],null),null);var b=Hi.h?Hi.h(a):Hi.call(null,a);var c=Ze(b,Io);return z(c)?null:ax}catch(g){if(g instanceof Error)return g;throw g;}}();null!=c&&bx(!0,"taoensso.sente.packers.transit",102,"([:el #{:json}] transit-fmt)",Io,c);(function(){try{var b=Qe(a)?null:ax}catch(e){if(e instanceof Error)b=e;else throw e;}return null==b?!0:bx(!0,"taoensso.sente.packers.transit",103,"(map? writer-opts)",a,b)})();(function(){try{var a=
Qe(b)?null:ax}catch(e){if(e instanceof Error)a=e;else throw e;}return null==a?!0:bx(!0,"taoensso.sente.packers.transit",103,"(map? reader-opts)",b,a)})();return new zB(a,b)}(),JB=function(a,b){var c=S(b,0),d=null!=c&&(c.v&64||r===c.ha)?Pf(ri,c):c,e=D.j(d,Uo),f=D.l(d,bk,jy.w(R([Ml,20]))),g=D.l(d,Ek,function(){var a=zk.h(d);return z(a)?a:iy()}()),k=D.j(d,Tk),l=D.l(d,pl,Qn),m=D.j(d,Ul),p=D.l(d,am,mp),q=D.j(d,bn),t=D.l(d,un,xs(2048)),u=D.l(d,ln,xx),w=D.l(d,ho,!0),x=S(b,1),y=function(){try{return z(function(){return function(){return function(a){var b=
new Di(null,new v(null,3,[tk,null,km,null,mp,null],null),null);b=Hi.h?Hi.h(b):Hi.call(null,b);return Ze(b,a)}}(b,c,d,d,e,f,g,k,l,m,p,q,t,u,w,x)(p)}())?null:ax}catch(da){if(da instanceof Error)return da;throw da;}}();null!=y&&bx(!0,"taoensso.sente",1411,"([:in #{:ws :ajax :auto}] type)",p,y);try{var L="string"!==typeof g||ya(Da(g))?ax:null}catch(da){if(da instanceof Error)L=da;else throw da;}null!=L&&bx(!0,"taoensso.sente",1412,"(enc/nblank-str? client-id)",g,L);null!=x&&ez(rl,"taoensso.sente",1414,
new nj(function(){return function(){return new W(null,1,5,X,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}}(b,c,d,d,e,f,g,k,l,m,p,q,t,u,w,x)),805154032);Ze(d,ao)&&ez(rl,"taoensso.sente",1415,new nj(function(){return function(){return new W(null,1,5,X,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}}(b,c,d,d,e,f,g,k,l,m,p,q,t,u,w,x)),856529758);var H=oz(l),P=function(){if(z(yx)){var b=yx.location;var c=z(b)?new v(null,7,[vp,b.href,Tk,b.protocol,jm,
b.hostname,bn,b.host,dl,b.pathname,Bm,b.search,Dk,b.hash],null):null}else c=null;b=z(a)?a:dl.h(c);var e=Vn.h(d);if(z(e))return new W(null,2,5,X,[e.l?e.l(b,c,tk):e.call(null,b,c,tk),e.l?e.l(b,c,km):e.call(null,b,c,km)],null);z(k)?e=k:(e=Tk.h(c),e=z(e)?e:go);c=z(q)?q:bn.h(c);return new W(null,2,5,X,[Jz(e,c,b,tk),Jz(e,c,b,km)],null)}(),Ca=S(P,0),ua=S(P,1),I=new v(null,3,[Pm,lt(xs(128),null),im,lt(xs(10),null),Fp,function(){var a=xs(512);return z(w)?kt(a,wg.h(function(){return function(a){return new W(null,
2,5,X,[xk,a],null)}}(a,H,P,Ca,ua,b,c,d,d,e,f,g,k,l,m,p,q,t,u,w,x))):lt(a,null)}()],null),ca=new v(null,5,[Ek,g,ql,I,Ul,m,pl,H,bk,f],null),Y=wi.w(R([ca,new v(null,2,[Wn,Ca,ln,u],null)])),Q=wi.w(R([ca,new v(null,3,[Wn,ua,Uo,e,ln,u],null)])),ta=new v(null,2,[fl,Y,Hp,Q],null);y=pz(function(){var a=p instanceof U?p.Ma:null;switch(a){case "ws":return Ez(Y);case "ajax":return Hz(Q);case "auto":a=wi.w(R([new v(null,2,[Cp,rg(new v(null,3,[am,mp,Kn,!1,Dn,!1],null)),uk,rg(null)],null),ta]));var b=Fe.w(a,fl,
R([Hp,Cp,uk]));b=Re(a)?Dg.j(Z,b):b;return new Iz(fl.h(a),Hp.h(a),Cp.h(a),uk.h(a),null,Tf(b),null);default:throw Error(["No matching clause: ",B.h(a)].join(""));}}());if(z(y)){var wa=Cp.h(y),za=Pm.h(I);L=og.j(sz,y);var ma=vt(new W(null,3,5,X,[Pm.h(I),im.h(I),Fp.h(I)],null),t);I=kt(1,wg.h(function(a,b,c){return function(d){var e=iz(d);d=z(e)?new W(null,2,5,X,[rm,d],null):d;e=S(d,0);var f=S(d,1);return new v(null,6,[Bk,b,Eo,c,im,a,gn,d,Hn,e,no,f],null)}}(wa,za,L,ma,y,y,H,P,Ca,ua,I,ca,Y,Q,ta,y,b,c,d,
d,e,f,g,k,l,m,p,q,t,u,w,x)));st(ma,I);return new v(null,4,[uo,y,Bk,I,Eo,L,im,Cp.h(y)],null)}return ez(rl,"taoensso.sente",1503,new nj(function(){return function(){return new W(null,1,5,X,["Failed to create channel socket"],null)}}(y,H,P,Ca,ua,I,ca,Y,Q,ta,y,b,c,d,d,e,f,g,k,l,m,p,q,t,u,w,x)),-943918564)}("/chsk",R([new v(null,2,[am,mp,pl,IB],null)])),KB=null!=JB&&(JB.v&64||r===JB.ha)?Pf(ri,JB):JB;D.j(KB,uo);var LB=D.j(KB,Bk);D.j(KB,Eo);D.j(KB,im);
if("undefined"===typeof AB||"undefined"===typeof GB||"undefined"===typeof MB){var MB,NB=rg(Z),OB=rg(Z),PB=rg(Z),QB=rg(Z),RB=D.l(Z,Zo,Cj.F?Cj.F():Cj.call(null));MB=new Nj(Xd.j("oz.app","-event-msg-handler"),Hn,RB,NB,OB,PB,QB)}Qj(MB,Oj,function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,gn);return ez(fm,"oz.app",40,new nj(function(a,b,c,g){return function(){return new W(null,2,5,X,["Unhandled event: %s",g],null)}}(a,b,b,c)),-1812578205)});
Qj(MB,dm,function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,no),d=function(){try{var a=Se(c)?null:ax}catch(k){if(k instanceof Error)a=k;else throw k;}return null==a?c:bx(!0,"oz.app",44,"(vector? ?data)",c,a)}(),e=S(d,0),f=S(d,1);return z(nk.h(f))?ez(fm,"oz.app",46,new nj(function(a,b,c,d,e,f,t){return function(){return new W(null,2,5,X,["Channel socket successfully established!: %s",t],null)}}(d,e,f,a,b,b,c)),1695336167):ez(fm,"oz.app",47,new nj(function(a,b,c,d,e,f,t){return function(){return new W(null,
2,5,X,["Channel socket state change: %s",t],null)}}(d,e,f,a,b,b,c)),-1116358013)});Qj(MB,xp,function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,no),d=S(c,0),e=S(c,1),f=S(c,2);return ez(fm,"oz.app",52,new nj(function(a,b,c,d,e,f,t,u){return function(){return new W(null,2,5,X,["Handshake: %s",u],null)}}(c,d,e,f,a,b,b,c)),389201816)});
Qj(MB,xk,function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,no),d=S(c,0),e=S(c,1),f=d instanceof U?d.Ma:null;switch(f){case "oz.core/view-spec":return tg.H(HB,T,co,e);default:return ez(fm,"oz.app",63,new nj(function(a,b,c,d,e,f,t,u,w){return function(){return new W(null,2,5,X,["Push event from server: %s",w],null)}}(d,f,c,d,e,a,b,b,c)),1209433955)}});var SB=rg(null);
(function(a){var b=document.getElementById("app");Eq();Xr(function(){return Or(Ge(a)?a.F?a.F():a.call(null):a)},b)})(new W(null,2,5,X,[function(a){a=co.h(C(a));return z(a)?new W(null,2,5,X,[FB,a],null):new W(null,3,5,X,[Ym,new W(null,2,5,X,[Oo,"Waiting for first spec to load..."],null),new W(null,4,5,X,[np,"This may take a second the first time if you call a plot function, unless you first call ",new W(null,2,5,X,[Xn,rf(Mm)],null),"."],null)],null)},HB],null));var TB=C(SB);z(TB)&&(TB.F?TB.F():TB.call(null));
sg(SB,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=arguments[0];d=arguments[1];b=S(2<b.length?new F(b.slice(2),0,null):null,0);b=null!=b&&(b.v&64||r===b.ha)?Pf(ri,b):b;D.j(b,nl);D.j(b,Rm);return Kz(c,d,b)}(LB,function(a){var b=null!=a&&(a.v&64||r===a.ha)?Pf(ri,a):a,c=D.j(b,Hn),d=D.j(b,no),e=D.j(b,gn);ez(fm,"oz.app",35,new nj(function(a,b,c,d,e,p){return function(){return new W(null,2,5,X,["Event: %s",p],null)}}(a,b,b,c,d,e)),-539610455);Be;return MB.h?
MB.h(b):MB.call(null,b)}));
})();
